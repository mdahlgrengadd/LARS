{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 0d93206b6f826abc55be","webpack:///./src/index_sequencer.js","webpack:///index.js","webpack:///loader.js","webpack:///./~/babel-runtime/core-js/promise.js","webpack:///./~/core-js/library/fn/promise.js","webpack:///./~/core-js/library/modules/es6.string.iterator.js","webpack:///./~/core-js/library/modules/_string-at.js","webpack:///./~/core-js/library/modules/_to-integer.js","webpack:///./~/core-js/library/modules/_defined.js","webpack:///./~/core-js/library/modules/_iter-define.js","webpack:///./~/core-js/library/modules/_library.js","webpack:///./~/core-js/library/modules/_export.js","webpack:///./~/core-js/library/modules/_global.js","webpack:///./~/core-js/library/modules/_core.js","webpack:///./~/core-js/library/modules/_ctx.js","webpack:///./~/core-js/library/modules/_a-function.js","webpack:///./~/core-js/library/modules/_hide.js","webpack:///./~/core-js/library/modules/_object-dp.js","webpack:///./~/core-js/library/modules/_an-object.js","webpack:///./~/core-js/library/modules/_is-object.js","webpack:///./~/core-js/library/modules/_ie8-dom-define.js","webpack:///./~/core-js/library/modules/_descriptors.js","webpack:///./~/core-js/library/modules/_fails.js","webpack:///./~/core-js/library/modules/_dom-create.js","webpack:///./~/core-js/library/modules/_to-primitive.js","webpack:///./~/core-js/library/modules/_property-desc.js","webpack:///./~/core-js/library/modules/_redefine.js","webpack:///./~/core-js/library/modules/_has.js","webpack:///./~/core-js/library/modules/_iterators.js","webpack:///./~/core-js/library/modules/_iter-create.js","webpack:///./~/core-js/library/modules/_object-create.js","webpack:///./~/core-js/library/modules/_object-dps.js","webpack:///./~/core-js/library/modules/_object-keys.js","webpack:///./~/core-js/library/modules/_object-keys-internal.js","webpack:///./~/core-js/library/modules/_to-iobject.js","webpack:///./~/core-js/library/modules/_iobject.js","webpack:///./~/core-js/library/modules/_cof.js","webpack:///./~/core-js/library/modules/_array-includes.js","webpack:///./~/core-js/library/modules/_to-length.js","webpack:///./~/core-js/library/modules/_to-index.js","webpack:///./~/core-js/library/modules/_shared-key.js","webpack:///./~/core-js/library/modules/_shared.js","webpack:///./~/core-js/library/modules/_uid.js","webpack:///./~/core-js/library/modules/_enum-bug-keys.js","webpack:///./~/core-js/library/modules/_html.js","webpack:///./~/core-js/library/modules/_set-to-string-tag.js","webpack:///./~/core-js/library/modules/_wks.js","webpack:///./~/core-js/library/modules/_object-gpo.js","webpack:///./~/core-js/library/modules/_to-object.js","webpack:///./~/core-js/library/modules/web.dom.iterable.js","webpack:///./~/core-js/library/modules/es6.array.iterator.js","webpack:///./~/core-js/library/modules/_add-to-unscopables.js","webpack:///./~/core-js/library/modules/_iter-step.js","webpack:///./~/core-js/library/modules/es6.promise.js","webpack:///./~/core-js/library/modules/_classof.js","webpack:///./~/core-js/library/modules/_an-instance.js","webpack:///./~/core-js/library/modules/_for-of.js","webpack:///./~/core-js/library/modules/_iter-call.js","webpack:///./~/core-js/library/modules/_is-array-iter.js","webpack:///./~/core-js/library/modules/core.get-iterator-method.js","webpack:///./~/core-js/library/modules/_species-constructor.js","webpack:///./~/core-js/library/modules/_task.js","webpack:///./~/core-js/library/modules/_invoke.js","webpack:///./~/core-js/library/modules/_microtask.js","webpack:///./~/core-js/library/modules/_redefine-all.js","webpack:///./~/core-js/library/modules/_set-species.js","webpack:///./~/core-js/library/modules/_iter-detect.js","webpack:///./~/babel-runtime/helpers/classCallCheck.js","webpack:///./~/babel-runtime/helpers/createClass.js","webpack:///./~/babel-runtime/core-js/object/define-property.js","webpack:///./~/core-js/library/fn/object/define-property.js","webpack:///./~/core-js/library/modules/es6.object.define-property.js","webpack:///audio-buffer-loader.js","webpack:///./~/babel-runtime/core-js/object/get-prototype-of.js","webpack:///./~/core-js/library/fn/object/get-prototype-of.js","webpack:///./~/core-js/library/modules/es6.object.get-prototype-of.js","webpack:///./~/core-js/library/modules/_object-sap.js","webpack:///./~/babel-runtime/helpers/possibleConstructorReturn.js","webpack:///./~/babel-runtime/helpers/typeof.js","webpack:///./~/babel-runtime/core-js/symbol/iterator.js","webpack:///./~/core-js/library/fn/symbol/iterator.js","webpack:///./~/core-js/library/modules/_wks-ext.js","webpack:///./~/babel-runtime/core-js/symbol.js","webpack:///./~/core-js/library/fn/symbol/index.js","webpack:///./~/core-js/library/modules/es6.symbol.js","webpack:///./~/core-js/library/modules/_meta.js","webpack:///./~/core-js/library/modules/_wks-define.js","webpack:///./~/core-js/library/modules/_keyof.js","webpack:///./~/core-js/library/modules/_enum-keys.js","webpack:///./~/core-js/library/modules/_object-gops.js","webpack:///./~/core-js/library/modules/_object-pie.js","webpack:///./~/core-js/library/modules/_is-array.js","webpack:///./~/core-js/library/modules/_object-gopn-ext.js","webpack:///./~/core-js/library/modules/_object-gopn.js","webpack:///./~/core-js/library/modules/_object-gopd.js","webpack:///./~/core-js/library/modules/es7.symbol.async-iterator.js","webpack:///./~/core-js/library/modules/es7.symbol.observable.js","webpack:///./~/babel-runtime/helpers/get.js","webpack:///./~/babel-runtime/core-js/object/get-own-property-descriptor.js","webpack:///./~/core-js/library/fn/object/get-own-property-descriptor.js","webpack:///./~/core-js/library/modules/es6.object.get-own-property-descriptor.js","webpack:///./~/babel-runtime/helpers/inherits.js","webpack:///./~/babel-runtime/core-js/object/set-prototype-of.js","webpack:///./~/core-js/library/fn/object/set-prototype-of.js","webpack:///./~/core-js/library/modules/es6.object.set-prototype-of.js","webpack:///./~/core-js/library/modules/_set-proto.js","webpack:///./~/babel-runtime/core-js/object/create.js","webpack:///./~/core-js/library/fn/object/create.js","webpack:///./~/core-js/library/modules/es6.object.create.js","webpack:///super-loader.js","webpack:///./~/wavesurfer.js/dist/wavesurfer.min.js","webpack:///(webpack)/buildin/module.js","webpack:///./src/backend_granular_player.js","webpack:///./src/webaudio_subclassed.js","webpack:///audio-context.js","webpack:///time-engine.js","webpack:///audio-time-engine.js","webpack:///priority-queue.js","webpack:///scheduling-queue.js","webpack:///./~/babel-runtime/core-js/set.js","webpack:///./~/core-js/library/fn/set.js","webpack:///./~/core-js/library/modules/es6.set.js","webpack:///./~/core-js/library/modules/_collection-strong.js","webpack:///./~/core-js/library/modules/_collection.js","webpack:///./~/core-js/library/modules/_array-methods.js","webpack:///./~/core-js/library/modules/_array-species-create.js","webpack:///./~/core-js/library/modules/_array-species-constructor.js","webpack:///./~/core-js/library/modules/es7.set.to-json.js","webpack:///./~/core-js/library/modules/_collection-to-json.js","webpack:///./~/core-js/library/modules/_array-from-iterable.js","webpack:///granular-engine.js","webpack:///metronome.js","webpack:///player-engine.js","webpack:///segment-engine.js","webpack:///play-control.js","webpack:///factories.js","webpack:///./~/babel-runtime/core-js/weak-map.js","webpack:///./~/core-js/library/fn/weak-map.js","webpack:///./~/core-js/library/modules/es6.weak-map.js","webpack:///./~/core-js/library/modules/_object-assign.js","webpack:///./~/core-js/library/modules/_collection-weak.js","webpack:///scheduler.js","webpack:///./~/debug/src/browser.js","webpack:///./~/process/browser.js","webpack:///./~/debug/src/debug.js","webpack:///./~/ms/index.js","webpack:///simple-scheduler.js","webpack:///transport.js","webpack:///./~/babel-runtime/core-js/get-iterator.js","webpack:///./~/core-js/library/fn/get-iterator.js","webpack:///./~/core-js/library/modules/core.get-iterator.js","webpack:///./~/wavesurfer.js/src/webaudio.js","webpack:///./~/wavesurfer.js/src/util/index.js","webpack:///./~/wavesurfer.js/src/util/ajax.js","webpack:///./~/wavesurfer.js/src/util/observer.js","webpack:///./~/wavesurfer.js/src/util/get-id.js","webpack:///./~/wavesurfer.js/src/util/max.js","webpack:///./~/wavesurfer.js/src/util/min.js","webpack:///./~/wavesurfer.js/src/util/extend.js","webpack:///./~/wavesurfer.js/src/util/style.js","webpack:///./~/debounce/index.js","webpack:///./src/backend_segment_player.js","webpack:///./src/webaudio_segment_player_noPlayControl.js","webpack:///../waves-audio/src/index.js","webpack:///../waves-audio/src/core/audio-context.js","webpack:///../waves-audio/src/core/time-engine.js","webpack:///../waves-audio/src/core/audio-time-engine.js","webpack:///../waves-audio/src/core/priority-queue.js","webpack:///../waves-audio/src/core/scheduling-queue.js","webpack:///../waves-audio/src/engines/granular-engine.js","webpack:///../waves-audio/src/engines/metronome.js","webpack:///../waves-audio/src/engines/player-engine.js","webpack:///../waves-audio/src/engines/segment-engine.js","webpack:///../waves-audio/src/engines/sequencer-engine.js","webpack:///../waves-audio/src/masters/play-control.js","webpack:///../waves-audio/src/masters/factories.js","webpack:///../waves-audio/src/masters/scheduler.js","webpack:///../waves-audio/~/debug/src/browser.js","webpack:///../waves-audio/~/debug/src/debug.js","webpack:///../waves-audio/~/ms/index.js","webpack:///../waves-audio/src/masters/simple-scheduler.js","webpack:///../waves-audio/src/masters/transport.js"],"names":["wavesLoaders","wavesAudio","globalTransporter","Transport","globalPlayControl","PlayControl","Modulo","num","mod","globalTransportedEngines","document","addEventListener","button1","querySelector","button2","loader","SuperLoader","assets","r","createElement","setAttribute","min","max","step","value","getElementById","appendChild","load","then","jsonfiles","console","log","sequenceData","sequencer","SequencerEngine","buffer","audioContext","createBuffer","positionArray","time","durationArray","duration","offsetArray","offset","cyclic","callback","seqIndex","identifier","pos","currentPosition","rand","Math","floor","random","transportedObject1","setBoundaries","transportedObject2","transportedObject3","add","jsonitem","waveform","demo","wavesurfer","create","container","plugins","transport","playctrl","json","fname","file_metadata","identifiers","url","on","engine","backend","getTransported","transportedObject","advancePosition","position","speed","__offsetPosition","__engine","__endPosition","__startPosition","bind","push","x","insertBefore","oninput","setVolume","transportedEngine","resampling","slider","playBackRate","Number","seek","loop","setLoopBoundaries","start","stop","module","exports","require","__esModule","Promise","$at","String","iterated","_t","_i","O","index","point","length","undefined","done","toInteger","defined","TO_STRING","that","s","i","l","a","b","charCodeAt","charAt","slice","ceil","it","isNaN","TypeError","LIBRARY","$export","redefine","hide","has","Iterators","$iterCreate","setToStringTag","getPrototypeOf","ITERATOR","BUGGY","keys","FF_ITERATOR","KEYS","VALUES","returnThis","Base","NAME","Constructor","next","DEFAULT","IS_SET","FORCED","getMethod","kind","proto","values","entries","TAG","DEF_VALUES","VALUES_BUG","prototype","$native","$default","$entries","$anyNative","methods","key","IteratorPrototype","call","Object","name","P","F","global","core","ctx","PROTOTYPE","type","source","IS_FORCED","IS_GLOBAL","G","IS_STATIC","S","IS_PROTO","IS_BIND","B","IS_WRAP","W","expProto","target","own","out","C","c","arguments","apply","Function","virtual","R","U","window","self","__g","version","__e","aFunction","fn","dP","createDesc","object","f","anObject","IE8_DOM_DEFINE","toPrimitive","defineProperty","Attributes","e","isObject","get","exec","is","val","toString","valueOf","bitmap","enumerable","configurable","writable","hasOwnProperty","descriptor","dPs","enumBugKeys","IE_PROTO","Empty","createDict","iframe","lt","gt","iframeDocument","style","display","src","contentWindow","open","write","close","Properties","result","getKeys","defineProperties","$keys","toIObject","arrayIndexOf","names","IObject","cof","propertyIsEnumerable","split","toLength","toIndex","IS_INCLUDES","$this","el","fromIndex","shared","uid","SHARED","store","id","px","concat","documentElement","def","tag","stat","Symbol","USE_SYMBOL","$exports","toObject","ObjectProto","constructor","TO_STRING_TAG","collections","Collection","Array","addToUnscopables","_k","Arguments","classof","anInstance","forOf","speciesConstructor","task","set","microtask","PROMISE","process","$Promise","isNode","empty","Internal","GenericPromiseCapability","Wrapper","USE_NATIVE","promise","resolve","FakePromise","PromiseRejectionEvent","sameConstructor","isThenable","newPromiseCapability","PromiseCapability","reject","$$resolve","$$reject","perform","error","notify","isReject","_n","chain","_c","_v","ok","_s","run","reaction","handler","fail","domain","_h","onHandleUnhandled","enter","exit","onUnhandled","abrupt","isUnhandled","emit","onunhandledrejection","reason","_a","onrejectionhandled","$reject","_d","_w","$resolve","wrapper","executor","err","onFulfilled","onRejected","capability","iter","all","iterable","remaining","$index","alreadyCalled","race","ARG","tryGet","T","callee","forbiddenField","isArrayIter","getIterFn","BREAK","RETURN","iterFn","iterator","ret","ArrayProto","getIteratorMethod","SPECIES","D","invoke","html","cel","setTask","setImmediate","clearTask","clearImmediate","MessageChannel","counter","queue","ONREADYSTATECHANGE","defer","channel","port","listener","event","data","args","nextTick","port2","port1","onmessage","postMessage","importScripts","removeChild","setTimeout","clear","un","macrotask","Observer","MutationObserver","WebKitMutationObserver","head","last","flush","parent","toggle","node","createTextNode","observe","characterData","safe","DESCRIPTORS","KEY","SAFE_CLOSING","riter","from","skipClosing","arr","default","instance","_defineProperty","_defineProperty2","_interopRequireDefault","obj","props","protoProps","staticProps","$Object","desc","$getPrototypeOf","fails","exp","_typeof2","_typeof3","ReferenceError","_iterator","_iterator2","_symbol","_symbol2","_typeof","META","$fails","wks","wksExt","wksDefine","keyOf","enumKeys","isArray","_create","gOPNExt","$GOPD","$DP","gOPD","gOPN","$Symbol","$JSON","JSON","_stringify","stringify","HIDDEN","TO_PRIMITIVE","isEnum","SymbolRegistry","AllSymbols","OPSymbols","QObject","setter","findChild","setSymbolDesc","protoDesc","wrap","sym","isSymbol","$defineProperty","$defineProperties","$create","$propertyIsEnumerable","E","$getOwnPropertyDescriptor","getOwnPropertyDescriptor","$getOwnPropertyNames","getOwnPropertyNames","$getOwnPropertySymbols","getOwnPropertySymbols","IS_OP","$set","symbols","keyFor","useSetter","useSimple","replacer","$replacer","setDesc","isExtensible","FREEZE","preventExtensions","setMeta","w","fastKey","getWeak","onFreeze","meta","NEED","gOPS","pIE","getSymbols","arg","windowNames","getWindowNames","hiddenKeys","_getPrototypeOf","_getPrototypeOf2","_getOwnPropertyDescriptor","_getOwnPropertyDescriptor2","property","receiver","getter","_setPrototypeOf","_setPrototypeOf2","_create2","subClass","superClass","__proto__","setPrototypeOf","check","test","buggy","t","WaveSurfer","n","m","d","o","p","u","h","offlineAudioContext","stateBehaviors","init","addOnAudioProcess","getPlayedPercents","getDuration","getCurrentTime","startPosition","getPlayedTime","removeOnAudioProcess","fireEvent","params","ac","getAudioContext","lastPlay","currentTime","scheduledPause","states","analyser","filters","gainNode","mergedPeaks","offlineAc","peaks","playbackRate","scriptNode","splitPeaks","state","AudioContext","webkitAudioContext","WaveSurferAudioContext","WaveSurferOfflineAudioContext","OfflineAudioContext","webkitOfflineAudioContext","createVolumeNode","createScriptNode","createAnalyserNode","setState","setPlaybackRate","audioRate","setLength","forEach","disconnect","connect","setFilters","disconnectFilters","reduce","createScriptProcessor","scriptBufferSize","createJavaScriptNode","destination","onaudioprocess","pause","createAnalyser","createGain","createGainNode","gain","getOfflineAudioContext","sampleRate","decodeAudioData","numberOfChannels","getChannelData","v","splitChannels","isPaused","unAll","disconnectSource","closeAudioContext","createSource","createBufferSource","noteGrainOn","noteOff","end","seekTo","resume","play","handlers","splice","maxCanvasWidth","maxCanvasElementWidth","round","pixelRatio","hasProgressCanvas","waveColor","progressColor","halfPixel","canvases","progressWave","createWrapper","createElements","zIndex","left","top","bottom","overflow","width","boxSizing","borderRightStyle","borderRightWidth","cursorWidth","borderRightColor","cursorColor","addCanvas","removeCanvas","updateDimensions","height","clearWaveForEntry","wave","waveCtx","getContext","progress","progressCtx","pop","parentElement","canvas","offsetLeft","clearRect","setHeight","drawBars","some","barWidth","y","normalize","k","g","fillRect","drawWave","drawLine","setFillStyles","drawLineToContext","fillParent","beginPath","moveTo","lineTo","closePath","fill","x1","y1","x2","y2","fillRectToContext","fillStyle","map","toDataURL","media","paused","mediaType","toLowerCase","elementPosition","onPlayEnd","createTimer","requestAnimationFrame","webkitRequestAnimationFrame","controls","mediaControls","autoplay","preload","_load","seekable","clearPlayEnd","setPlayEnd","_onPlayEnd","volume","parentNode","clearPeakCache","peakCacheRanges","peakCacheLength","filter","sort","lastPos","userSelect","webkitUserSelect","scrollParent","overflowX","hideScrollbar","overflowY","setupWrapperEvents","preventDefault","targetTouches","clientX","getBoundingClientRect","getWidth","scrollLeft","scrollWidth","offsetHeight","clientHeight","clientY","interact","handleEvent","setWidth","recenterOnPosition","clientWidth","updateSize","autoCenter","updateProgress","XMLHttpRequest","method","responseType","lengthComputable","loaded","total","status","response","send","xhr","substring","defaultParams","dragSelection","forceDecode","loopSelection","mediaContainer","minPxPerSec","partialRender","devicePixelRatio","screen","deviceXDPI","logicalXDPI","renderer","responsive","skipLength","backends","MediaElement","WebAudio","util","extend","Error","savedVolume","isMuted","tmpEvents","currentAjax","arraybuffer","drawer","peakCache","Drawer","Backend","initialisedPluginList","isDestroyed","isReady","_onResize","debounce","drawBuffer","registerPlugins","createDrawer","createBackend","createPeakCache","addPlugin","deferInit","initPlugin","destroyPlugin","destroy","supportsWebAudio","skip","seekAndCenter","recenter","getVolume","getPlaybackRate","setMute","getScrollX","addRangeToPeakCache","getPeaks","drawPeaks","decodeArrayBuffer","loadDecodedBuffer","FileReader","onProgress","loadArrayBuffer","readAsArrayBuffer","loadBuffer","loadMediaElement","once","getArrayBuffer","setPeaks","loadElt","ajax","statusText","encodeURIComponent","getImage","abort","cancelAjax","clearTmpEvents","destroyAllPlugins","removeEventListener","Date","now","clearTimeout","webpackPolyfill","deprecate","paths","children","BackendPlugin","ws","PLAYING","PAUSED","FINISHED","MyWebAudio","my","playControl","setupGranular","scheduler","getScheduler","scheduledGranularEngine","GranularEngine","periodAbs","periodRel","periodVar","positionVar","durationAbs","durationRel","attackAbs","attackRel","releaseAbs","releaseRel","releaseShape","expRampOffset","resamplingVar","centered","doLoop","adjustedTime","Set","strong","redefineAll","$iterDefine","setSpecies","SIZE","getEntry","entry","_f","getConstructor","IS_MAP","ADDER","_l","prev","callbackfn","setStrong","each","common","IS_WEAK","IS_ADDER","size","asc","TYPE","IS_FILTER","IS_SOME","IS_EVERY","IS_FIND_INDEX","NO_HOLES","res","original","toJSON","WeakMap","assign","weak","uncaughtFrozenStore","ufstore","tmp","InternalMap","$WeakMap","freeze","$assign","A","K","join","aLen","j","createArrayMethod","$has","arrayFind","arrayFindIndex","UncaughtFrozenStore","findUncaughtFrozen","formatArgs","save","useColors","storage","chrome","local","localstorage","colors","WebkitAppearance","firebug","exception","table","navigator","userAgent","match","parseInt","RegExp","$1","formatters","message","namespace","humanize","diff","color","lastC","replace","namespaces","removeItem","debug","env","DEBUG","enable","localStorage","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","runClearTimeout","marker","draining","currentQueue","queueIndex","cleanUpNextTick","drainQueue","timeout","len","Item","array","title","browser","argv","versions","noop","addListener","off","removeListener","removeAllListeners","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","createDebug","coerce","disable","enabled","skips","prevTime","selectColor","hash","abs","curr","ms","unshift","format","formatter","logFn","substr","stack","options","parse","long","fmtLong","fmtShort","str","parseFloat","plural","getIterator","errback","channels","first","sampleSize","sampleStep","chan","fired100","getId","largest","Infinity","smallest","dest","sources","styles","prop","func","wait","immediate","context","timestamp","later","debounced","callNow","setupPluginDOM","setMasterTransport","setMasterPlayControl","loadFromJson","_WRAP_SEGMENTENGINE_IN_PLAYCONTROL","segmentDescriptions","newSegments","segments","seg","SegmentEngine","polyCutoff","cutoffTime","polyEndvol","setupSegmentPlayer","master","control","part","_headroom","_duration","toFixed","transportedObj","currentPart","getSimpleScheduler","dummy","TimeEngine","outputNode","resetEngineTime","resetEnginePosition","advanceTime","syncPosition","syncSpeed","AudioTimeEngine","connection","swap","i1","i2","indexOf","_isLowerMaxHeap","time1","time2","_isLowerMinHeap","_isHigherMaxHeap","_isHigherMinHeap","POSITIVE_INFINITY","PriorityQueue","heapLength","_currentLength","_heap","_reverse","reverse","startIndex","parentIndex","_isHigher","queueTime","c1index","c2index","child1","child2","_isLower","targetIndex","maxIndex","_bubbleDown","_bubbleUp","remove","lastIndex","buildHeap","SchedulingQueue","__queue","__engines","nextEngineTime","delete","move","implementsScheduled","nextTime","insert","resetTime","optOrDef","opt","periodMin","attackShape","wrapAroundExtension","trigger","grainTime","grainPeriod","grainPosition","grainDuration","resamplingRate","randomResampling","pow","bufferDuration","cycles","envelope","attack","release","factor","attackEndTime","grainEndTime","releaseStartTime","setValueAtTime","linearRampToValueAtTime","exponentialRampToValueAtTime","Metronome","__period","period","clickFreq","clickAttack","clickRelease","__lastTime","__phase","__gainNode","nextPosition","osc","createOscillator","frequency","phase","PlayerEngine","fadeTime","__time","__position","__speed","__bufferSource","__envNode","__cyclic","loopStart","loopEnd","cancelScheduledValues","lastSpeed","__halt","__start","currentosition","getCurrentOrPreviousIndex","sortedArray","firstVal","lastVal","getCurrentOrNextIndex","offsetAbs","offsetRel","delay","segmentIndex","__cyclicOffset","cyclicOffset","segmentTime","segmentPeriod","prevGain","setTargetAtTime","segmentPosition","segmentDuration","segmentOffset","nextSegmentIndex","nextOffset","interSegmentDistance","segmentEndTime","ESPILON","LoopControl","__playControl","lower","upper","EPSILON","__getTimeAtPosition","__loopStart","__loopEnd","PlayControlled","PlayControlledSpeedControlled","PlayControlledTransported","__schedulerHook","PlayControlledSchedulerHook","resetPosition","__sync","PlayControlledScheduled","__schedulingQueue","PlayControlledSchedulingQueue","__nextPosition","__scheduler","__playControlled","__loopControl","__playingSpeed","__setEngine","implementsSpeedControlled","implementsTransported","__resetEngine","applyLoopBoundaries","reschedule","schedulerMap","simpleSchedulerMap","simpleScheduler","Scheduler","__currentTime","__nextTime","__timeout","lookahead","reset","timeOutDelay","__tick","SimpleScheduler","__schedEngines","__schedTimes","__unscheduleEngine","__scheduleEngine","__resetTick","__rescheduleEngine","addDuplet","firstArray","secondArray","firstElement","secondElement","removeDuplet","Transported","stretch","isFinite","__stretchPosition","__isRunning","TransportedTransported","endPosition","offsetPosition","TransportedSpeedControlled","TransportedScheduled","TransportSchedulerHook","__transport","TransportSchedulingQueue","__transported","__transportedQueue","numTransportedEngines","nextEnginePosition","transported","__syncTransportedPosition","__syncTransportedSpeed","engineOrTransported"],"mappings":"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","file":"lars.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"lars\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"lars\"] = factory();\n\telse\n\t\troot[\"lars\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 0d93206b6f826abc55be\n **/","/* eslint-env browser */\n// 'use strict';\n//import * as wavesAudio from 'waves-audio';\nimport * as wavesLoaders from 'waves-loaders';\n\nimport WaveSurfer from 'wavesurfer.js';\nimport GranularBackend from './backend_granular_player';\nimport SegmentBackend from './backend_segment_player';\n\n//let wavesAudio = require('../waves-audio.umd.js');\nimport * as wavesAudio from '../../waves-audio/src/index';\n\nconst globalTransporter = new wavesAudio.Transport();\nconst globalPlayControl = new wavesAudio.PlayControl(globalTransporter);\nconst Modulo = (num, mod) => ((num % mod) + mod) % mod;\n\nlet globalTransportedEngines = [];\n\n// Init & load audio file\ndocument.addEventListener('DOMContentLoaded', () => {\n    const button1 = document.querySelector('[data-action=\"play1\"]');\n    const button2 = document.querySelector('[data-action=\"stop1\"]');\n\n    const loader = new wavesLoaders.SuperLoader(); // instantiate loader\n\n    const assets = [\n        './assets/piano_v2.json',\n        './assets/footstomps_v2.json',\n        //'./assets/3_4_guitar-loop_v2.json',\n        './assets/strings_v2.json',\n    ];\n\n            /* Resampling Slider */\n            let r = document.createElement(\"INPUT\");\n            r.setAttribute(\"type\", \"range\");\n            r.min = -40;\n            r.max = 40;\n            r.step = 10;\n            r.value = 0;\n            document.getElementById('waveform').appendChild(r);\n\n    // load audio and marker files\n    loader.load(assets).then((jsonfiles) => {\n        console.log(jsonfiles);\n\n        var sequenceData = {\n            \"time\": [0, 6, 12, 18, 24, 30, 36, 42, 48, 54],\n            \"identifier\": [\"Am\", \"G\", \"C\", \"F\", \"Dm\", \"Am\", \"G\", \"C\", \"F\", \"Dm\"],\n            \"duration\": [3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0],\n            \"offset\": [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n        };\n\n        /* Setup Sequencer */\n        let sequencer = new wavesAudio.SequencerEngine({\n            // buffer not used, but requires more changes in source to be able to remove.\n            // perhaps I will use it as a recording sink...\n            buffer: wavesAudio.audioContext.createBuffer(2, 22050, 44100),\n            positionArray: sequenceData.time,\n            durationArray: sequenceData.duration,\n            offsetArray: sequenceData.offset,\n            cyclic: false,\n            callback: function(seqIndex) {\n                // Ok, so right now just outputting random chords,\n                // but this will be controlled by the sequencer in the future...\n                console.log(\"Sequencer says: \" + sequenceData.identifier[seqIndex]); // print sequencer chords, (not what's playing, though)\n                console.log(globalTransportedEngines);\n                let pos = globalTransporter.currentPosition;\n                var rand = Math.floor(Math.random() * 6);\n                let transportedObject1 = globalTransportedEngines[2];\n                transportedObject1.setBoundaries(pos, 6, rand * -12, 1);\n\n                let transportedObject2 = globalTransportedEngines[1];\n                transportedObject2.setBoundaries(pos, 6, 0, 1);\n\n                let transportedObject3 = globalTransportedEngines[0];\n                transportedObject3.setBoundaries(pos, 6, rand * -12, 1);\n\n            }\n\n        });\n\n        globalTransporter.add(sequencer);\n\n\n        /* Add wavesurfer object for each json-file */\n        //let index = 0;\n        for (const jsonitem of jsonfiles) {\n            const waveform = document.createElement('div');\n            const demo = document.getElementById('waveform');\n            demo.appendChild(waveform);\n\n            let wavesurfer = WaveSurfer.create({\n                container: waveform,\n                plugins: [\n\n                    //GranularBackend.create({\n                    SegmentBackend.create({\n                        transport: globalTransporter,\n                        playctrl: globalPlayControl,\n                        json: jsonitem\n                    })\n                ]\n            });\n            console.log(jsonitem);\n            const fname = jsonitem.file_metadata.identifiers.url;\n            console.log('FileName: ' + fname);\n            // \n            wavesurfer.on('ready', () => {\n                console.log('ready');\n\n                //let engine = wavesurfer.backend.getEngine();\n                //let transportedObject = globalTransporter.add(engine, 99999);\n\n\n                let engine = wavesurfer.backend.getTransported();\n                let transportedObject = globalTransporter.add(engine, 99999);\n                console.log(\"adding engine at transport pos 99999\");\n\n                transportedObject.advancePosition = function(time, position, speed) {\n                    position = this.__offsetPosition + this.__engine.advancePosition(time, position - this.__offsetPosition, speed);\n\n                    if (speed > 0 && position < this.__endPosition || speed < 0 && position >= this.__startPosition)\n                        return position;\n\n                    // Returning Infinite causes a halt, again trying a big number instead.\n                    return 99999; //Infinity * speed;\n                }.bind(transportedObject);\n\n                globalTransportedEngines.push(transportedObject);\n\n            });\n\n            wavesurfer.load(fname);\n\n            /* Gain Slider */\n            let x = document.createElement(\"INPUT\");\n            x.setAttribute(\"type\", \"range\");\n            x.min = 0;\n            x.max = 1;\n            x.step = 0.01;\n            x.value = 1;\n            demo.insertBefore(x, waveform);\n            x.oninput = () => {\n                wavesurfer.setVolume(x.value);\n                //wavesurfer.backend.transportedSegmentEngine.polyCutoff = x.value;\n            };\n\n            r.addEventListener(\"mouseup\", function() {\n                wavesurfer.backend.transportedEngine.resampling = r.value;\n                console.log(r.value);\n            }, false);\n\n\n        }\n\n        const slider = document.querySelector('#slider');\n\n        slider.oninput = () => {\n            const playBackRate = Number(slider.value) / 100.0;\n            globalPlayControl.speed = playBackRate * 2;\n            //globalPlayControl.seek(slider.value/10);\n        };\n\n        globalPlayControl.speed = 1.5 * 2;\n        slider.value = globalPlayControl.speed * 100 / 2;\n\n        button1.addEventListener('click', () => {\n\n            globalPlayControl.seek(0);\n            globalPlayControl.loop = true;\n            globalPlayControl.setLoopBoundaries(0, 60);\n            globalPlayControl.start();\n\n\n        });\n\n        button2.addEventListener('click', () => {\n            globalPlayControl.stop();\n        });\n\n\n    });\n\n\n});\n\n\n/** WEBPACK FOOTER **\n ** ./src/index_sequencer.js\n **/","// core\nexport { default as audioContext } from './core/audio-context';\nexport { default as TimeEngine } from './core/time-engine';\nexport { default as AudioTimeEngine } from './core/audio-time-engine';\nexport { default as PriorityQueue } from './core/priority-queue';\nexport { default as SchedulingQueue } from './core/scheduling-queue';\n\n// engines\nexport { default as GranularEngine } from './engines/granular-engine';\nexport { default as Metronome } from './engines/metronome';\nexport { default as PlayerEngine } from './engines/player-engine';\nexport { default as SegmentEngine } from './engines/segment-engine';\n\n// masters\nexport { default as PlayControl } from './masters/play-control';\nexport { default as Transport } from './masters/transport';\nexport { default as Scheduler } from './masters/scheduler';\nexport { default as SimpleScheduler } from './masters/simple-scheduler';\n\n// factories\nexport { getScheduler } from './masters/factories';\nexport { getSimpleScheduler } from './masters/factories';\n\n\n\n/** WEBPACK FOOTER **\n ** index.js\n **/","/**\n * Gets called if a parameter is missing and the expression\n * specifying the default value is evaluated.\n * @function\n */\nfunction throwIfMissing() {\n  throw new Error('Missing parameter');\n}\n\n\n/**\n * Promise based implementation of XMLHttpRequest Level 2 for GET method.\n */\nexport default class Loader {\n  /**\n   * @constructs\n   * @param {string} [responseType=\"\"] - responseType's value, \"text\" (equal to \"\"), \"arraybuffer\", \"blob\", \"document\" or \"json\"\n   */\n  constructor(responseType = undefined) {\n    /**\n     * @type {string}\n     */\n    this.responseType = responseType;\n    // rename to `onProgress` ?\n    /**\n     * @type {function}\n     */\n    this.progressCb = undefined;\n  }\n\n  /**\n   * Method for a promise based file loading.\n   * Internally switch between loadOne and loadAll.\n   * @public\n   * @param {(string|string[])} fileURLs - The URL(s) of the files to load. Accepts a URL pointing to the file location or an array of URLs.\n   * @returns {Promise}\n   */\n  load(fileURLs = throwIfMissing()) {\n    if (fileURLs === undefined) throw (new Error('load needs at least a url to load'));\n    if (Array.isArray(fileURLs)) {\n      return this.loadAll(fileURLs);\n    } else {\n      return this.loadOne(fileURLs);\n    }\n  }\n\n  /**\n   * Load a single file\n   * @private\n   * @param {string} fileURL - The URL of the file to load.\n   * @returns {Promise}\n   */\n  loadOne(fileURL) {\n    return this.fileLoadingRequest(fileURL);\n  }\n\n  /**\n   * Load all files at once in a single array and return a Promise\n   * @private\n   * @param {string[]} fileURLs - The URLs array of the files to load.\n   * @returns {Promise}\n   */\n  loadAll(fileURLs) {\n    var urlsCount = fileURLs.length,\n      promises = [];\n\n    for (var i = 0; i < urlsCount; ++i) {\n      promises.push(this.fileLoadingRequest(fileURLs[i], i));\n    }\n\n    return Promise.all(promises);\n  }\n\n  /**\n   * Load a file asynchronously, return a Promise.\n   * @private\n   * @param {string} url - The URL of the file to load\n   * @param {string} [index] - The index of the file in the array of files to load\n   * @returns {Promise}\n   */\n  fileLoadingRequest(url, index) {\n    var promise = new Promise(\n      (resolve, reject) => {\n        var request = new XMLHttpRequest();\n        request.open('GET', url, true);\n        request.index = index;\n        if (this.responseType) {\n          request.responseType = this.responseType;\n        } else {\n          var suffix = '.json';\n          if (url.indexOf(suffix, this.length - suffix.length) !== -1) {\n            request.responseType = 'json';\n          } else {\n            request.responseType = 'arraybuffer';\n          }\n        }\n        request.addEventListener('load', function() {\n          // Test request.status value, as 404 will also get there\n          // Test request.status === 0 for cordova internal ajax calls\n          if (request.status === 200 || request.status === 304 ||request.status === 0) {\n            // Hack for iOS 7, to remove as soon as possible\n            if (this.responseType === 'json' && typeof(request.response) === 'string') {\n              request.response = JSON.parse(request.response);\n            }\n            resolve(request.response);\n          } else {\n            reject(new Error(request.statusText));\n          }\n        });\n        request.addEventListener('progress', (evt) => {\n          if (this.progressCallback) {\n            if (index !== undefined) {\n              this.progressCallback({\n                index: index,\n                value: evt.loaded / evt.total,\n                loaded: evt.loaded,\n                total: evt.total\n              });\n            } else {\n              this.progressCallback({\n                value: evt.loaded / evt.total,\n                loaded: evt.loaded,\n                total: evt.total\n              });\n            }\n          }\n        });\n        // Manage network errors\n        request.addEventListener('error', function() {\n          reject(new Error('Network Error'));\n        });\n\n        request.send();\n      });\n    return promise;\n  }\n\n  /**\n   * Get the callback function to get the progress of file loading process.\n   * This is only for the file loading progress as decodeAudioData doesn't\n   * expose a decode progress value.\n   * @type {function}\n   */\n  get progressCallback() {\n    return this.progressCb;\n  }\n\n  /**\n   * Set the callback function to get the progress of file loading process.\n   * This is only for the file loading progress as decodeAudioData doesn't\n   * expose a decode progress value.\n   * @type {function} callback - The callback that handles the response.\n   */\n  set progressCallback(callback) {\n    this.progressCb = callback;\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** loader.js\n **/","module.exports = { \"default\": require(\"core-js/library/fn/promise\"), __esModule: true };\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-runtime/core-js/promise.js\n **/","require('../modules/es6.object.to-string');\nrequire('../modules/es6.string.iterator');\nrequire('../modules/web.dom.iterable');\nrequire('../modules/es6.promise');\nmodule.exports = require('../modules/_core').Promise;\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/fn/promise.js\n **/","'use strict';\nvar $at  = require('./_string-at')(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\nrequire('./_iter-define')(String, 'String', function(iterated){\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function(){\n  var O     = this._t\n    , index = this._i\n    , point;\n  if(index >= O.length)return {value: undefined, done: true};\n  point = $at(O, index);\n  this._i += point.length;\n  return {value: point, done: false};\n});\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/es6.string.iterator.js\n **/","var toInteger = require('./_to-integer')\n  , defined   = require('./_defined');\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function(TO_STRING){\n  return function(that, pos){\n    var s = String(defined(that))\n      , i = toInteger(pos)\n      , l = s.length\n      , a, b;\n    if(i < 0 || i >= l)return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/_string-at.js\n **/","// 7.1.4 ToInteger\nvar ceil  = Math.ceil\n  , floor = Math.floor;\nmodule.exports = function(it){\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/_to-integer.js\n **/","// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function(it){\n  if(it == undefined)throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/_defined.js\n **/","'use strict';\nvar LIBRARY        = require('./_library')\n  , $export        = require('./_export')\n  , redefine       = require('./_redefine')\n  , hide           = require('./_hide')\n  , has            = require('./_has')\n  , Iterators      = require('./_iterators')\n  , $iterCreate    = require('./_iter-create')\n  , setToStringTag = require('./_set-to-string-tag')\n  , getPrototypeOf = require('./_object-gpo')\n  , ITERATOR       = require('./_wks')('iterator')\n  , BUGGY          = !([].keys && 'next' in [].keys()) // Safari has buggy iterators w/o `next`\n  , FF_ITERATOR    = '@@iterator'\n  , KEYS           = 'keys'\n  , VALUES         = 'values';\n\nvar returnThis = function(){ return this; };\n\nmodule.exports = function(Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED){\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function(kind){\n    if(!BUGGY && kind in proto)return proto[kind];\n    switch(kind){\n      case KEYS: return function keys(){ return new Constructor(this, kind); };\n      case VALUES: return function values(){ return new Constructor(this, kind); };\n    } return function entries(){ return new Constructor(this, kind); };\n  };\n  var TAG        = NAME + ' Iterator'\n    , DEF_VALUES = DEFAULT == VALUES\n    , VALUES_BUG = false\n    , proto      = Base.prototype\n    , $native    = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT]\n    , $default   = $native || getMethod(DEFAULT)\n    , $entries   = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined\n    , $anyNative = NAME == 'Array' ? proto.entries || $native : $native\n    , methods, key, IteratorPrototype;\n  // Fix native\n  if($anyNative){\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base));\n    if(IteratorPrototype !== Object.prototype){\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if(!LIBRARY && !has(IteratorPrototype, ITERATOR))hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if(DEF_VALUES && $native && $native.name !== VALUES){\n    VALUES_BUG = true;\n    $default = function values(){ return $native.call(this); };\n  }\n  // Define iterator\n  if((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])){\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG]  = returnThis;\n  if(DEFAULT){\n    methods = {\n      values:  DEF_VALUES ? $default : getMethod(VALUES),\n      keys:    IS_SET     ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if(FORCED)for(key in methods){\n      if(!(key in proto))redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/_iter-define.js\n **/","module.exports = true;\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/_library.js\n **/","var global    = require('./_global')\n  , core      = require('./_core')\n  , ctx       = require('./_ctx')\n  , hide      = require('./_hide')\n  , PROTOTYPE = 'prototype';\n\nvar $export = function(type, name, source){\n  var IS_FORCED = type & $export.F\n    , IS_GLOBAL = type & $export.G\n    , IS_STATIC = type & $export.S\n    , IS_PROTO  = type & $export.P\n    , IS_BIND   = type & $export.B\n    , IS_WRAP   = type & $export.W\n    , exports   = IS_GLOBAL ? core : core[name] || (core[name] = {})\n    , expProto  = exports[PROTOTYPE]\n    , target    = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE]\n    , key, own, out;\n  if(IS_GLOBAL)source = name;\n  for(key in source){\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    if(own && key in exports)continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n    // bind timers to global for call from export context\n    : IS_BIND && own ? ctx(out, global)\n    // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? (function(C){\n      var F = function(a, b, c){\n        if(this instanceof C){\n          switch(arguments.length){\n            case 0: return new C;\n            case 1: return new C(a);\n            case 2: return new C(a, b);\n          } return new C(a, b, c);\n        } return C.apply(this, arguments);\n      };\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F;\n    // make static versions for prototype methods\n    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%\n    if(IS_PROTO){\n      (exports.virtual || (exports.virtual = {}))[key] = out;\n      // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%\n      if(type & $export.R && expProto && !expProto[key])hide(expProto, key, out);\n    }\n  }\n};\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library` \nmodule.exports = $export;\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/_export.js\n **/","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\nif(typeof __g == 'number')__g = global; // eslint-disable-line no-undef\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/_global.js\n **/","var core = module.exports = {version: '2.4.0'};\nif(typeof __e == 'number')__e = core; // eslint-disable-line no-undef\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/_core.js\n **/","// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function(fn, that, length){\n  aFunction(fn);\n  if(that === undefined)return fn;\n  switch(length){\n    case 1: return function(a){\n      return fn.call(that, a);\n    };\n    case 2: return function(a, b){\n      return fn.call(that, a, b);\n    };\n    case 3: return function(a, b, c){\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function(/* ...args */){\n    return fn.apply(that, arguments);\n  };\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/_ctx.js\n **/","module.exports = function(it){\n  if(typeof it != 'function')throw TypeError(it + ' is not a function!');\n  return it;\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/_a-function.js\n **/","var dP         = require('./_object-dp')\n  , createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function(object, key, value){\n  return dP.f(object, key, createDesc(1, value));\n} : function(object, key, value){\n  object[key] = value;\n  return object;\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/_hide.js\n **/","var anObject       = require('./_an-object')\n  , IE8_DOM_DEFINE = require('./_ie8-dom-define')\n  , toPrimitive    = require('./_to-primitive')\n  , dP             = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes){\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if(IE8_DOM_DEFINE)try {\n    return dP(O, P, Attributes);\n  } catch(e){ /* empty */ }\n  if('get' in Attributes || 'set' in Attributes)throw TypeError('Accessors not supported!');\n  if('value' in Attributes)O[P] = Attributes.value;\n  return O;\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/_object-dp.js\n **/","var isObject = require('./_is-object');\nmodule.exports = function(it){\n  if(!isObject(it))throw TypeError(it + ' is not an object!');\n  return it;\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/_an-object.js\n **/","module.exports = function(it){\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/_is-object.js\n **/","module.exports = !require('./_descriptors') && !require('./_fails')(function(){\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', {get: function(){ return 7; }}).a != 7;\n});\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/_ie8-dom-define.js\n **/","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function(){\n  return Object.defineProperty({}, 'a', {get: function(){ return 7; }}).a != 7;\n});\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/_descriptors.js\n **/","module.exports = function(exec){\n  try {\n    return !!exec();\n  } catch(e){\n    return true;\n  }\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/_fails.js\n **/","var isObject = require('./_is-object')\n  , document = require('./_global').document\n  // in old IE typeof document.createElement is 'object'\n  , is = isObject(document) && isObject(document.createElement);\nmodule.exports = function(it){\n  return is ? document.createElement(it) : {};\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/_dom-create.js\n **/","// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function(it, S){\n  if(!isObject(it))return it;\n  var fn, val;\n  if(S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it)))return val;\n  if(typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it)))return val;\n  if(!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it)))return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/_to-primitive.js\n **/","module.exports = function(bitmap, value){\n  return {\n    enumerable  : !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable    : !(bitmap & 4),\n    value       : value\n  };\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/_property-desc.js\n **/","module.exports = require('./_hide');\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/_redefine.js\n **/","var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function(it, key){\n  return hasOwnProperty.call(it, key);\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/_has.js\n **/","module.exports = {};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/_iterators.js\n **/","'use strict';\nvar create         = require('./_object-create')\n  , descriptor     = require('./_property-desc')\n  , setToStringTag = require('./_set-to-string-tag')\n  , IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nrequire('./_hide')(IteratorPrototype, require('./_wks')('iterator'), function(){ return this; });\n\nmodule.exports = function(Constructor, NAME, next){\n  Constructor.prototype = create(IteratorPrototype, {next: descriptor(1, next)});\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/_iter-create.js\n **/","// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject    = require('./_an-object')\n  , dPs         = require('./_object-dps')\n  , enumBugKeys = require('./_enum-bug-keys')\n  , IE_PROTO    = require('./_shared-key')('IE_PROTO')\n  , Empty       = function(){ /* empty */ }\n  , PROTOTYPE   = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function(){\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = require('./_dom-create')('iframe')\n    , i      = enumBugKeys.length\n    , lt     = '<'\n    , gt     = '>'\n    , iframeDocument;\n  iframe.style.display = 'none';\n  require('./_html').appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while(i--)delete createDict[PROTOTYPE][enumBugKeys[i]];\n  return createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties){\n  var result;\n  if(O !== null){\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty;\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/_object-create.js\n **/","var dP       = require('./_object-dp')\n  , anObject = require('./_an-object')\n  , getKeys  = require('./_object-keys');\n\nmodule.exports = require('./_descriptors') ? Object.defineProperties : function defineProperties(O, Properties){\n  anObject(O);\n  var keys   = getKeys(Properties)\n    , length = keys.length\n    , i = 0\n    , P;\n  while(length > i)dP.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/_object-dps.js\n **/","// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys       = require('./_object-keys-internal')\n  , enumBugKeys = require('./_enum-bug-keys');\n\nmodule.exports = Object.keys || function keys(O){\n  return $keys(O, enumBugKeys);\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/_object-keys.js\n **/","var has          = require('./_has')\n  , toIObject    = require('./_to-iobject')\n  , arrayIndexOf = require('./_array-includes')(false)\n  , IE_PROTO     = require('./_shared-key')('IE_PROTO');\n\nmodule.exports = function(object, names){\n  var O      = toIObject(object)\n    , i      = 0\n    , result = []\n    , key;\n  for(key in O)if(key != IE_PROTO)has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while(names.length > i)if(has(O, key = names[i++])){\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/_object-keys-internal.js\n **/","// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./_iobject')\n  , defined = require('./_defined');\nmodule.exports = function(it){\n  return IObject(defined(it));\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/_to-iobject.js\n **/","// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./_cof');\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function(it){\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/_iobject.js\n **/","var toString = {}.toString;\n\nmodule.exports = function(it){\n  return toString.call(it).slice(8, -1);\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/_cof.js\n **/","// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = require('./_to-iobject')\n  , toLength  = require('./_to-length')\n  , toIndex   = require('./_to-index');\nmodule.exports = function(IS_INCLUDES){\n  return function($this, el, fromIndex){\n    var O      = toIObject($this)\n      , length = toLength(O.length)\n      , index  = toIndex(fromIndex, length)\n      , value;\n    // Array#includes uses SameValueZero equality algorithm\n    if(IS_INCLUDES && el != el)while(length > index){\n      value = O[index++];\n      if(value != value)return true;\n    // Array#toIndex ignores holes, Array#includes - not\n    } else for(;length > index; index++)if(IS_INCLUDES || index in O){\n      if(O[index] === el)return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/_array-includes.js\n **/","// 7.1.15 ToLength\nvar toInteger = require('./_to-integer')\n  , min       = Math.min;\nmodule.exports = function(it){\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/_to-length.js\n **/","var toInteger = require('./_to-integer')\n  , max       = Math.max\n  , min       = Math.min;\nmodule.exports = function(index, length){\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/_to-index.js\n **/","var shared = require('./_shared')('keys')\n  , uid    = require('./_uid');\nmodule.exports = function(key){\n  return shared[key] || (shared[key] = uid(key));\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/_shared-key.js\n **/","var global = require('./_global')\n  , SHARED = '__core-js_shared__'\n  , store  = global[SHARED] || (global[SHARED] = {});\nmodule.exports = function(key){\n  return store[key] || (store[key] = {});\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/_shared.js\n **/","var id = 0\n  , px = Math.random();\nmodule.exports = function(key){\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/_uid.js\n **/","// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/_enum-bug-keys.js\n **/","module.exports = require('./_global').document && document.documentElement;\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/_html.js\n **/","var def = require('./_object-dp').f\n  , has = require('./_has')\n  , TAG = require('./_wks')('toStringTag');\n\nmodule.exports = function(it, tag, stat){\n  if(it && !has(it = stat ? it : it.prototype, TAG))def(it, TAG, {configurable: true, value: tag});\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/_set-to-string-tag.js\n **/","var store      = require('./_shared')('wks')\n  , uid        = require('./_uid')\n  , Symbol     = require('./_global').Symbol\n  , USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function(name){\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/_wks.js\n **/","// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has         = require('./_has')\n  , toObject    = require('./_to-object')\n  , IE_PROTO    = require('./_shared-key')('IE_PROTO')\n  , ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function(O){\n  O = toObject(O);\n  if(has(O, IE_PROTO))return O[IE_PROTO];\n  if(typeof O.constructor == 'function' && O instanceof O.constructor){\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectProto : null;\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/_object-gpo.js\n **/","// 7.1.13 ToObject(argument)\nvar defined = require('./_defined');\nmodule.exports = function(it){\n  return Object(defined(it));\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/_to-object.js\n **/","require('./es6.array.iterator');\nvar global        = require('./_global')\n  , hide          = require('./_hide')\n  , Iterators     = require('./_iterators')\n  , TO_STRING_TAG = require('./_wks')('toStringTag');\n\nfor(var collections = ['NodeList', 'DOMTokenList', 'MediaList', 'StyleSheetList', 'CSSRuleList'], i = 0; i < 5; i++){\n  var NAME       = collections[i]\n    , Collection = global[NAME]\n    , proto      = Collection && Collection.prototype;\n  if(proto && !proto[TO_STRING_TAG])hide(proto, TO_STRING_TAG, NAME);\n  Iterators[NAME] = Iterators.Array;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/web.dom.iterable.js\n **/","'use strict';\nvar addToUnscopables = require('./_add-to-unscopables')\n  , step             = require('./_iter-step')\n  , Iterators        = require('./_iterators')\n  , toIObject        = require('./_to-iobject');\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = require('./_iter-define')(Array, 'Array', function(iterated, kind){\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function(){\n  var O     = this._t\n    , kind  = this._k\n    , index = this._i++;\n  if(!O || index >= O.length){\n    this._t = undefined;\n    return step(1);\n  }\n  if(kind == 'keys'  )return step(0, index);\n  if(kind == 'values')return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/es6.array.iterator.js\n **/","module.exports = function(){ /* empty */ };\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/_add-to-unscopables.js\n **/","module.exports = function(done, value){\n  return {value: value, done: !!done};\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/_iter-step.js\n **/","'use strict';\nvar LIBRARY            = require('./_library')\n  , global             = require('./_global')\n  , ctx                = require('./_ctx')\n  , classof            = require('./_classof')\n  , $export            = require('./_export')\n  , isObject           = require('./_is-object')\n  , aFunction          = require('./_a-function')\n  , anInstance         = require('./_an-instance')\n  , forOf              = require('./_for-of')\n  , speciesConstructor = require('./_species-constructor')\n  , task               = require('./_task').set\n  , microtask          = require('./_microtask')()\n  , PROMISE            = 'Promise'\n  , TypeError          = global.TypeError\n  , process            = global.process\n  , $Promise           = global[PROMISE]\n  , process            = global.process\n  , isNode             = classof(process) == 'process'\n  , empty              = function(){ /* empty */ }\n  , Internal, GenericPromiseCapability, Wrapper;\n\nvar USE_NATIVE = !!function(){\n  try {\n    // correct subclassing with @@species support\n    var promise     = $Promise.resolve(1)\n      , FakePromise = (promise.constructor = {})[require('./_wks')('species')] = function(exec){ exec(empty, empty); };\n    // unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    return (isNode || typeof PromiseRejectionEvent == 'function') && promise.then(empty) instanceof FakePromise;\n  } catch(e){ /* empty */ }\n}();\n\n// helpers\nvar sameConstructor = function(a, b){\n  // with library wrapper special case\n  return a === b || a === $Promise && b === Wrapper;\n};\nvar isThenable = function(it){\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\nvar newPromiseCapability = function(C){\n  return sameConstructor($Promise, C)\n    ? new PromiseCapability(C)\n    : new GenericPromiseCapability(C);\n};\nvar PromiseCapability = GenericPromiseCapability = function(C){\n  var resolve, reject;\n  this.promise = new C(function($$resolve, $$reject){\n    if(resolve !== undefined || reject !== undefined)throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject  = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject  = aFunction(reject);\n};\nvar perform = function(exec){\n  try {\n    exec();\n  } catch(e){\n    return {error: e};\n  }\n};\nvar notify = function(promise, isReject){\n  if(promise._n)return;\n  promise._n = true;\n  var chain = promise._c;\n  microtask(function(){\n    var value = promise._v\n      , ok    = promise._s == 1\n      , i     = 0;\n    var run = function(reaction){\n      var handler = ok ? reaction.ok : reaction.fail\n        , resolve = reaction.resolve\n        , reject  = reaction.reject\n        , domain  = reaction.domain\n        , result, then;\n      try {\n        if(handler){\n          if(!ok){\n            if(promise._h == 2)onHandleUnhandled(promise);\n            promise._h = 1;\n          }\n          if(handler === true)result = value;\n          else {\n            if(domain)domain.enter();\n            result = handler(value);\n            if(domain)domain.exit();\n          }\n          if(result === reaction.promise){\n            reject(TypeError('Promise-chain cycle'));\n          } else if(then = isThenable(result)){\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch(e){\n        reject(e);\n      }\n    };\n    while(chain.length > i)run(chain[i++]); // variable length - can't use forEach\n    promise._c = [];\n    promise._n = false;\n    if(isReject && !promise._h)onUnhandled(promise);\n  });\n};\nvar onUnhandled = function(promise){\n  task.call(global, function(){\n    var value = promise._v\n      , abrupt, handler, console;\n    if(isUnhandled(promise)){\n      abrupt = perform(function(){\n        if(isNode){\n          process.emit('unhandledRejection', value, promise);\n        } else if(handler = global.onunhandledrejection){\n          handler({promise: promise, reason: value});\n        } else if((console = global.console) && console.error){\n          console.error('Unhandled promise rejection', value);\n        }\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      promise._h = isNode || isUnhandled(promise) ? 2 : 1;\n    } promise._a = undefined;\n    if(abrupt)throw abrupt.error;\n  });\n};\nvar isUnhandled = function(promise){\n  if(promise._h == 1)return false;\n  var chain = promise._a || promise._c\n    , i     = 0\n    , reaction;\n  while(chain.length > i){\n    reaction = chain[i++];\n    if(reaction.fail || !isUnhandled(reaction.promise))return false;\n  } return true;\n};\nvar onHandleUnhandled = function(promise){\n  task.call(global, function(){\n    var handler;\n    if(isNode){\n      process.emit('rejectionHandled', promise);\n    } else if(handler = global.onrejectionhandled){\n      handler({promise: promise, reason: promise._v});\n    }\n  });\n};\nvar $reject = function(value){\n  var promise = this;\n  if(promise._d)return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  promise._v = value;\n  promise._s = 2;\n  if(!promise._a)promise._a = promise._c.slice();\n  notify(promise, true);\n};\nvar $resolve = function(value){\n  var promise = this\n    , then;\n  if(promise._d)return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  try {\n    if(promise === value)throw TypeError(\"Promise can't be resolved itself\");\n    if(then = isThenable(value)){\n      microtask(function(){\n        var wrapper = {_w: promise, _d: false}; // wrap\n        try {\n          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));\n        } catch(e){\n          $reject.call(wrapper, e);\n        }\n      });\n    } else {\n      promise._v = value;\n      promise._s = 1;\n      notify(promise, false);\n    }\n  } catch(e){\n    $reject.call({_w: promise, _d: false}, e); // wrap\n  }\n};\n\n// constructor polyfill\nif(!USE_NATIVE){\n  // 25.4.3.1 Promise(executor)\n  $Promise = function Promise(executor){\n    anInstance(this, $Promise, PROMISE, '_h');\n    aFunction(executor);\n    Internal.call(this);\n    try {\n      executor(ctx($resolve, this, 1), ctx($reject, this, 1));\n    } catch(err){\n      $reject.call(this, err);\n    }\n  };\n  Internal = function Promise(executor){\n    this._c = [];             // <- awaiting reactions\n    this._a = undefined;      // <- checked in isUnhandled reactions\n    this._s = 0;              // <- state\n    this._d = false;          // <- done\n    this._v = undefined;      // <- value\n    this._h = 0;              // <- rejection state, 0 - default, 1 - handled, 2 - unhandled\n    this._n = false;          // <- notify\n  };\n  Internal.prototype = require('./_redefine-all')($Promise.prototype, {\n    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)\n    then: function then(onFulfilled, onRejected){\n      var reaction    = newPromiseCapability(speciesConstructor(this, $Promise));\n      reaction.ok     = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail   = typeof onRejected == 'function' && onRejected;\n      reaction.domain = isNode ? process.domain : undefined;\n      this._c.push(reaction);\n      if(this._a)this._a.push(reaction);\n      if(this._s)notify(this, false);\n      return reaction.promise;\n    },\n    // 25.4.5.1 Promise.prototype.catch(onRejected)\n    'catch': function(onRejected){\n      return this.then(undefined, onRejected);\n    }\n  });\n  PromiseCapability = function(){\n    var promise  = new Internal;\n    this.promise = promise;\n    this.resolve = ctx($resolve, promise, 1);\n    this.reject  = ctx($reject, promise, 1);\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, {Promise: $Promise});\nrequire('./_set-to-string-tag')($Promise, PROMISE);\nrequire('./_set-species')(PROMISE);\nWrapper = require('./_core')[PROMISE];\n\n// statics\n$export($export.S + $export.F * !USE_NATIVE, PROMISE, {\n  // 25.4.4.5 Promise.reject(r)\n  reject: function reject(r){\n    var capability = newPromiseCapability(this)\n      , $$reject   = capability.reject;\n    $$reject(r);\n    return capability.promise;\n  }\n});\n$export($export.S + $export.F * (LIBRARY || !USE_NATIVE), PROMISE, {\n  // 25.4.4.6 Promise.resolve(x)\n  resolve: function resolve(x){\n    // instanceof instead of internal slot check because we should fix it without replacement native Promise core\n    if(x instanceof $Promise && sameConstructor(x.constructor, this))return x;\n    var capability = newPromiseCapability(this)\n      , $$resolve  = capability.resolve;\n    $$resolve(x);\n    return capability.promise;\n  }\n});\n$export($export.S + $export.F * !(USE_NATIVE && require('./_iter-detect')(function(iter){\n  $Promise.all(iter)['catch'](empty);\n})), PROMISE, {\n  // 25.4.4.1 Promise.all(iterable)\n  all: function all(iterable){\n    var C          = this\n      , capability = newPromiseCapability(C)\n      , resolve    = capability.resolve\n      , reject     = capability.reject;\n    var abrupt = perform(function(){\n      var values    = []\n        , index     = 0\n        , remaining = 1;\n      forOf(iterable, false, function(promise){\n        var $index        = index++\n          , alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        C.resolve(promise).then(function(value){\n          if(alreadyCalled)return;\n          alreadyCalled  = true;\n          values[$index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if(abrupt)reject(abrupt.error);\n    return capability.promise;\n  },\n  // 25.4.4.4 Promise.race(iterable)\n  race: function race(iterable){\n    var C          = this\n      , capability = newPromiseCapability(C)\n      , reject     = capability.reject;\n    var abrupt = perform(function(){\n      forOf(iterable, false, function(promise){\n        C.resolve(promise).then(capability.resolve, reject);\n      });\n    });\n    if(abrupt)reject(abrupt.error);\n    return capability.promise;\n  }\n});\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/es6.promise.js\n **/","// getting tag from 19.1.3.6 Object.prototype.toString()\nvar cof = require('./_cof')\n  , TAG = require('./_wks')('toStringTag')\n  // ES3 wrong here\n  , ARG = cof(function(){ return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function(it, key){\n  try {\n    return it[key];\n  } catch(e){ /* empty */ }\n};\n\nmodule.exports = function(it){\n  var O, T, B;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T\n    // builtinTag case\n    : ARG ? cof(O)\n    // ES3 arguments fallback\n    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/_classof.js\n **/","module.exports = function(it, Constructor, name, forbiddenField){\n  if(!(it instanceof Constructor) || (forbiddenField !== undefined && forbiddenField in it)){\n    throw TypeError(name + ': incorrect invocation!');\n  } return it;\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/_an-instance.js\n **/","var ctx         = require('./_ctx')\n  , call        = require('./_iter-call')\n  , isArrayIter = require('./_is-array-iter')\n  , anObject    = require('./_an-object')\n  , toLength    = require('./_to-length')\n  , getIterFn   = require('./core.get-iterator-method')\n  , BREAK       = {}\n  , RETURN      = {};\nvar exports = module.exports = function(iterable, entries, fn, that, ITERATOR){\n  var iterFn = ITERATOR ? function(){ return iterable; } : getIterFn(iterable)\n    , f      = ctx(fn, that, entries ? 2 : 1)\n    , index  = 0\n    , length, step, iterator, result;\n  if(typeof iterFn != 'function')throw TypeError(iterable + ' is not iterable!');\n  // fast case for arrays with default iterator\n  if(isArrayIter(iterFn))for(length = toLength(iterable.length); length > index; index++){\n    result = entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);\n    if(result === BREAK || result === RETURN)return result;\n  } else for(iterator = iterFn.call(iterable); !(step = iterator.next()).done; ){\n    result = call(iterator, f, step.value, entries);\n    if(result === BREAK || result === RETURN)return result;\n  }\n};\nexports.BREAK  = BREAK;\nexports.RETURN = RETURN;\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/_for-of.js\n **/","// call something on iterator step with safe closing on error\nvar anObject = require('./_an-object');\nmodule.exports = function(iterator, fn, value, entries){\n  try {\n    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch(e){\n    var ret = iterator['return'];\n    if(ret !== undefined)anObject(ret.call(iterator));\n    throw e;\n  }\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/_iter-call.js\n **/","// check on default Array iterator\nvar Iterators  = require('./_iterators')\n  , ITERATOR   = require('./_wks')('iterator')\n  , ArrayProto = Array.prototype;\n\nmodule.exports = function(it){\n  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/_is-array-iter.js\n **/","var classof   = require('./_classof')\n  , ITERATOR  = require('./_wks')('iterator')\n  , Iterators = require('./_iterators');\nmodule.exports = require('./_core').getIteratorMethod = function(it){\n  if(it != undefined)return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/core.get-iterator-method.js\n **/","// 7.3.20 SpeciesConstructor(O, defaultConstructor)\nvar anObject  = require('./_an-object')\n  , aFunction = require('./_a-function')\n  , SPECIES   = require('./_wks')('species');\nmodule.exports = function(O, D){\n  var C = anObject(O).constructor, S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/_species-constructor.js\n **/","var ctx                = require('./_ctx')\n  , invoke             = require('./_invoke')\n  , html               = require('./_html')\n  , cel                = require('./_dom-create')\n  , global             = require('./_global')\n  , process            = global.process\n  , setTask            = global.setImmediate\n  , clearTask          = global.clearImmediate\n  , MessageChannel     = global.MessageChannel\n  , counter            = 0\n  , queue              = {}\n  , ONREADYSTATECHANGE = 'onreadystatechange'\n  , defer, channel, port;\nvar run = function(){\n  var id = +this;\n  if(queue.hasOwnProperty(id)){\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\nvar listener = function(event){\n  run.call(event.data);\n};\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif(!setTask || !clearTask){\n  setTask = function setImmediate(fn){\n    var args = [], i = 1;\n    while(arguments.length > i)args.push(arguments[i++]);\n    queue[++counter] = function(){\n      invoke(typeof fn == 'function' ? fn : Function(fn), args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clearTask = function clearImmediate(id){\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if(require('./_cof')(process) == 'process'){\n    defer = function(id){\n      process.nextTick(ctx(run, id, 1));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  } else if(MessageChannel){\n    channel = new MessageChannel;\n    port    = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = ctx(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if(global.addEventListener && typeof postMessage == 'function' && !global.importScripts){\n    defer = function(id){\n      global.postMessage(id + '', '*');\n    };\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if(ONREADYSTATECHANGE in cel('script')){\n    defer = function(id){\n      html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function(){\n        html.removeChild(this);\n        run.call(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function(id){\n      setTimeout(ctx(run, id, 1), 0);\n    };\n  }\n}\nmodule.exports = {\n  set:   setTask,\n  clear: clearTask\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/_task.js\n **/","// fast apply, http://jsperf.lnkit.com/fast-apply/5\nmodule.exports = function(fn, args, that){\n  var un = that === undefined;\n  switch(args.length){\n    case 0: return un ? fn()\n                      : fn.call(that);\n    case 1: return un ? fn(args[0])\n                      : fn.call(that, args[0]);\n    case 2: return un ? fn(args[0], args[1])\n                      : fn.call(that, args[0], args[1]);\n    case 3: return un ? fn(args[0], args[1], args[2])\n                      : fn.call(that, args[0], args[1], args[2]);\n    case 4: return un ? fn(args[0], args[1], args[2], args[3])\n                      : fn.call(that, args[0], args[1], args[2], args[3]);\n  } return              fn.apply(that, args);\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/_invoke.js\n **/","var global    = require('./_global')\n  , macrotask = require('./_task').set\n  , Observer  = global.MutationObserver || global.WebKitMutationObserver\n  , process   = global.process\n  , Promise   = global.Promise\n  , isNode    = require('./_cof')(process) == 'process';\n\nmodule.exports = function(){\n  var head, last, notify;\n\n  var flush = function(){\n    var parent, fn;\n    if(isNode && (parent = process.domain))parent.exit();\n    while(head){\n      fn   = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch(e){\n        if(head)notify();\n        else last = undefined;\n        throw e;\n      }\n    } last = undefined;\n    if(parent)parent.enter();\n  };\n\n  // Node.js\n  if(isNode){\n    notify = function(){\n      process.nextTick(flush);\n    };\n  // browsers with MutationObserver\n  } else if(Observer){\n    var toggle = true\n      , node   = document.createTextNode('');\n    new Observer(flush).observe(node, {characterData: true}); // eslint-disable-line no-new\n    notify = function(){\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if(Promise && Promise.resolve){\n    var promise = Promise.resolve();\n    notify = function(){\n      promise.then(flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function(){\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n\n  return function(fn){\n    var task = {fn: fn, next: undefined};\n    if(last)last.next = task;\n    if(!head){\n      head = task;\n      notify();\n    } last = task;\n  };\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/_microtask.js\n **/","var hide = require('./_hide');\nmodule.exports = function(target, src, safe){\n  for(var key in src){\n    if(safe && target[key])target[key] = src[key];\n    else hide(target, key, src[key]);\n  } return target;\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/_redefine-all.js\n **/","'use strict';\nvar global      = require('./_global')\n  , core        = require('./_core')\n  , dP          = require('./_object-dp')\n  , DESCRIPTORS = require('./_descriptors')\n  , SPECIES     = require('./_wks')('species');\n\nmodule.exports = function(KEY){\n  var C = typeof core[KEY] == 'function' ? core[KEY] : global[KEY];\n  if(DESCRIPTORS && C && !C[SPECIES])dP.f(C, SPECIES, {\n    configurable: true,\n    get: function(){ return this; }\n  });\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/_set-species.js\n **/","var ITERATOR     = require('./_wks')('iterator')\n  , SAFE_CLOSING = false;\n\ntry {\n  var riter = [7][ITERATOR]();\n  riter['return'] = function(){ SAFE_CLOSING = true; };\n  Array.from(riter, function(){ throw 2; });\n} catch(e){ /* empty */ }\n\nmodule.exports = function(exec, skipClosing){\n  if(!skipClosing && !SAFE_CLOSING)return false;\n  var safe = false;\n  try {\n    var arr  = [7]\n      , iter = arr[ITERATOR]();\n    iter.next = function(){ return {done: safe = true}; };\n    arr[ITERATOR] = function(){ return iter; };\n    exec(arr);\n  } catch(e){ /* empty */ }\n  return safe;\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/_iter-detect.js\n **/","\"use strict\";\n\nexports.__esModule = true;\n\nexports.default = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-runtime/helpers/classCallCheck.js\n **/","\"use strict\";\n\nexports.__esModule = true;\n\nvar _defineProperty = require(\"../core-js/object/define-property\");\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      (0, _defineProperty2.default)(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-runtime/helpers/createClass.js\n **/","module.exports = { \"default\": require(\"core-js/library/fn/object/define-property\"), __esModule: true };\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-runtime/core-js/object/define-property.js\n **/","require('../../modules/es6.object.define-property');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function defineProperty(it, key, desc){\n  return $Object.defineProperty(it, key, desc);\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/fn/object/define-property.js\n **/","var $export = require('./_export');\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', {defineProperty: require('./_object-dp').f});\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/es6.object.define-property.js\n **/","import Loader from './loader';\n\n\n/**\n * Gets called if a parameter is missing and the expression\n * specifying the default value is evaluated.\n * @function\n */\nfunction throwIfMissing() {\n  throw new Error('Missing parameter');\n}\n\nlet audioContext;\n\nwindow.AudioContext = (window.AudioContext || window.webkitAudioContext);\n\ntry {\n  audioContext = new window.AudioContext();\n} catch (e) {}\n\n\n/**\n * AudioBufferLoader\n * Promise based implementation of XMLHttpRequest Level 2 for GET method and decode audio data for arraybuffer.\n */\nexport default class AudioBufferLoader extends Loader {\n  /**\n   * Set the responseType to 'arraybuffer' and initialize options.\n   * @param {string} [responseType=\"arraybuffer\"]\n   */\n  constructor(responseType = 'arraybuffer') {\n    super(responseType);\n    this.options = {\n      \"wrapAroundExtension\": 0\n    };\n    this.responseType = responseType;\n    this.audioContext = audioContext;\n  }\n\n  /**\n   * Allow to set the audio context that should be used in order to decode\n   * the file and create the AudioBuffer.\n   * @param {AudioContext} audioContext\n   */\n  setAudioContext(audioContext) {\n    this.audioContext = audioContext;\n  }\n\n  /**\n   * Method for promise audio file loading and decoding.\n   * @param {(string|string[])} fileURLs - The URL(s) of the audio files to load. Accepts a URL pointing to the file location or an array of URLs.\n   * @param {{wrapAroundExtension: number}} [options] - Object with a wrapAroundExtension key which set the length, in seconds to be copied from the begining at the end of the returned AudioBuffer\n   * @returns {Promise}\n   */\n  load(fileURLs = throwIfMissing(), options = {}) {\n    this.options = options;\n    this.options.wrapAroundExtension = this.options.wrapAroundExtension || 0;\n    return super.load(fileURLs);\n  }\n\n  /**\n   * Load a single audio file, decode it in an AudioBuffer, return a Promise\n   * @private\n   * @param {string} fileURL - The URL of the audio file location to load.\n   * @returns {Promise}\n   */\n  loadOne(fileURL) {\n    return super.loadOne(fileURL)\n      .then(\n        this.decodeAudioData.bind(this),\n        function(error) {\n          throw error;\n        });\n  }\n\n  /**\n   * Load all audio files at once in a single array, decode them in an array of AudioBuffers, and return a Promise.\n   * @private\n   * @param {string[]} fileURLs - The URLs array of the audio files to load.\n   * @returns {Promise}\n   */\n  loadAll(fileURLs) {\n    return super.loadAll(fileURLs)\n      .then(\n        (arraybuffers) => {\n          return Promise.all(arraybuffers.map((arraybuffer) => {\n            return this.decodeAudioData.bind(this)(arraybuffer);\n          }));\n        }, (error) => {\n          throw error; // TODO: better error handler\n        });\n  }\n\n  /**\n   * Decode Audio Data, return a Promise\n   * @private\n   * @param {arraybuffer} - The arraybuffer of the loaded audio file to be decoded.\n   * @returns {Promise}\n   */\n  decodeAudioData(arraybuffer) {\n    if (arraybuffer instanceof ArrayBuffer) {\n      return new Promise((resolve, reject) => {\n        this.audioContext.decodeAudioData(\n          arraybuffer, // returned audio data array\n          (buffer) => {\n            if (this.options.wrapAroundExtension === 0) resolve(buffer);\n            else resolve(this.__wrapAround(buffer));\n          }, (error) => {\n            reject(new Error(\"DecodeAudioData error\"));\n          }\n        );\n      });\n    } else {\n      return new Promise((resolve, reject) => {\n        resolve(arraybuffer);\n      });\n    }\n  }\n\n  /**\n   * WrapAround, copy the begining input buffer to the end of an output buffer\n   * @private\n   * @param {arraybuffer} inBuffer {arraybuffer} - The input buffer\n   * @returns {arraybuffer} - The processed buffer (with frame copied from the begining to the end)\n   */\n  __wrapAround(inBuffer) {\n    var length = inBuffer.length + this.options.wrapAroundExtension * inBuffer.sampleRate;\n\n    var outBuffer = this.audioContext.createBuffer(inBuffer.numberOfChannels, length, inBuffer.sampleRate);\n    var arrayChData, arrayOutChData;\n\n    for (var channel = 0; channel < inBuffer.numberOfChannels; channel++) {\n      arrayChData = inBuffer.getChannelData(channel);\n      arrayOutChData = outBuffer.getChannelData(channel);\n\n      arrayOutChData.forEach(function(sample, index) {\n        if (index < inBuffer.length) arrayOutChData[index] = arrayChData[index];\n        else arrayOutChData[index] = arrayChData[index - inBuffer.length];\n      });\n    }\n\n    return outBuffer;\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** audio-buffer-loader.js\n **/","module.exports = { \"default\": require(\"core-js/library/fn/object/get-prototype-of\"), __esModule: true };\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-runtime/core-js/object/get-prototype-of.js\n **/","require('../../modules/es6.object.get-prototype-of');\nmodule.exports = require('../../modules/_core').Object.getPrototypeOf;\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/fn/object/get-prototype-of.js\n **/","// 19.1.2.9 Object.getPrototypeOf(O)\nvar toObject        = require('./_to-object')\n  , $getPrototypeOf = require('./_object-gpo');\n\nrequire('./_object-sap')('getPrototypeOf', function(){\n  return function getPrototypeOf(it){\n    return $getPrototypeOf(toObject(it));\n  };\n});\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/es6.object.get-prototype-of.js\n **/","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export')\n  , core    = require('./_core')\n  , fails   = require('./_fails');\nmodule.exports = function(KEY, exec){\n  var fn  = (core.Object || {})[KEY] || Object[KEY]\n    , exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function(){ fn(1); }), 'Object', exp);\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/_object-sap.js\n **/","\"use strict\";\n\nexports.__esModule = true;\n\nvar _typeof2 = require(\"../helpers/typeof\");\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && ((typeof call === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(call)) === \"object\" || typeof call === \"function\") ? call : self;\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-runtime/helpers/possibleConstructorReturn.js\n **/","\"use strict\";\n\nexports.__esModule = true;\n\nvar _iterator = require(\"../core-js/symbol/iterator\");\n\nvar _iterator2 = _interopRequireDefault(_iterator);\n\nvar _symbol = require(\"../core-js/symbol\");\n\nvar _symbol2 = _interopRequireDefault(_symbol);\n\nvar _typeof = typeof _symbol2.default === \"function\" && typeof _iterator2.default === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj; };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = typeof _symbol2.default === \"function\" && _typeof(_iterator2.default) === \"symbol\" ? function (obj) {\n  return typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n} : function (obj) {\n  return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-runtime/helpers/typeof.js\n **/","module.exports = { \"default\": require(\"core-js/library/fn/symbol/iterator\"), __esModule: true };\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-runtime/core-js/symbol/iterator.js\n **/","require('../../modules/es6.string.iterator');\nrequire('../../modules/web.dom.iterable');\nmodule.exports = require('../../modules/_wks-ext').f('iterator');\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/fn/symbol/iterator.js\n **/","exports.f = require('./_wks');\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/_wks-ext.js\n **/","module.exports = { \"default\": require(\"core-js/library/fn/symbol\"), __esModule: true };\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-runtime/core-js/symbol.js\n **/","require('../../modules/es6.symbol');\nrequire('../../modules/es6.object.to-string');\nrequire('../../modules/es7.symbol.async-iterator');\nrequire('../../modules/es7.symbol.observable');\nmodule.exports = require('../../modules/_core').Symbol;\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/fn/symbol/index.js\n **/","'use strict';\n// ECMAScript 6 symbols shim\nvar global         = require('./_global')\n  , has            = require('./_has')\n  , DESCRIPTORS    = require('./_descriptors')\n  , $export        = require('./_export')\n  , redefine       = require('./_redefine')\n  , META           = require('./_meta').KEY\n  , $fails         = require('./_fails')\n  , shared         = require('./_shared')\n  , setToStringTag = require('./_set-to-string-tag')\n  , uid            = require('./_uid')\n  , wks            = require('./_wks')\n  , wksExt         = require('./_wks-ext')\n  , wksDefine      = require('./_wks-define')\n  , keyOf          = require('./_keyof')\n  , enumKeys       = require('./_enum-keys')\n  , isArray        = require('./_is-array')\n  , anObject       = require('./_an-object')\n  , toIObject      = require('./_to-iobject')\n  , toPrimitive    = require('./_to-primitive')\n  , createDesc     = require('./_property-desc')\n  , _create        = require('./_object-create')\n  , gOPNExt        = require('./_object-gopn-ext')\n  , $GOPD          = require('./_object-gopd')\n  , $DP            = require('./_object-dp')\n  , $keys          = require('./_object-keys')\n  , gOPD           = $GOPD.f\n  , dP             = $DP.f\n  , gOPN           = gOPNExt.f\n  , $Symbol        = global.Symbol\n  , $JSON          = global.JSON\n  , _stringify     = $JSON && $JSON.stringify\n  , PROTOTYPE      = 'prototype'\n  , HIDDEN         = wks('_hidden')\n  , TO_PRIMITIVE   = wks('toPrimitive')\n  , isEnum         = {}.propertyIsEnumerable\n  , SymbolRegistry = shared('symbol-registry')\n  , AllSymbols     = shared('symbols')\n  , OPSymbols      = shared('op-symbols')\n  , ObjectProto    = Object[PROTOTYPE]\n  , USE_NATIVE     = typeof $Symbol == 'function'\n  , QObject        = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDesc = DESCRIPTORS && $fails(function(){\n  return _create(dP({}, 'a', {\n    get: function(){ return dP(this, 'a', {value: 7}).a; }\n  })).a != 7;\n}) ? function(it, key, D){\n  var protoDesc = gOPD(ObjectProto, key);\n  if(protoDesc)delete ObjectProto[key];\n  dP(it, key, D);\n  if(protoDesc && it !== ObjectProto)dP(ObjectProto, key, protoDesc);\n} : dP;\n\nvar wrap = function(tag){\n  var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);\n  sym._k = tag;\n  return sym;\n};\n\nvar isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function(it){\n  return typeof it == 'symbol';\n} : function(it){\n  return it instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(it, key, D){\n  if(it === ObjectProto)$defineProperty(OPSymbols, key, D);\n  anObject(it);\n  key = toPrimitive(key, true);\n  anObject(D);\n  if(has(AllSymbols, key)){\n    if(!D.enumerable){\n      if(!has(it, HIDDEN))dP(it, HIDDEN, createDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if(has(it, HIDDEN) && it[HIDDEN][key])it[HIDDEN][key] = false;\n      D = _create(D, {enumerable: createDesc(0, false)});\n    } return setSymbolDesc(it, key, D);\n  } return dP(it, key, D);\n};\nvar $defineProperties = function defineProperties(it, P){\n  anObject(it);\n  var keys = enumKeys(P = toIObject(P))\n    , i    = 0\n    , l = keys.length\n    , key;\n  while(l > i)$defineProperty(it, key = keys[i++], P[key]);\n  return it;\n};\nvar $create = function create(it, P){\n  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n};\nvar $propertyIsEnumerable = function propertyIsEnumerable(key){\n  var E = isEnum.call(this, key = toPrimitive(key, true));\n  if(this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key))return false;\n  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;\n};\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key){\n  it  = toIObject(it);\n  key = toPrimitive(key, true);\n  if(it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key))return;\n  var D = gOPD(it, key);\n  if(D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key]))D.enumerable = true;\n  return D;\n};\nvar $getOwnPropertyNames = function getOwnPropertyNames(it){\n  var names  = gOPN(toIObject(it))\n    , result = []\n    , i      = 0\n    , key;\n  while(names.length > i){\n    if(!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META)result.push(key);\n  } return result;\n};\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it){\n  var IS_OP  = it === ObjectProto\n    , names  = gOPN(IS_OP ? OPSymbols : toIObject(it))\n    , result = []\n    , i      = 0\n    , key;\n  while(names.length > i){\n    if(has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true))result.push(AllSymbols[key]);\n  } return result;\n};\n\n// 19.4.1.1 Symbol([description])\nif(!USE_NATIVE){\n  $Symbol = function Symbol(){\n    if(this instanceof $Symbol)throw TypeError('Symbol is not a constructor!');\n    var tag = uid(arguments.length > 0 ? arguments[0] : undefined);\n    var $set = function(value){\n      if(this === ObjectProto)$set.call(OPSymbols, value);\n      if(has(this, HIDDEN) && has(this[HIDDEN], tag))this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, createDesc(1, value));\n    };\n    if(DESCRIPTORS && setter)setSymbolDesc(ObjectProto, tag, {configurable: true, set: $set});\n    return wrap(tag);\n  };\n  redefine($Symbol[PROTOTYPE], 'toString', function toString(){\n    return this._k;\n  });\n\n  $GOPD.f = $getOwnPropertyDescriptor;\n  $DP.f   = $defineProperty;\n  require('./_object-gopn').f = gOPNExt.f = $getOwnPropertyNames;\n  require('./_object-pie').f  = $propertyIsEnumerable;\n  require('./_object-gops').f = $getOwnPropertySymbols;\n\n  if(DESCRIPTORS && !require('./_library')){\n    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n\n  wksExt.f = function(name){\n    return wrap(wks(name));\n  }\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, {Symbol: $Symbol});\n\nfor(var symbols = (\n  // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14\n  'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'\n).split(','), i = 0; symbols.length > i; )wks(symbols[i++]);\n\nfor(var symbols = $keys(wks.store), i = 0; symbols.length > i; )wksDefine(symbols[i++]);\n\n$export($export.S + $export.F * !USE_NATIVE, 'Symbol', {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function(key){\n    return has(SymbolRegistry, key += '')\n      ? SymbolRegistry[key]\n      : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(key){\n    if(isSymbol(key))return keyOf(SymbolRegistry, key);\n    throw TypeError(key + ' is not a symbol!');\n  },\n  useSetter: function(){ setter = true; },\n  useSimple: function(){ setter = false; }\n});\n\n$export($export.S + $export.F * !USE_NATIVE, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// 24.3.2 JSON.stringify(value [, replacer [, space]])\n$JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function(){\n  var S = $Symbol();\n  // MS Edge converts symbol values to JSON as {}\n  // WebKit converts symbol values to JSON as null\n  // V8 throws on boxed symbols\n  return _stringify([S]) != '[null]' || _stringify({a: S}) != '{}' || _stringify(Object(S)) != '{}';\n})), 'JSON', {\n  stringify: function stringify(it){\n    if(it === undefined || isSymbol(it))return; // IE8 returns string on undefined\n    var args = [it]\n      , i    = 1\n      , replacer, $replacer;\n    while(arguments.length > i)args.push(arguments[i++]);\n    replacer = args[1];\n    if(typeof replacer == 'function')$replacer = replacer;\n    if($replacer || !isArray(replacer))replacer = function(key, value){\n      if($replacer)value = $replacer.call(this, key, value);\n      if(!isSymbol(value))return value;\n    };\n    args[1] = replacer;\n    return _stringify.apply($JSON, args);\n  }\n});\n\n// 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)\n$Symbol[PROTOTYPE][TO_PRIMITIVE] || require('./_hide')($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n// 19.4.3.5 Symbol.prototype[@@toStringTag]\nsetToStringTag($Symbol, 'Symbol');\n// 20.2.1.9 Math[@@toStringTag]\nsetToStringTag(Math, 'Math', true);\n// 24.3.3 JSON[@@toStringTag]\nsetToStringTag(global.JSON, 'JSON', true);\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/es6.symbol.js\n **/","var META     = require('./_uid')('meta')\n  , isObject = require('./_is-object')\n  , has      = require('./_has')\n  , setDesc  = require('./_object-dp').f\n  , id       = 0;\nvar isExtensible = Object.isExtensible || function(){\n  return true;\n};\nvar FREEZE = !require('./_fails')(function(){\n  return isExtensible(Object.preventExtensions({}));\n});\nvar setMeta = function(it){\n  setDesc(it, META, {value: {\n    i: 'O' + ++id, // object ID\n    w: {}          // weak collections IDs\n  }});\n};\nvar fastKey = function(it, create){\n  // return primitive with prefix\n  if(!isObject(it))return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if(!has(it, META)){\n    // can't set metadata to uncaught frozen object\n    if(!isExtensible(it))return 'F';\n    // not necessary to add metadata\n    if(!create)return 'E';\n    // add missing metadata\n    setMeta(it);\n  // return object ID\n  } return it[META].i;\n};\nvar getWeak = function(it, create){\n  if(!has(it, META)){\n    // can't set metadata to uncaught frozen object\n    if(!isExtensible(it))return true;\n    // not necessary to add metadata\n    if(!create)return false;\n    // add missing metadata\n    setMeta(it);\n  // return hash weak collections IDs\n  } return it[META].w;\n};\n// add metadata on freeze-family methods calling\nvar onFreeze = function(it){\n  if(FREEZE && meta.NEED && isExtensible(it) && !has(it, META))setMeta(it);\n  return it;\n};\nvar meta = module.exports = {\n  KEY:      META,\n  NEED:     false,\n  fastKey:  fastKey,\n  getWeak:  getWeak,\n  onFreeze: onFreeze\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/_meta.js\n **/","var global         = require('./_global')\n  , core           = require('./_core')\n  , LIBRARY        = require('./_library')\n  , wksExt         = require('./_wks-ext')\n  , defineProperty = require('./_object-dp').f;\nmodule.exports = function(name){\n  var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});\n  if(name.charAt(0) != '_' && !(name in $Symbol))defineProperty($Symbol, name, {value: wksExt.f(name)});\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/_wks-define.js\n **/","var getKeys   = require('./_object-keys')\n  , toIObject = require('./_to-iobject');\nmodule.exports = function(object, el){\n  var O      = toIObject(object)\n    , keys   = getKeys(O)\n    , length = keys.length\n    , index  = 0\n    , key;\n  while(length > index)if(O[key = keys[index++]] === el)return key;\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/_keyof.js\n **/","// all enumerable object keys, includes symbols\nvar getKeys = require('./_object-keys')\n  , gOPS    = require('./_object-gops')\n  , pIE     = require('./_object-pie');\nmodule.exports = function(it){\n  var result     = getKeys(it)\n    , getSymbols = gOPS.f;\n  if(getSymbols){\n    var symbols = getSymbols(it)\n      , isEnum  = pIE.f\n      , i       = 0\n      , key;\n    while(symbols.length > i)if(isEnum.call(it, key = symbols[i++]))result.push(key);\n  } return result;\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/_enum-keys.js\n **/","exports.f = Object.getOwnPropertySymbols;\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/_object-gops.js\n **/","exports.f = {}.propertyIsEnumerable;\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/_object-pie.js\n **/","// 7.2.2 IsArray(argument)\nvar cof = require('./_cof');\nmodule.exports = Array.isArray || function isArray(arg){\n  return cof(arg) == 'Array';\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/_is-array.js\n **/","// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nvar toIObject = require('./_to-iobject')\n  , gOPN      = require('./_object-gopn').f\n  , toString  = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function(it){\n  try {\n    return gOPN(it);\n  } catch(e){\n    return windowNames.slice();\n  }\n};\n\nmodule.exports.f = function getOwnPropertyNames(it){\n  return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/_object-gopn-ext.js\n **/","// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\nvar $keys      = require('./_object-keys-internal')\n  , hiddenKeys = require('./_enum-bug-keys').concat('length', 'prototype');\n\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O){\n  return $keys(O, hiddenKeys);\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/_object-gopn.js\n **/","var pIE            = require('./_object-pie')\n  , createDesc     = require('./_property-desc')\n  , toIObject      = require('./_to-iobject')\n  , toPrimitive    = require('./_to-primitive')\n  , has            = require('./_has')\n  , IE8_DOM_DEFINE = require('./_ie8-dom-define')\n  , gOPD           = Object.getOwnPropertyDescriptor;\n\nexports.f = require('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P){\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if(IE8_DOM_DEFINE)try {\n    return gOPD(O, P);\n  } catch(e){ /* empty */ }\n  if(has(O, P))return createDesc(!pIE.f.call(O, P), O[P]);\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/_object-gopd.js\n **/","require('./_wks-define')('asyncIterator');\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/es7.symbol.async-iterator.js\n **/","require('./_wks-define')('observable');\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/es7.symbol.observable.js\n **/","\"use strict\";\n\nexports.__esModule = true;\n\nvar _getPrototypeOf = require(\"../core-js/object/get-prototype-of\");\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _getOwnPropertyDescriptor = require(\"../core-js/object/get-own-property-descriptor\");\n\nvar _getOwnPropertyDescriptor2 = _interopRequireDefault(_getOwnPropertyDescriptor);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function get(object, property, receiver) {\n  if (object === null) object = Function.prototype;\n  var desc = (0, _getOwnPropertyDescriptor2.default)(object, property);\n\n  if (desc === undefined) {\n    var parent = (0, _getPrototypeOf2.default)(object);\n\n    if (parent === null) {\n      return undefined;\n    } else {\n      return get(parent, property, receiver);\n    }\n  } else if (\"value\" in desc) {\n    return desc.value;\n  } else {\n    var getter = desc.get;\n\n    if (getter === undefined) {\n      return undefined;\n    }\n\n    return getter.call(receiver);\n  }\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-runtime/helpers/get.js\n **/","module.exports = { \"default\": require(\"core-js/library/fn/object/get-own-property-descriptor\"), __esModule: true };\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-runtime/core-js/object/get-own-property-descriptor.js\n **/","require('../../modules/es6.object.get-own-property-descriptor');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function getOwnPropertyDescriptor(it, key){\n  return $Object.getOwnPropertyDescriptor(it, key);\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/fn/object/get-own-property-descriptor.js\n **/","// 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\nvar toIObject                 = require('./_to-iobject')\n  , $getOwnPropertyDescriptor = require('./_object-gopd').f;\n\nrequire('./_object-sap')('getOwnPropertyDescriptor', function(){\n  return function getOwnPropertyDescriptor(it, key){\n    return $getOwnPropertyDescriptor(toIObject(it), key);\n  };\n});\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/es6.object.get-own-property-descriptor.js\n **/","\"use strict\";\n\nexports.__esModule = true;\n\nvar _setPrototypeOf = require(\"../core-js/object/set-prototype-of\");\n\nvar _setPrototypeOf2 = _interopRequireDefault(_setPrototypeOf);\n\nvar _create = require(\"../core-js/object/create\");\n\nvar _create2 = _interopRequireDefault(_create);\n\nvar _typeof2 = require(\"../helpers/typeof\");\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + (typeof superClass === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(superClass)));\n  }\n\n  subClass.prototype = (0, _create2.default)(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf2.default ? (0, _setPrototypeOf2.default)(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-runtime/helpers/inherits.js\n **/","module.exports = { \"default\": require(\"core-js/library/fn/object/set-prototype-of\"), __esModule: true };\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-runtime/core-js/object/set-prototype-of.js\n **/","require('../../modules/es6.object.set-prototype-of');\nmodule.exports = require('../../modules/_core').Object.setPrototypeOf;\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/fn/object/set-prototype-of.js\n **/","// 19.1.3.19 Object.setPrototypeOf(O, proto)\nvar $export = require('./_export');\n$export($export.S, 'Object', {setPrototypeOf: require('./_set-proto').set});\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/es6.object.set-prototype-of.js\n **/","// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar isObject = require('./_is-object')\n  , anObject = require('./_an-object');\nvar check = function(O, proto){\n  anObject(O);\n  if(!isObject(proto) && proto !== null)throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function(test, buggy, set){\n      try {\n        set = require('./_ctx')(Function.call, require('./_object-gopd').f(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch(e){ buggy = true; }\n      return function setPrototypeOf(O, proto){\n        check(O, proto);\n        if(buggy)O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/_set-proto.js\n **/","module.exports = { \"default\": require(\"core-js/library/fn/object/create\"), __esModule: true };\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-runtime/core-js/object/create.js\n **/","require('../../modules/es6.object.create');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function create(P, D){\n  return $Object.create(P, D);\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/fn/object/create.js\n **/","var $export = require('./_export')\n// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\n$export($export.S, 'Object', {create: require('./_object-create')});\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/es6.object.create.js\n **/","import AudioBufferLoader from './audio-buffer-loader';\n\n\n/**\n * SuperLoader\n * Helper to load multiple type of files, and get them in their useful type, json for json files, AudioBuffer for audio files.\n */\nexport default class SuperLoader extends AudioBufferLoader {\n  /**\n   * Use composition to setup appropriate file loaders\n   */\n  constructor() {\n    super(null);\n    // bypass AudioBufferLoader constructor. This is bad but it works.\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** super-loader.js\n **/","/*!\n * wavesurfer.js 2.0.0-beta01 (Tue May 02 2017 19:46:40 GMT+0200 (CEST))\n * https://github.com/katspaugh/wavesurfer.js\n * @license CC-BY-3.0\n */\n!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(\"WaveSurfer\",[],t):\"object\"==typeof exports?exports.WaveSurfer=t():e.WaveSurfer=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,\"a\",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p=\"localhost:8080/dist/\",t(t.s=13)}([function(e,t,n){\"use strict\";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,\"__esModule\",{value:!0});var i=n(7);Object.defineProperty(t,\"ajax\",{enumerable:!0,get:function(){return r(i).default}});var a=n(9);Object.defineProperty(t,\"getId\",{enumerable:!0,get:function(){return r(a).default}});var s=n(10);Object.defineProperty(t,\"max\",{enumerable:!0,get:function(){return r(s).default}});var o=n(11);Object.defineProperty(t,\"min\",{enumerable:!0,get:function(){return r(o).default}});var u=n(2);Object.defineProperty(t,\"Observer\",{enumerable:!0,get:function(){return r(u).default}});var l=n(8);Object.defineProperty(t,\"extend\",{enumerable:!0,get:function(){return r(l).default}});var c=n(12);Object.defineProperty(t,\"style\",{enumerable:!0,get:function(){return r(c).default}});var h=n(14);Object.defineProperty(t,\"debounce\",{enumerable:!0,get:function(){return r(h).default}})},function(e,t,n){\"use strict\";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function a(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function s(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),c=\"playing\",h=\"paused\",f=\"finished\",d=function(e){function t(e){var n,s;i(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o.audioContext=null,o.offlineAudioContext=null,o.stateBehaviors=(n={},r(n,c,{init:function(){this.addOnAudioProcess()},getPlayedPercents:function(){var e=this.getDuration();return this.getCurrentTime()/e||0},getCurrentTime:function(){return this.startPosition+this.getPlayedTime()}}),r(n,h,{init:function(){this.removeOnAudioProcess()},getPlayedPercents:function(){var e=this.getDuration();return this.getCurrentTime()/e||0},getCurrentTime:function(){return this.startPosition}}),r(n,f,{init:function(){this.removeOnAudioProcess(),this.fireEvent(\"finish\")},getPlayedPercents:function(){return 1},getCurrentTime:function(){return this.getDuration()}}),n),o.params=e,o.ac=e.audioContext||o.getAudioContext(),o.lastPlay=o.ac.currentTime,o.startPosition=0,o.scheduledPause=null,o.states=(s={},r(s,c,Object.create(o.stateBehaviors[c])),r(s,h,Object.create(o.stateBehaviors[h])),r(s,f,Object.create(o.stateBehaviors[f])),s),o.analyser=null,o.buffer=null,o.filters=[],o.gainNode=null,o.mergedPeaks=null,o.offlineAc=null,o.peaks=null,o.playbackRate=1,o.analyser=null,o.scriptNode=null,o.source=null,o.splitPeaks=[],o.state=null,o}return s(t,e),o(t,[{key:\"supportsWebAudio\",value:function(){return!(!window.AudioContext&&!window.webkitAudioContext)}},{key:\"getAudioContext\",value:function(){return window.WaveSurferAudioContext||(window.WaveSurferAudioContext=new(window.AudioContext||window.webkitAudioContext)),window.WaveSurferAudioContext}},{key:\"getOfflineAudioContext\",value:function(e){return window.WaveSurferOfflineAudioContext||(window.WaveSurferOfflineAudioContext=new(window.OfflineAudioContext||window.webkitOfflineAudioContext)(1,2,e)),window.WaveSurferOfflineAudioContext}}]),o(t,[{key:\"init\",value:function(){this.createVolumeNode(),this.createScriptNode(),this.createAnalyserNode(),this.setState(h),this.setPlaybackRate(this.params.audioRate),this.setLength(0)}},{key:\"disconnectFilters\",value:function(){this.filters&&(this.filters.forEach(function(e){e&&e.disconnect()}),this.filters=null,this.analyser.connect(this.gainNode))}},{key:\"setState\",value:function(e){this.state!==this.states[e]&&(this.state=this.states[e],this.state.init.call(this))}},{key:\"setFilter\",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this.setFilters(t)}},{key:\"setFilters\",value:function(e){this.disconnectFilters(),e&&e.length&&(this.filters=e,this.analyser.disconnect(),e.reduce(function(e,t){return e.connect(t),t},this.analyser).connect(this.gainNode))}},{key:\"createScriptNode\",value:function(){this.ac.createScriptProcessor?this.scriptNode=this.ac.createScriptProcessor(this.scriptBufferSize):this.scriptNode=this.ac.createJavaScriptNode(this.scriptBufferSize),this.scriptNode.connect(this.ac.destination)}},{key:\"addOnAudioProcess\",value:function(){var e=this;this.scriptNode.onaudioprocess=function(){var t=e.getCurrentTime();t>=e.getDuration()?(e.setState(f),e.fireEvent(\"pause\")):t>=e.scheduledPause?e.pause():e.state===e.states[c]&&e.fireEvent(\"audioprocess\",t)}}},{key:\"removeOnAudioProcess\",value:function(){this.scriptNode.onaudioprocess=null}},{key:\"createAnalyserNode\",value:function(){this.analyser=this.ac.createAnalyser(),this.analyser.connect(this.gainNode)}},{key:\"createVolumeNode\",value:function(){this.ac.createGain?this.gainNode=this.ac.createGain():this.gainNode=this.ac.createGainNode(),this.gainNode.connect(this.ac.destination)}},{key:\"setVolume\",value:function(e){this.gainNode.gain.value=e}},{key:\"getVolume\",value:function(){return this.gainNode.gain.value}},{key:\"decodeArrayBuffer\",value:function(e,t,n){this.offlineAc||(this.offlineAc=this.getOfflineAudioContext(this.ac?this.ac.sampleRate:44100)),this.offlineAc.decodeAudioData(e,function(e){return t(e)},n)}},{key:\"setPeaks\",value:function(e){this.peaks=e}},{key:\"setLength\",value:function(e){if(!this.mergedPeaks||e!=2*this.mergedPeaks.length-1+2){this.splitPeaks=[],this.mergedPeaks=[];var t=this.buffer?this.buffer.numberOfChannels:1,n=void 0;for(n=0;n<t;n++)this.splitPeaks[n]=[],this.splitPeaks[n][2*(e-1)]=0,this.splitPeaks[n][2*(e-1)+1]=0;this.mergedPeaks[2*(e-1)]=0,this.mergedPeaks[2*(e-1)+1]=0}}},{key:\"getPeaks\",value:function(e,t,n){if(this.peaks)return this.peaks;this.setLength(e);var r=this.buffer.length/e,i=~~(r/10)||1,a=this.buffer.numberOfChannels,s=void 0;for(s=0;s<a;s++){var o=this.splitPeaks[s],u=this.buffer.getChannelData(s),l=void 0;for(l=t;l<=n;l++){var c=~~(l*r),h=~~(c+r),f=0,d=0,p=void 0;for(p=c;p<h;p+=i){var v=u[p];v>d&&(d=v),v<f&&(f=v)}o[2*l]=d,o[2*l+1]=f,(0==s||d>this.mergedPeaks[2*l])&&(this.mergedPeaks[2*l]=d),(0==s||f<this.mergedPeaks[2*l+1])&&(this.mergedPeaks[2*l+1]=f)}}return this.params.splitChannels?this.splitPeaks:this.mergedPeaks}},{key:\"getPlayedPercents\",value:function(){return this.state.getPlayedPercents.call(this)}},{key:\"disconnectSource\",value:function(){this.source&&this.source.disconnect()}},{key:\"destroy\",value:function(){this.isPaused()||this.pause(),this.unAll(),this.buffer=null,this.disconnectFilters(),this.disconnectSource(),this.gainNode.disconnect(),this.scriptNode.disconnect(),this.analyser.disconnect(),this.params.closeAudioContext&&(\"function\"==typeof this.ac.close&&this.ac.close(),this.ac=null,this.params.audioContext?this.params.audioContext=null:window.WaveSurferAudioContext=null,window.WaveSurferOfflineAudioContext=null)}},{key:\"load\",value:function(e){this.startPosition=0,this.lastPlay=this.ac.currentTime,this.buffer=e,this.createSource()}},{key:\"createSource\",value:function(){this.disconnectSource(),this.source=this.ac.createBufferSource(),this.source.start=this.source.start||this.source.noteGrainOn,this.source.stop=this.source.stop||this.source.noteOff,this.source.playbackRate.value=this.playbackRate,this.source.buffer=this.buffer,this.source.connect(this.analyser)}},{key:\"isPaused\",value:function(){return this.state!==this.states[c]}},{key:\"getDuration\",value:function(){return this.buffer?this.buffer.duration:0}},{key:\"seekTo\",value:function(e,t){if(this.buffer)return this.scheduledPause=null,null==e&&(e=this.getCurrentTime())>=this.getDuration()&&(e=0),null==t&&(t=this.getDuration()),this.startPosition=e,this.lastPlay=this.ac.currentTime,this.state===this.states[f]&&this.setState(h),{start:e,end:t}}},{key:\"getPlayedTime\",value:function(){return(this.ac.currentTime-this.lastPlay)*this.playbackRate}},{key:\"play\",value:function(e,t){if(this.buffer){this.createSource();var n=this.seekTo(e,t);e=n.start,t=n.end,this.scheduledPause=t,this.source.start(0,e,t-e),\"suspended\"==this.ac.state&&this.ac.resume&&this.ac.resume(),this.setState(c),this.fireEvent(\"play\")}}},{key:\"pause\",value:function(){this.scheduledPause=null,this.startPosition+=this.getPlayedTime(),this.source&&this.source.stop(0),this.setState(h),this.fireEvent(\"pause\")}},{key:\"getCurrentTime\",value:function(){return this.state.getCurrentTime.call(this)}},{key:\"getPlaybackRate\",value:function(){return this.playbackRate}},{key:\"setPlaybackRate\",value:function(e){e=e||1,this.isPaused()?this.playbackRate=e:(this.pause(),this.playbackRate=e,this.play())}}]),t}(l.Observer);d.scriptBufferSize=256,t.default=d,e.exports=t.default},function(e,t,n){\"use strict\";function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(t,\"__esModule\",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(){r(this,e),this.handlers=null}return i(e,[{key:\"on\",value:function(e,t){var n=this;this.handlers||(this.handlers={});var r=this.handlers[e];return r||(r=this.handlers[e]=[]),r.push(t),{name:e,callback:t,un:function(e,t){return n.un(e,t)}}}},{key:\"un\",value:function(e,t){if(this.handlers){var n=this.handlers[e],r=void 0;if(n)if(t)for(r=n.length-1;r>=0;r--)n[r]==t&&n.splice(r,1);else n.length=0}}},{key:\"unAll\",value:function(){this.handlers=null}},{key:\"once\",value:function(e,t){var n=this,r=function r(){for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];t.apply(n,a),setTimeout(function(){n.un(e,r)},0)};return this.on(e,r)}},{key:\"fireEvent\",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(this.handlers){var i=this.handlers[e];i&&i.forEach(function(e){e.apply(void 0,n)})}}}]),e}();t.default=a,e.exports=t.default},function(e,t,n){\"use strict\";function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function i(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(6),u=function(e){return e&&e.__esModule?e:{default:e}}(o),l=n(0),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(l),h=function(e){function t(e,n){r(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a.maxCanvasWidth=n.maxCanvasWidth,a.maxCanvasElementWidth=Math.round(n.maxCanvasWidth/n.pixelRatio),a.hasProgressCanvas=n.waveColor!=n.progressColor,a.halfPixel=.5/n.pixelRatio,a.canvases=[],a.progressWave=null,a}return a(t,e),s(t,[{key:\"init\",value:function(){this.createWrapper(),this.createElements()}},{key:\"createElements\",value:function(){this.progressWave=this.wrapper.appendChild(this.style(document.createElement(\"wave\"),{position:\"absolute\",zIndex:2,left:0,top:0,bottom:0,overflow:\"hidden\",width:\"0\",display:\"none\",boxSizing:\"border-box\",borderRightStyle:\"solid\",borderRightWidth:this.params.cursorWidth+\"px\",borderRightColor:this.params.cursorColor})),this.addCanvas()}},{key:\"updateSize\",value:function(){for(var e=this,t=Math.round(this.width/this.params.pixelRatio),n=Math.ceil(t/this.maxCanvasElementWidth);this.canvases.length<n;)this.addCanvas();for(;this.canvases.length>n;)this.removeCanvas();this.canvases.forEach(function(t,n){var r=e.maxCanvasWidth+2*Math.ceil(e.params.pixelRatio/2);n==e.canvases.length-1&&(r=e.width-e.maxCanvasWidth*(e.canvases.length-1)),e.updateDimensions(t,r,e.height),e.clearWaveForEntry(t)})}},{key:\"addCanvas\",value:function(){var e={},t=this.maxCanvasElementWidth*this.canvases.length;e.wave=this.wrapper.appendChild(this.style(document.createElement(\"canvas\"),{position:\"absolute\",zIndex:1,left:t+\"px\",top:0,bottom:0})),e.waveCtx=e.wave.getContext(\"2d\"),this.hasProgressCanvas&&(e.progress=this.progressWave.appendChild(this.style(document.createElement(\"canvas\"),{position:\"absolute\",left:t+\"px\",top:0,bottom:0})),e.progressCtx=e.progress.getContext(\"2d\")),this.canvases.push(e)}},{key:\"removeCanvas\",value:function(){var e=this.canvases.pop();e.wave.parentElement.removeChild(e.wave),this.hasProgressCanvas&&e.progress.parentElement.removeChild(e.progress)}},{key:\"updateDimensions\",value:function(e,t,n){var r=Math.round(t/this.params.pixelRatio),i=Math.round(this.width/this.params.pixelRatio);e.start=e.waveCtx.canvas.offsetLeft/i||0,e.end=e.start+r/i,e.waveCtx.canvas.width=t,e.waveCtx.canvas.height=n,this.style(e.waveCtx.canvas,{width:r+\"px\"}),this.style(this.progressWave,{display:\"block\"}),this.hasProgressCanvas&&(e.progressCtx.canvas.width=t,e.progressCtx.canvas.height=n,this.style(e.progressCtx.canvas,{width:r+\"px\"}))}},{key:\"clearWave\",value:function(){var e=this;this.canvases.forEach(function(t){return e.clearWaveForEntry(t)})}},{key:\"clearWaveForEntry\",value:function(e){e.waveCtx.clearRect(0,0,e.waveCtx.canvas.width,e.waveCtx.canvas.height),this.hasProgressCanvas&&e.progressCtx.clearRect(0,0,e.progressCtx.canvas.width,e.progressCtx.canvas.height)}},{key:\"drawBars\",value:function(e,t,n,r){var i=this;if(e[0]instanceof Array){var a=e;if(this.params.splitChannels)return this.setHeight(a.length*this.params.height*this.params.pixelRatio),void a.forEach(function(e,t){return i.drawBars(e,t,n,r)});e=a[0]}var s=[].some.call(e,function(e){return e<0}),o=s?2:1,u=this.width,l=this.params.height*this.params.pixelRatio,h=l*t||0,f=l/2,d=e.length/o,p=this.params.barWidth*this.params.pixelRatio,v=Math.max(this.params.pixelRatio,~~(p/2)),y=p+v,m=1;if(this.params.normalize){var k=c.max(e),g=c.min(e);m=-g>k?-g:k}var b=d/u,w=void 0;for(w=n/b;w<r/b;w+=y){var P=e[Math.floor(w*b*o)]||0,C=Math.round(P/m*f);this.fillRect(w+this.halfPixel,f-C+h,p+this.halfPixel,2*C)}}},{key:\"drawWave\",value:function(e,t,n,r){var i=this;if(e[0]instanceof Array){var a=e;if(this.params.splitChannels)return this.setHeight(a.length*this.params.height*this.params.pixelRatio),void a.forEach(function(e,t){return i.drawWave(e,t,n,r)});e=a[0]}if(![].some.call(e,function(e){return e<0})){var s=[],o=e.length,u=void 0;for(u=0;u<o;u++)s[2*u]=e[u],s[2*u+1]=-e[u];e=s}var l=this.params.height*this.params.pixelRatio,h=l*t||0,f=l/2,d=1;if(this.params.normalize){var p=c.max(e),v=c.min(e);d=-v>p?-v:p}this.drawLine(e,d,f,h,n,r),this.fillRect(0,f+h-this.halfPixel,this.width,this.halfPixel)}},{key:\"drawLine\",value:function(e,t,n,r,i,a){var s=this;this.canvases.forEach(function(o){s.setFillStyles(o),s.drawLineToContext(o,o.waveCtx,e,t,n,r,i,a),s.drawLineToContext(o,o.progressCtx,e,t,n,r,i,a)})}},{key:\"drawLineToContext\",value:function(e,t,n,r,i,a,s,o){if(t){var u=n.length/2,l=1;this.params.fillParent&&this.width!=u&&(l=this.width/u);var c=Math.round(u*e.start),h=Math.round(u*e.end);if(!(c>o||h<s)){var f=Math.max(c,s),d=Math.min(h,o),p=void 0,v=void 0;for(t.beginPath(),t.moveTo((f-c)*l+this.halfPixel,i+a),p=f;p<d;p++){var y=n[2*p]||0,m=Math.round(y/r*i);t.lineTo((p-c)*l+this.halfPixel,i-m+a)}for(v=d-1;v>=f;v--){var k=n[2*v+1]||0,g=Math.round(k/r*i);t.lineTo((v-c)*l+this.halfPixel,i-g+a)}t.closePath(),t.fill()}}}},{key:\"fillRect\",value:function(e,t,n,r){var i=Math.floor(e/this.maxCanvasWidth),a=Math.min(Math.ceil((e+n)/this.maxCanvasWidth)+1,this.canvases.length),s=void 0;for(s=i;s<a;s++){var o=this.canvases[s],u=s*this.maxCanvasWidth,l={x1:Math.max(e,s*this.maxCanvasWidth),y1:t,x2:Math.min(e+n,s*this.maxCanvasWidth+o.waveCtx.canvas.width),y2:t+r};l.x1<l.x2&&(this.setFillStyles(o),this.fillRectToContext(o.waveCtx,l.x1-u,l.y1,l.x2-l.x1,l.y2-l.y1),this.fillRectToContext(o.progressCtx,l.x1-u,l.y1,l.x2-l.x1,l.y2-l.y1))}}},{key:\"fillRectToContext\",value:function(e,t,n,r,i){e&&e.fillRect(t,n,r,i)}},{key:\"setFillStyles\",value:function(e){e.waveCtx.fillStyle=this.params.waveColor,this.hasProgressCanvas&&(e.progressCtx.fillStyle=this.params.progressColor)}},{key:\"getImage\",value:function(e,t){var n=this.canvases.map(function(n){return n.wave.toDataURL(e,t)});return n.length>1?n:n[0]}},{key:\"updateProgress\",value:function(e){this.style(this.progressWave,{width:e+\"px\"})}}]),t}(u.default);t.default=h,e.exports=t.default},function(e,t,n){\"use strict\";function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function i(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if(\"value\"in i)return i.value;var s=i.get;if(void 0!==s)return s.call(r)},u=n(1),l=function(e){return e&&e.__esModule?e:{default:e}}(u),c=n(0),h=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(c),function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.params=e,n.media={currentTime:0,duration:0,paused:!0,playbackRate:1,play:function(){},pause:function(){}},n.mediaType=e.mediaType.toLowerCase(),n.elementPosition=e.elementPosition,n.peaks=null,n.playbackRate=1,n.buffer=null,n.onPlayEnd=null,n}return a(t,e),s(t,[{key:\"init\",value:function(){this.setPlaybackRate(this.params.audioRate),this.createTimer()}},{key:\"createTimer\",value:function(){var e=this,t=function t(){if(!e.isPaused()){e.fireEvent(\"audioprocess\",e.getCurrentTime());(window.requestAnimationFrame||window.webkitRequestAnimationFrame)(t)}};this.on(\"play\",t)}},{key:\"load\",value:function(e,t,n,r){var i=document.createElement(this.mediaType);i.controls=this.params.mediaControls,i.autoplay=this.params.autoplay||!1,i.preload=null==r?\"auto\":r,i.src=e,i.style.width=\"100%\";var a=t.querySelector(this.mediaType);a&&t.removeChild(a),t.appendChild(i),this._load(i,n)}},{key:\"loadElt\",value:function(e,t){e.controls=this.params.mediaControls,e.autoplay=this.params.autoplay||!1,this._load(e,t)}},{key:\"_load\",value:function(e,t){var n=this;\"function\"==typeof e.load&&e.load(),e.addEventListener(\"error\",function(){n.fireEvent(\"error\",\"Error loading media element\")}),e.addEventListener(\"canplay\",function(){n.fireEvent(\"canplay\")}),e.addEventListener(\"ended\",function(){n.fireEvent(\"finish\")}),this.media=e,this.peaks=t,this.onPlayEnd=null,this.buffer=null,this.setPlaybackRate(this.playbackRate)}},{key:\"isPaused\",value:function(){return!this.media||this.media.paused}},{key:\"getDuration\",value:function(){var e=(this.buffer||this.media).duration;return e>=1/0&&(e=this.media.seekable.end(0)),e}},{key:\"getCurrentTime\",value:function(){return this.media&&this.media.currentTime}},{key:\"getPlayedPercents\",value:function(){return this.getCurrentTime()/this.getDuration()||0}},{key:\"setPlaybackRate\",value:function(e){this.playbackRate=e||1,this.media.playbackRate=this.playbackRate}},{key:\"seekTo\",value:function(e){null!=e&&(this.media.currentTime=e),this.clearPlayEnd()}},{key:\"play\",value:function(e,t){this.seekTo(e),this.media.play(),t&&this.setPlayEnd(t),this.fireEvent(\"play\")}},{key:\"pause\",value:function(){this.media&&this.media.pause(),this.clearPlayEnd(),this.fireEvent(\"pause\")}},{key:\"setPlayEnd\",value:function(e){var t=this;this._onPlayEnd=function(n){n>=e&&(t.pause(),t.seekTo(e))},this.on(\"audioprocess\",this._onPlayEnd)}},{key:\"clearPlayEnd\",value:function(){this._onPlayEnd&&(this.un(\"audioprocess\",this._onPlayEnd),this._onPlayEnd=null)}},{key:\"getPeaks\",value:function(e,n,r){return this.buffer?o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),\"getPeaks\",this).call(this,e,n,r):this.peaks||[]}},{key:\"getVolume\",value:function(){return this.media.volume}},{key:\"setVolume\",value:function(e){this.media.volume=e}},{key:\"destroy\",value:function(){this.pause(),this.unAll(),this.media&&this.media.parentNode&&this.media.parentNode.removeChild(this.media),this.media=null}}]),t}(l.default));t.default=h,e.exports=t.default},function(e,t,n){\"use strict\";function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(t,\"__esModule\",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(){r(this,e),this.clearPeakCache()}return i(e,[{key:\"clearPeakCache\",value:function(){this.peakCacheRanges=[],this.peakCacheLength=-1}},{key:\"addRangeToPeakCache\",value:function(e,t,n){e!=this.peakCacheLength&&(this.clearPeakCache(),this.peakCacheLength=e);for(var r=[],i=0;i<this.peakCacheRanges.length&&this.peakCacheRanges[i]<t;)i++;for(i%2==0&&r.push(t);i<this.peakCacheRanges.length&&this.peakCacheRanges[i]<=n;)r.push(this.peakCacheRanges[i]),i++;i%2==0&&r.push(n),r=r.filter(function(e,t,n){return 0==t?e!=n[t+1]:t==n.length-1?e!=n[t-1]:e!=n[t-1]&&e!=n[t+1]}),this.peakCacheRanges=this.peakCacheRanges.concat(r),this.peakCacheRanges=this.peakCacheRanges.sort(function(e,t){return e-t}).filter(function(e,t,n){return 0==t?e!=n[t+1]:t==n.length-1?e!=n[t-1]:e!=n[t-1]&&e!=n[t+1]});var a=[];for(i=0;i<r.length;i+=2)a.push([r[i],r[i+1]]);return a}},{key:\"getCacheRanges\",value:function(){var e=[],t=void 0;for(t=0;t<this.peakCacheRanges.length;t+=2)e.push([this.peakCacheRanges[t],this.peakCacheRanges[t+1]]);return e}}]),e}();t.default=a,e.exports=t.default},function(e,t,n){\"use strict\";function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function i(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(o),l=function(e){function t(e,n){r(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return a.container=e,a.params=n,a.width=0,a.height=n.height*a.params.pixelRatio,a.lastPos=0,a.wrapper=null,a}return a(t,e),s(t,[{key:\"style\",value:function(e,t){return u.style(e,t)}},{key:\"createWrapper\",value:function(){this.wrapper=this.container.appendChild(document.createElement(\"wave\")),this.style(this.wrapper,{display:\"block\",position:\"relative\",userSelect:\"none\",webkitUserSelect:\"none\",height:this.params.height+\"px\"}),(this.params.fillParent||this.params.scrollParent)&&this.style(this.wrapper,{width:\"100%\",overflowX:this.params.hideScrollbar?\"hidden\":\"auto\",overflowY:\"hidden\"}),this.setupWrapperEvents()}},{key:\"handleEvent\",value:function(e,t){!t&&e.preventDefault();var n=e.targetTouches?e.targetTouches[0].clientX:e.clientX,r=this.wrapper.getBoundingClientRect(),i=this.width,a=this.getWidth(),s=void 0;return!this.params.fillParent&&i<a?(s=(n-r.left)*this.params.pixelRatio/i||0)>1&&(s=1):s=(n-r.left+this.wrapper.scrollLeft)/this.wrapper.scrollWidth||0,s}},{key:\"setupWrapperEvents\",value:function(){var e=this;this.wrapper.addEventListener(\"click\",function(t){var n=e.wrapper.offsetHeight-e.wrapper.clientHeight;if(0!=n){var r=e.wrapper.getBoundingClientRect();if(t.clientY>=r.bottom-n)return}e.params.interact&&e.fireEvent(\"click\",t,e.handleEvent(t))}),this.wrapper.addEventListener(\"scroll\",function(t){return e.fireEvent(\"scroll\",t)})}},{key:\"drawPeaks\",value:function(e,t,n,r){this.setWidth(t),this.params.barWidth?this.drawBars(e,0,n,r):this.drawWave(e,0,n,r)}},{key:\"resetScroll\",value:function(){null!==this.wrapper&&(this.wrapper.scrollLeft=0)}},{key:\"recenter\",value:function(e){var t=this.wrapper.scrollWidth*e;this.recenterOnPosition(t,!0)}},{key:\"recenterOnPosition\",value:function(e,t){var n=this.wrapper.scrollLeft,r=~~(this.wrapper.clientWidth/2),i=this.wrapper.scrollWidth-this.wrapper.clientWidth,a=e-r,s=a-n;if(0!=i){if(!t&&-r<=s&&s<r){s=Math.max(-5,Math.min(5,s)),a=n+s}a=Math.max(0,Math.min(i,a)),a!=n&&(this.wrapper.scrollLeft=a)}}},{key:\"getScrollX\",value:function(){return Math.round(this.wrapper.scrollLeft*this.params.pixelRatio)}},{key:\"getWidth\",value:function(){return Math.round(this.container.clientWidth*this.params.pixelRatio)}},{key:\"setWidth\",value:function(e){this.width!=e&&(this.width=e,this.params.fillParent||this.params.scrollParent?this.style(this.wrapper,{width:\"\"}):this.style(this.wrapper,{width:~~(this.width/this.params.pixelRatio)+\"px\"}),this.updateSize())}},{key:\"setHeight\",value:function(e){e!=this.height&&(this.height=e,this.style(this.wrapper,{height:~~(this.height/this.params.pixelRatio)+\"px\"}),this.updateSize())}},{key:\"progress\",value:function(e){var t=1/this.params.pixelRatio,n=Math.round(e*this.width)*t;if(n<this.lastPos||n-this.lastPos>=t){if(this.lastPos=n,this.params.scrollParent&&this.params.autoCenter){var r=~~(this.wrapper.scrollWidth*e);this.recenterOnPosition(r)}this.updateProgress(n)}}},{key:\"destroy\",value:function(){this.unAll(),this.wrapper&&(this.container.removeChild(this.wrapper),this.wrapper=null)}},{key:\"updateSize\",value:function(){}},{key:\"drawBars\",value:function(e,t,n,r){}},{key:\"drawWave\",value:function(e,t,n,r){}},{key:\"clearWave\",value:function(){}},{key:\"updateProgress\",value:function(e){}}]),t}(u.Observer);t.default=l,e.exports=t.default},function(e,t,n){\"use strict\";function r(e){var t=new a.default,n=new XMLHttpRequest,r=!1;return n.open(e.method||\"GET\",e.url,!0),n.responseType=e.responseType||\"json\",n.addEventListener(\"progress\",function(e){t.fireEvent(\"progress\",e),e.lengthComputable&&e.loaded==e.total&&(r=!0)}),n.addEventListener(\"load\",function(e){r||t.fireEvent(\"progress\",e),t.fireEvent(\"load\",e),200==n.status||206==n.status?t.fireEvent(\"success\",n.response,e):t.fireEvent(\"error\",e)}),n.addEventListener(\"error\",function(e){return t.fireEvent(\"error\",e)}),n.send(),t.xhr=n,t}Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=r;var i=n(2),a=function(e){return e&&e.__esModule?e:{default:e}}(i);e.exports=t.default},function(e,t,n){\"use strict\";function r(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.forEach(function(t){Object.keys(t).forEach(function(n){e[n]=t[n]})}),e}Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=r,e.exports=t.default},function(e,t,n){\"use strict\";function r(){return\"wavesurfer_\"+Math.random().toString(32).substring(2)}Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=r,e.exports=t.default},function(e,t,n){\"use strict\";function r(e){var t=-1/0;return Object.keys(e).forEach(function(n){e[n]>t&&(t=e[n])}),t}Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=r,e.exports=t.default},function(e,t,n){\"use strict\";function r(e){var t=Number(1/0);return Object.keys(e).forEach(function(n){e[n]<t&&(t=e[n])}),t}Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=r,e.exports=t.default},function(e,t,n){\"use strict\";function r(e,t){return Object.keys(t).forEach(function(n){e.style[n]!==t[n]&&(e.style[n]=t[n])}),e}Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=r,e.exports=t.default},function(e,t,n){\"use strict\";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(t,\"__esModule\",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),c=n(3),h=r(c),f=n(1),d=r(f),p=n(4),v=r(p),y=n(5),m=r(y),k=(function(){function e(t,n){s(this,e)}o(e,[{key:\"create\",value:function(e){}}]),o(e,[{key:\"init\",value:function(){}},{key:\"destroy\",value:function(){}}])}(),function(e){function t(e){var n;s(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(r.defaultParams={audioContext:null,audioRate:1,autoCenter:!0,backend:\"WebAudio\",container:null,cursorColor:\"#333\",cursorWidth:1,dragSelection:!0,fillParent:!0,forceDecode:!0,height:128,hideScrollbar:!1,interact:!0,loopSelection:!0,maxCanvasWidth:4e3,mediaContainer:null,mediaControls:!1,mediaType:\"audio\",minPxPerSec:20,normalize:!1,partialRender:!1,pixelRatio:window.devicePixelRatio||screen.deviceXDPI/screen.logicalXDPI,plugins:[],progressColor:\"#555\",renderer:h.default,responsive:!1,scrollParent:!1,skipLength:2,splitChannels:!1,waveColor:\"#999\"},r.backends={MediaElement:v.default,WebAudio:d.default},r.util=l,r.params=l.extend({},r.defaultParams,e),r.container=\"string\"==typeof e.container?document.querySelector(r.params.container):r.params.container,!r.container)throw new Error(\"Container element not found\");if(null==r.params.mediaContainer?r.mediaContainer=r.container:\"string\"==typeof r.params.mediaContainer?r.mediaContainer=document.querySelector(r.params.mediaContainer):r.mediaContainer=r.params.mediaContainer,!r.mediaContainer)throw new Error(\"Media Container element not found\");if(r.params.maxCanvasWidth<=1)throw new Error(\"maxCanvasWidth must be greater than 1\");if(r.params.maxCanvasWidth%2==1)throw new Error(\"maxCanvasWidth must be an even number\");if(r.savedVolume=0,r.isMuted=!1,r.tmpEvents=[],r.currentAjax=null,r.arraybuffer=null,r.drawer=null,r.backend=null,r.peakCache=null,\"function\"!=typeof r.params.renderer)throw new Error(\"Renderer parameter is invalid\");r.Drawer=r.params.renderer,r.Backend=r.backends[r.params.backend],r.initialisedPluginList={},r.isDestroyed=!1,r.isReady=!1;var a=0;return r._onResize=l.debounce(function(){a!=r.drawer.wrapper.clientWidth&&(a=r.drawer.wrapper.clientWidth,r.empty(),r.drawBuffer())},\"number\"==typeof r.params.responsive?r.params.responsive:100),n=r,i(r,n)}return a(t,e),o(t,null,[{key:\"create\",value:function(e){return new t(e).init()}}]),o(t,[{key:\"init\",value:function(){return this.registerPlugins(this.params.plugins),this.createDrawer(),this.createBackend(),this.createPeakCache(),this}},{key:\"registerPlugins\",value:function(e){var t=this;return e.forEach(function(e){return t.addPlugin(e)}),e.forEach(function(e){e.deferInit||t.initPlugin(e.name)}),this.fireEvent(\"plugins-registered\",e),this}},{key:\"addPlugin\",value:function(e){var t=this;if(!e.name)throw new Error(\"Plugin does not have a name!\");if(!e.instance)throw new Error(\"Plugin \"+e.name+\" does not have an instance property!\");e.staticProps&&Object.keys(e.staticProps).forEach(function(n){t[n]=e.staticProps[n]});var n=e.instance;return Object.getOwnPropertyNames(l.Observer.prototype).forEach(function(e){n.prototype[e]=l.Observer.prototype[e]}),this[e.name]=new n(e.params||{},this),this.fireEvent(\"plugin-added\",e.name),this}},{key:\"initPlugin\",value:function(e){if(!this[e])throw new Error(\"Plugin \"+e+\" has not been added yet!\");return this.initialisedPluginList[e]&&this.destroyPlugin(e),this[e].init(),this.initialisedPluginList[e]=!0,this.fireEvent(\"plugin-initialised\",e),this}},{key:\"destroyPlugin\",value:function(e){if(!this[e])throw new Error(\"Plugin \"+e+\" has not been added yet and cannot be destroyed!\");if(!this.initialisedPluginList[e])throw new Error(\"Plugin \"+e+\" is not active and cannot be destroyed!\");if(\"function\"!=typeof this[e].destroy)throw new Error(\"Plugin \"+e+\" does not have a destroy function!\");return this[e].destroy(),delete this.initialisedPluginList[e],this.fireEvent(\"plugin-destroyed\",e),this}},{key:\"destroyAllPlugins\",value:function(){var e=this;Object.keys(this.initialisedPluginList).forEach(function(t){return e.destroyPlugin(t)})}},{key:\"createDrawer\",value:function(){var e=this;this.drawer=new this.Drawer(this.container,this.params),this.drawer.init(),this.fireEvent(\"drawer-created\",this.drawer),this.params.responsive&&window.addEventListener(\"resize\",this._onResize,!0),this.drawer.on(\"redraw\",function(){e.drawBuffer(),e.drawer.progress(e.backend.getPlayedPercents())}),this.drawer.on(\"click\",function(t,n){setTimeout(function(){return e.seekTo(n)},0)}),this.drawer.on(\"scroll\",function(t){e.params.partialRender&&e.drawBuffer(),e.fireEvent(\"scroll\",t)})}},{key:\"createBackend\",value:function(){var e=this;this.backend&&this.backend.destroy(),\"AudioElement\"==this.params.backend&&(this.params.backend=\"MediaElement\"),\"WebAudio\"!=this.params.backend||this.Backend.prototype.supportsWebAudio.call(null)||(this.params.backend=\"MediaElement\"),this.backend=new this.Backend(this.params),this.backend.init(),this.fireEvent(\"backend-created\",this.backend),this.backend.on(\"finish\",function(){return e.fireEvent(\"finish\")}),this.backend.on(\"play\",function(){return e.fireEvent(\"play\")}),this.backend.on(\"pause\",function(){return e.fireEvent(\"pause\")}),this.backend.on(\"audioprocess\",function(t){e.drawer.progress(e.backend.getPlayedPercents()),e.fireEvent(\"audioprocess\",t)})}},{key:\"createPeakCache\",value:function(){this.params.partialRender&&(this.peakCache=new m.default)}},{key:\"getDuration\",value:function(){return this.backend.getDuration()}},{key:\"getCurrentTime\",value:function(){return this.backend.getCurrentTime()}},{key:\"play\",value:function(e,t){var n=this;this.fireEvent(\"interaction\",function(){return n.play(e,t)}),this.backend.play(e,t)}},{key:\"pause\",value:function(){this.backend.isPaused()||this.backend.pause()}},{key:\"playPause\",value:function(){this.backend.isPaused()?this.play():this.pause()}},{key:\"isPlaying\",value:function(){return!this.backend.isPaused()}},{key:\"skipBackward\",value:function(e){this.skip(-e||-this.params.skipLength)}},{key:\"skipForward\",value:function(e){this.skip(e||this.params.skipLength)}},{key:\"skip\",value:function(e){var t=this.getDuration()||1,n=this.getCurrentTime()||0;n=Math.max(0,Math.min(t,n+(e||0))),this.seekAndCenter(n/t)}},{key:\"seekAndCenter\",value:function(e){this.seekTo(e),this.drawer.recenter(e)}},{key:\"seekTo\",value:function(e){var t=this;this.fireEvent(\"interaction\",function(){return t.seekTo(e)});var n=this.backend.isPaused();n||this.backend.pause();var r=this.params.scrollParent;this.params.scrollParent=!1,this.backend.seekTo(e*this.getDuration()),this.drawer.progress(this.backend.getPlayedPercents()),n||this.backend.play(),this.params.scrollParent=r,this.fireEvent(\"seek\",e)}},{key:\"stop\",value:function(){this.pause(),this.seekTo(0),this.drawer.progress(0)}},{key:\"setVolume\",value:function(e){this.backend.setVolume(e)}},{key:\"getVolume\",value:function(){return this.backend.getVolume()}},{key:\"setPlaybackRate\",value:function(e){this.backend.setPlaybackRate(e)}},{key:\"getPlaybackRate\",value:function(){return this.backend.getPlaybackRate()}},{key:\"toggleMute\",value:function(){this.setMute(!this.isMuted)}},{key:\"setMute\",value:function(e){e!==this.isMuted&&(e?(this.savedVolume=this.backend.getVolume(),this.backend.setVolume(0),this.isMuted=!0):(this.backend.setVolume(this.savedVolume),this.isMuted=!1))}},{key:\"getMute\",value:function(){return this.isMuted}},{key:\"toggleScroll\",value:function(){this.params.scrollParent=!this.params.scrollParent,this.drawBuffer()}},{key:\"toggleInteraction\",value:function(){this.params.interact=!this.params.interact}},{key:\"drawBuffer\",value:function(){var e=Math.round(this.getDuration()*this.params.minPxPerSec*this.params.pixelRatio),t=this.drawer.getWidth(),n=e,r=this.drawer.getScrollX(),i=Math.min(r+t,n);this.params.fillParent&&(!this.params.scrollParent||e<t)&&(n=t,r=0,i=n);var a=void 0;if(this.params.partialRender){var s=this.peakCache.addRangeToPeakCache(n,r,i),o=void 0;for(o=0;o<s.length;o++)a=this.backend.getPeaks(n,s[o][0],s[o][1]),this.drawer.drawPeaks(a,n,s[o][0],s[o][1])}else r=0,i=n,a=this.backend.getPeaks(n,r,i),this.drawer.drawPeaks(a,n,r,i);this.fireEvent(\"redraw\",a,n)}},{key:\"zoom\",value:function(e){this.params.minPxPerSec=e,this.params.scrollParent=!0,this.drawBuffer(),this.drawer.progress(this.backend.getPlayedPercents()),this.drawer.recenter(this.getCurrentTime()/this.getDuration()),this.fireEvent(\"zoom\",e)}},{key:\"loadArrayBuffer\",value:function(e){var t=this;this.decodeArrayBuffer(e,function(e){t.isDestroyed||t.loadDecodedBuffer(e)})}},{key:\"loadDecodedBuffer\",value:function(e){this.backend.load(e),this.drawBuffer(),this.fireEvent(\"ready\"),this.isReady=!0}},{key:\"loadBlob\",value:function(e){var t=this,n=new FileReader;n.addEventListener(\"progress\",function(e){return t.onProgress(e)}),n.addEventListener(\"load\",function(e){return t.loadArrayBuffer(e.target.result)}),n.addEventListener(\"error\",function(){return t.fireEvent(\"error\",\"Error reading file\")}),n.readAsArrayBuffer(e),this.empty()}},{key:\"load\",value:function(e,t,n){switch(this.empty(),this.params.backend){case\"WebAudio\":return this.loadBuffer(e,t);case\"MediaElement\":return this.loadMediaElement(e,t,n)}}},{key:\"loadBuffer\",value:function(e,t){var n=this,r=function(t){return t&&n.tmpEvents.push(n.once(\"ready\",t)),n.getArrayBuffer(e,function(e){return n.loadArrayBuffer(e)})};if(!t)return r();this.backend.setPeaks(t),this.drawBuffer(),this.tmpEvents.push(this.once(\"interaction\",r))}},{key:\"loadMediaElement\",value:function(e,t,n){var r=this,i=e;if(\"string\"==typeof e)this.backend.load(i,this.mediaContainer,t,n);else{var a=e;this.backend.loadElt(a,t),i=a.src}this.tmpEvents.push(this.backend.once(\"canplay\",function(){r.drawBuffer(),r.fireEvent(\"ready\")}),this.backend.once(\"error\",function(e){return r.fireEvent(\"error\",e)})),t&&this.backend.setPeaks(t),t&&!this.params.forceDecode||!this.backend.supportsWebAudio()||this.getArrayBuffer(i,function(e){r.decodeArrayBuffer(e,function(e){r.backend.buffer=e,r.backend.setPeaks(null),r.drawBuffer(),r.fireEvent(\"waveform-ready\")})})}},{key:\"decodeArrayBuffer\",value:function(e,t){var n=this;this.arraybuffer=e,this.backend.decodeArrayBuffer(e,function(r){n.isDestroyed||n.arraybuffer!=e||(t(r),n.arraybuffer=null)},function(){return n.fireEvent(\"error\",\"Error decoding audiobuffer\")})}},{key:\"getArrayBuffer\",value:function(e,t){var n=this,r=l.ajax({url:e,responseType:\"arraybuffer\"});return this.currentAjax=r,this.tmpEvents.push(r.on(\"progress\",function(e){n.onProgress(e)}),r.on(\"success\",function(e,r){t(e),n.currentAjax=null}),r.on(\"error\",function(e){n.fireEvent(\"error\",\"XHR error: \"+e.target.statusText),n.currentAjax=null})),r}},{key:\"onProgress\",value:function(e){var t=void 0;t=e.lengthComputable?e.loaded/e.total:e.loaded/(e.loaded+1e6),this.fireEvent(\"loading\",Math.round(100*t),e.target)}},{key:\"exportPCM\",value:function(e,t,n){e=e||1024,t=t||1e4,n=n||!1;var r=this.backend.getPeaks(e,t),i=[].map.call(r,function(e){return Math.round(e*t)/t}),a=JSON.stringify(i);return n||window.open(\"data:application/json;charset=utf-8,\"+encodeURIComponent(a)),a}},{key:\"exportImage\",value:function(e,t){return e||(e=\"image/png\"),t||(t=1),this.drawer.getImage(e,t)}},{key:\"cancelAjax\",value:function(){this.currentAjax&&(this.currentAjax.xhr.abort(),this.currentAjax=null)}},{key:\"clearTmpEvents\",value:function(){this.tmpEvents.forEach(function(e){return e.un()})}},{key:\"empty\",value:function(){this.backend.isPaused()||(this.stop(),this.backend.disconnectSource()),this.cancelAjax(),this.clearTmpEvents(),this.drawer.progress(0),this.drawer.setWidth(0),this.drawer.drawPeaks({length:this.drawer.getWidth()},0)}},{key:\"destroy\",value:function(){this.destroyAllPlugins(),this.fireEvent(\"destroy\"),this.cancelAjax(),this.clearTmpEvents(),this.unAll(),this.params.responsive&&window.removeEventListener(\"resize\",this._onResize,!0),this.backend.destroy(),this.drawer.destroy(),this.isDestroyed=!0,this.arraybuffer=null}}]),t}(l.Observer));k.util=l,t.default=k,e.exports=t.default},function(e,t){e.exports=function(e,t,n){function r(){var l=Date.now()-o;l<t&&l>=0?i=setTimeout(r,t-l):(i=null,n||(u=e.apply(s,a),s=a=null))}var i,a,s,o,u;null==t&&(t=100);var l=function(){s=this,a=arguments,o=Date.now();var l=n&&!i;return i||(i=setTimeout(r,t)),l&&(u=e.apply(s,a),s=a=null),u};return l.clear=function(){i&&(clearTimeout(i),i=null)},l}}])});\n//# sourceMappingURL=wavesurfer.min.js.map\n\n\n/** WEBPACK FOOTER **\n ** ./~/wavesurfer.js/dist/wavesurfer.min.js\n **/","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tmodule.children = [];\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** (webpack)/buildin/module.js\n **/","import MyWebAudio from './webaudio_subclassed';\n\nexport default class BackendPlugin {\n\n    static create(params) {\n        return {\n            name: 'backend',\n            deferInit: params && params.deferInit ? params.deferInit : false,\n            params: params,\n            instance: BackendPlugin\n        };\n    }\n\n    constructor(params, ws) {\n        console.log('Custom backend constructor');\n        this.wavesurfer = ws;\n        this.wavesurfer.Backend = MyWebAudio;\n        this.wavesurfer.createBackend();\n    }\n\n    init() {\n        console.log('init backend');\n    }\n\n    destroy() {\n        console.log('destroy backend');\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/backend_granular_player.js\n **/","import * as wavesAudio from 'waves-audio';\nimport WebAudio from '../node_modules/wavesurfer.js/src/webaudio';\n\nconst PLAYING = 'playing';\nconst PAUSED = 'paused';\nconst FINISHED = 'finished';\n\nexport default class MyWebAudio extends WebAudio {\n    constructor(params) {\n        super(params);\n    }\n\n    getAudioContext() {\n        if (!window.WaveSurferAudioContext) {\n\n            window.WaveSurferAudioContext = wavesAudio.audioContext;\n        }\n\n        return window.WaveSurferAudioContext;\n    }\n\n    addOnAudioProcess() {\n        const my = this;\n\n        this.scriptNode.onaudioprocess = function(e) {\n            const time = my.getCurrentTime();\n\n            if (time >= my.getDuration() || time < 0) {\n                my.setState(FINISHED);\n                my.fireEvent('pause');\n            } else if (time >= my.scheduledPause && my.playControl && !my.playControl.loop) {\n                my.setState(PAUSED);\n                my.fireEvent('pause');\n            } else if (my.state === my.states[PLAYING]) {\n                my.fireEvent('audioprocess', time);\n            }\n\n        };\n    }\n\n    destroy() {\n        console.log('FIXME: Do cleanup of wavesjs etc...');\n        super.destroy();\n    }\n\n    getTransported() {\n        return this.transportedEngine;\n    }\n\n    createSource() {\n        const self = this;\n        /*\n                function setupSegmentPlayer() {\n\n                    let audioContext = wavesAudio.audioContext;\n                    let loader = new self.wavesLoaders.SuperLoader(); // instantiate loader\n\n                    let assets = [\n                        \"./assets/3_4_Guitar30bpm96khz32bit.wav\",\n                        \"./assets/3_4_guitar-loop.json\"\n                    ];\n\n                    // load audio and marker files\n                    loader.load(assets).then(function(loaded) {\n                        let audioBuffer = loaded[0];\n                        let markerBuffer = loaded[1];\n\n                        self.scheduledSegmentEngine.connect(WaveSurfer.WebAudio.audioContext.destination);\n\n                        // create transport with play control and transported segment engine\n                        let _chord = markerBuffer.VI;\n                        let loopstart = _chord[0];\n                        let loopend = _chord[_chord.length - 1];\n\n                        self.transportedSegmentEngine = new wavesAudio.SegmentEngine({\n                            buffer: audioBuffer,\n                            positionArray: _chord,\n                            durationArray: markerBuffer.duration,\n                            offsetArray: markerBuffer.offset,\n                            durationRel: 0.95,\n                            releaseAbs: 0.005,\n                            releaseRel: 0.005,\n                            cyclic: true,\n\n                        });\n\n                        self.transportedSegmentEngine.connect(WaveSurfer.WebAudio.audioContext.destination);\n                        //self.transport.add(self.transportedSegmentEngine);\n\n\n                        let playControl = new wavesAudio.PlayControl(self.transportedSegmentEngine);\n\n                        console.log(loopend);\n                        playControl.setLoopBoundaries(loopstart, loopend);\n                        playControl.loop = true;\n\n\n                        playControl.speed = 1.0 * 2.0;\n                        playControl.seek(loopstart);\n                        playControl.start();\n                    });\n\n\n                }\n        */\n        /*\n                function setupMetronome() {\n                    self.metronome = new wavesAudio.Metronome();\n                    self.metronome.period = 60 / 86.49997514133682;\n                    self.metronome.clickFreq = 666;\n                    self.metronome.phase = 0;\n                    self.metronome.gain = 0;\n                    self.metronome.connect(WaveSurfer.WebAudio.audioContext.destination);\n                }\n        */\n        /**\n         * Setup granular\n         */\n        function setupGranular() {\n\n            // get scheduler and create scheduled granular engine\n            self.scheduler = wavesAudio.getScheduler();\n            self.scheduledGranularEngine = new wavesAudio.GranularEngine({\n                buffer: self.source.buffer\n            });\n            //self.scheduledGranularEngine.connect(self.analyser);\n\n            // create transport with play control and transported granular engine\n            //console.log(self.transportedEngine);\n            self.transportedEngine = new wavesAudio.GranularEngine({\n                buffer: self.source.buffer,\n                speed: 0.5,\n                periodAbs: 0.0003,\n                periodRel: 10,\n                periodVar: 0.0,\n                position: 0.0,\n                positionVar: 0.001,\n                durationAbs: 0.005,\n                durationRel: 20,/*!!!!!!!!!!!*/\n                attackAbs: 0.01,\n                attackRel: 0.0,\n                releaseAbs: 0.0,\n                releaseRel: 1.00,\n                releaseShape: 'lin',\n                expRampOffset: 0.0000,\n                resampling: 0,\n                resamplingVar: 0,\n                gain: 1,\n                centered: true,\n                cyclic: true,\n\n            });\n\n\n\n            self.transportedEngine.connect(self.analyser);\n            //self.transport.add(self.transportedEngine);\n\n            //self.scheduler.add(self.scheduledGranularEngine);\n\n\n\n        }\n\n        this.disconnectSource();\n        this.source = this.ac.createBufferSource();\n\n        //adjust for old browsers.\n        this.source.start = this.source.start || this.source.noteGrainOn;\n        this.source.stop = this.source.stop || this.source.noteOff;\n\n        this.source.playbackRate.value = this.playbackRate;\n        this.source.buffer = this.buffer;\n        // _MD_ // this.source.connect(this.analyser);\n\n\n        // create transport and add engines\n        this.transport = new wavesAudio.Transport();\n\n        setupGranular();\n        //setupMetronome();\n        //setupSegmentPlayer();\n\n\n\n        //this.transport.add(this.metronome);\n\n        const scheduler = wavesAudio.getScheduler();\n        //scheduler.add(this.metronome);\n\n\n        // create play control\n        this.playControl = new wavesAudio.PlayControl(this.transport);\n        this.playControl.speed = 0.5;\n\n    }\n\n    seekTo(start, end) {\n        let doLoop = true;\n\n        if (start == null) {\n            start = this.getCurrentTime();\n            if (start >= this.getDuration()) {\n                start = 0;\n            }\n        }\n        if (end == null) {\n            end = this.getDuration();\n            doLoop = false;\n        }\n        //this.startPosition = start;\n        this.startPosition = 0;\n        this.lastPlay = this.ac.currentTime;\n\n        if (this.state === this.states[FINISHED]) {\n            this.setState(PAUSED);\n        }\n        // When loop is true, an undesired behavior makes seeking\n        // beyond loopEnd change the position so that it fits inside\n        // loop region. This ugly fix turns off looping when seeking\n        // outside loop region. (Also when playing in reverse (speed < 0),\n        // the same happens at loopStart).\n        if (!doLoop) {\n            this.playControl.setLoopBoundaries(0, this.getDuration());\n        } else {\n            this.playControl.setLoopBoundaries(start, end);\n        }\n\n\n        this.playControl.seek(start);\n        this.playControl.loop = doLoop;\n\n        this.scheduledPause = end;\n\n        //console.log(\"start: \" + start + \" end: \" + end);\n\n        return {\n            start: start,\n            end: end\n        };\n    }\n\n    getPlayedTime() {\n        this.scheduledGranularEngine.position = this.playControl.currentPosition;\n        return (this.playControl.currentPosition); //.mod(this.getDuration());\n        //return (this.ac.currentTime - this.lastPlay) * this.playbackRate * this.playControl.speed;\n    }\n    play(start, end) {\n        if (!this.buffer) {\n            return;\n        }\n\n        // need to re-create source on each playback\n        //this.createSource();\n\n        const adjustedTime = this.seekTo(start, end);\n\n        start = adjustedTime.start;\n        end = adjustedTime.end;\n\n        this.scheduledPause = end;\n\n        //this.source.start(0, start, end - start);\n        //play();\n\n        //scheduler.add(this.transportedEngine);\n\n        this.playControl.start();\n        this.playControl.seek(start);\n\n        if (this.ac.state == 'suspended') {\n            this.ac.resume && this.ac.resume();\n        }\n\n        this.setState(PLAYING);\n\n        this.fireEvent('play');\n    }\n\n    pause() {\n        this.scheduledPause = null;\n\n        this.startPosition += this.getPlayedTime();\n        //this.source && this.source.stop(0);\n\n        this.playControl.pause();\n        //scheduler.remove(this.transportedEngine);\n\n\n        this.setState(PAUSED);\n\n        this.fireEvent('pause');\n    }\n\n    setPlaybackRate(value) {\n        value = value || 1;\n\n        if (this.playControl) {\n            this.playControl.speed = value;\n        }\n\n        if (this.isPaused()) {\n            this.playbackRate = value;\n        } else {\n            //this.pause();\n            this.playbackRate = value;\n            //this.play();\n        }\n    }\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/webaudio_subclassed.js\n **/","// exposes a single instance\nvar audioContext = null;\n\nvar AudioContext = window.AudioContext || window.webkitAudioContext;\n\nif(AudioContext) {\n  audioContext = new AudioContext();\n\n  if (/(iPhone|iPad)/i.test(navigator.userAgent) && audioContext.sampleRate < 44100) {\n    var buffer = audioContext.createBuffer(1, 1, 44100);\n    var dummy = audioContext.createBufferSource();\n    dummy.buffer = buffer;\n    dummy.connect(audioContext.destination);\n    dummy.start(0);\n    dummy.disconnect();\n  }\n}\n\nexport default audioContext;\n\n\n\n/** WEBPACK FOOTER **\n ** audio-context.js\n **/","/**\n * @class TimeEngine\n */\nexport default class TimeEngine {\n  constructor() {\n    this.master = null;\n    this.outputNode = null;\n  }\n\n  get currentTime() {\n    if (this.master)\n      return this.master.currentTime;\n\n    return undefined;\n  }\n\n  get currentPosition() {\n    var master = this.master;\n\n    if (master && master.currentPosition !== undefined)\n      return master.currentPosition;\n\n    return undefined;\n  }\n\n  /**\n   * Scheduled interface\n   *   - advanceTime(time), called to generate next event at given time, returns next time\n   */\n  static implementsScheduled(engine) {\n    return (engine.advanceTime && engine.advanceTime instanceof Function);\n  }\n\n  resetTime(time = undefined) {\n    if (this.master)\n      this.master.resetEngineTime(this, time);\n  }\n\n  /**\n   * Transported interface\n   *   - syncPosition(time, position, speed), called to reposition TimeEngine, returns next position\n   *   - advancePosition(time, position, speed), called to generate next event at given time and position, returns next position\n   */\n  static implementsTransported(engine) {\n    return (\n      engine.syncPosition && engine.syncPosition instanceof Function &&\n      engine.advancePosition && engine.advancePosition instanceof Function\n    );\n  }\n\n  resetPosition(position = undefined) {\n    if (this.master)\n      this.master.resetEnginePosition(this, position);\n  }\n\n  /**\n   * Speed-controlled interface\n   *   - syncSpeed(time, position, speed, ), called to\n   */\n  static implementsSpeedControlled(engine) {\n    return (engine.syncSpeed && engine.syncSpeed instanceof Function);\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** time-engine.js\n **/","import TimeEngine from './time-engine';\nimport defaultAudioContext from './audio-context';\n\n/**\n * @class AudioTimeEngine\n */\nexport default class AudioTimeEngine extends TimeEngine{\n  constructor(audioContext = defaultAudioContext) {\n    super();\n\n    this.audioContext = audioContext;\n    this.outputNode = null;\n  }\n\n  connect(target) {\n    this.outputNode.connect(target);\n    return this;\n  }\n\n  disconnect(connection) {\n    this.outputNode.disconnect(connection);\n    return this;\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** audio-time-engine.js\n **/","// works by reference\nfunction swap(arr, i1, i2) {\n  const tmp = arr[i1];\n  arr[i1] = arr[i2];\n  arr[i2] = tmp;\n}\n\n// https://jsperf.com/js-for-loop-vs-array-indexof/346\nfunction indexOf(arr, el) {\n  const l = arr.length;\n  // ignore first element as it can't be a entry\n  for (let i = 1; i < l; i++) {\n    if (arr[i] === el) {\n      return i;\n    }\n  }\n\n  return -1;\n}\n\n/**\n * Define if `time1` should be lower in the topography than `time2`.\n * Is dynamically affected to the priority queue according to handle `min` and `max` heap.\n * @param {Number} time1\n * @param {Number} time2\n * @return {Boolean}\n */\nconst _isLowerMaxHeap = function(time1, time2) {\n  return time1 < time2;\n}\n\nconst _isLowerMinHeap = function(time1, time2) {\n  return time1 > time2;\n}\n\n/**\n * Define if `time1` should be higher in the topography than `time2`.\n * Is dynamically affected to the priority queue according to handle `min` and `max` heap.\n * @param {Number} time1\n * @param {Number} time2\n * @return {Boolean}\n */\nconst _isHigherMaxHeap = function(time1, time2) {\n  return time1 > time2;\n}\n\nconst _isHigherMinHeap = function(time1, time2) {\n  return time1 < time2;\n}\n\nconst POSITIVE_INFINITY = Number.POSITIVE_INFINITY;\n\n/**\n * Priority queue implementing a binary heap.\n * Acts as a min heap by default, can be dynamically changed to a max heap by setting `reverse` to true.\n */\nexport default class PriorityQueue {\n  /**\n   * @param {String} [accessor='time'] - The attribute of the entries that should be used as the priority value. This attribute must be a number.\n   * @param {Number} [heapLength=100] - The size of the array used to create the heap.\n   */\n  constructor(heapLength = 100) {\n    /**\n     * @type {Number}\n     * A pointer to the first empty index of the heap.\n     */\n    this._currentLength = 1;\n\n    /**\n     * An array of the sorted indexes of the entries, the actual heap. Ignore the index 0.\n     * @type {Array}\n     */\n    this._heap = new Array(heapLength + 1);\n\n    /**\n     * Define the type of the queue: `min` heap if `false`, `max` heap if `true`\n     * @type {Boolean}\n     */\n    this._reverse = null;\n\n    // initialize compare functions\n    this.reverse = false;\n  }\n\n  /**\n   * Return the time of the first element in the binary heap.\n   * @returns {Number}\n   */\n  get time() {\n    if (this._currentLength > 1)\n      return this._heap[1].queueTime;\n\n    return Infinity;\n  }\n\n  /**\n   * Returns the entry of the first element in the binary heap.\n   * @returns {Number}\n   */\n  get head() {\n    return this._heap[1];\n  }\n\n  /**\n   * Change the order of the queue, rebuild the heap with the existing entries.\n   * @type {Boolean}\n   */\n  set reverse(value) {\n    if (value !== this._reverse) {\n      this._reverse = value;\n\n      if (this._reverse === true) {\n        this._isLower = _isLowerMaxHeap;\n        this._isHigher = _isHigherMaxHeap;\n      } else {\n        this._isLower = _isLowerMinHeap;\n        this._isHigher = _isHigherMinHeap;\n      }\n\n      this.buildHeap();\n    }\n  }\n\n  get reverse() {\n    return this._reverse;\n  }\n\n  /**\n   * Fix the heap by moving an entry to a new upper position.\n   * @param {Number} startIndex - The index of the entry to move.\n   */\n  _bubbleUp(startIndex) {\n    let entry = this._heap[startIndex];\n\n    let index = startIndex;\n    let parentIndex = Math.floor(index / 2);\n    let parent = this._heap[parentIndex];\n\n    while (parent && this._isHigher(entry.queueTime, parent.queueTime)) {\n      swap(this._heap, index, parentIndex);\n\n      index = parentIndex;\n      parentIndex = Math.floor(index / 2);\n      parent = this._heap[parentIndex];\n    }\n  }\n\n  /**\n   * Fix the heap by moving an entry to a new lower position.\n   * @param {Number} startIndex - The index of the entry to move.\n   */\n  _bubbleDown(startIndex) {\n    let entry = this._heap[startIndex];\n\n    let index = startIndex;\n    let c1index = index * 2;\n    let c2index = c1index + 1;\n    let child1 = this._heap[c1index];\n    let child2 = this._heap[c2index];\n\n    while ((child1 && this._isLower(entry.queueTime, child1.queueTime))||\n           (child2 && this._isLower(entry.queueTime, child2.queueTime)))\n    {\n      // swap with the minimum child\n      let targetIndex;\n\n      if (child2)\n        targetIndex = this._isHigher(child1.queueTime, child2.queueTime) ? c1index : c2index;\n      else\n        targetIndex = c1index;\n\n      swap(this._heap, index, targetIndex);\n\n      // update to find next children\n      index = targetIndex;\n      c1index = index * 2;\n      c2index = c1index + 1;\n      child1 = this._heap[c1index];\n      child2 = this._heap[c2index];\n    }\n  }\n\n  /**\n   * Build the heap from bottom up.\n   */\n  buildHeap() {\n    // find the index of the last internal node\n    // @todo - make sure that's the right way to do.\n    let maxIndex = Math.floor((this._currentLength - 1) / 2);\n\n    for (let i = maxIndex; i > 0; i--)\n      this._bubbleDown(i);\n  }\n\n  /**\n   * Insert a new object in the binary heap, and sort it.\n   * @param {Object} entry - Entry to insert.\n   * @param {Number} time - Time at which the entry should be orderer.\n   * @returns {Number} - Time of the first entry in the heap.\n   */\n  insert(entry, time) {\n    if (Math.abs(time) !== POSITIVE_INFINITY) {\n      entry.queueTime = time;\n      // add the new entry at the end of the heap\n      this._heap[this._currentLength] = entry;\n      // bubble it up\n      this._bubbleUp(this._currentLength);\n      this._currentLength += 1;\n\n      return this.time;\n    }\n\n    entry.queueTime = undefined;\n    return this.remove(entry);\n  }\n\n  /**\n   * Move an entry to a new position.\n   * @param {Object} entry - Entry to move.\n   * @param {Number} time - Time at which the entry should be orderer.\n   * @return {Number} - Time of first entry in the heap.\n   */\n  move(entry, time) {\n    if (Math.abs(time) !== POSITIVE_INFINITY) {\n      const index = indexOf(this._heap, entry);\n\n      if (index !== -1) {\n        entry.queueTime = time;\n        // define if the entry should be bubbled up or down\n        const parent = this._heap[Math.floor(index / 2)]\n\n        if (parent && this._isHigher(time, parent.queueTime))\n          this._bubbleUp(index);\n        else\n          this._bubbleDown(index);\n      }\n\n      return this.time;\n    }\n\n    entry.queueTime = undefined;\n    return this.remove(entry);\n  }\n\n  /**\n   * This is broken, assuming bubbling down only is false\n   * Remove an entry from the heap and fix the heap.\n   * @param {Object} entry - Entry to remove.\n   * @return {Number} - Time of first entry in the heap.\n   */\n  remove(entry) {\n    // find the index of the entry\n    const index = indexOf(this._heap, entry);\n\n    if (index !== -1) {\n      const lastIndex = this._currentLength - 1;\n\n      // if the entry is the last one\n      if (index === lastIndex) {\n        // remove the element from heap\n        this._heap[lastIndex] = undefined;\n        // update current length\n        this._currentLength = lastIndex;\n\n        return this.time;\n      } else {\n        // swap with the last element of the heap\n        swap(this._heap, index, lastIndex);\n        // remove the element from heap\n        this._heap[lastIndex] = undefined;\n\n        if (index === 1) {\n          this._bubbleDown(1);\n        } else {\n          // bubble the (ex last) element up or down according to its new context\n          const entry = this._heap[index];\n          const parent = this._heap[Math.floor(index / 2)];\n\n          if (parent && this._isHigher(entry.queueTime, parent.queueTime))\n            this._bubbleUp(index);\n          else\n            this._bubbleDown(index);\n        }\n      }\n\n      // update current length\n      this._currentLength = lastIndex;\n    }\n\n    return this.time;\n  }\n\n  /**\n   * Clear the queue.\n   */\n  clear() {\n    this._currentLength = 1;\n    this._heap = new Array(this._heap.length);\n  }\n\n  has(entry) {\n    return this._heap.indexOf(entry) !== -1;\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** priority-queue.js\n **/","/**\n * SchedulingQueue base class\n * http://wavesjs.github.io/audio/#audio-scheduling-queue\n *\n * Norbert.Schnell@ircam.fr\n * Copyright 2014, 2015 IRCAM Centre Pompidou\n */\n\nimport PriorityQueue from './priority-queue';\nimport TimeEngine from './time-engine';\nimport defaultAudioContext from './audio-context';\n\n/**\n * @class SchedulingQueue\n */\nexport default class SchedulingQueue extends TimeEngine {\n  constructor() {\n    super();\n\n    this.__queue = new PriorityQueue();\n    this.__engines = new Set();\n  }\n\n  // TimeEngine 'scheduled' interface\n  advanceTime(time) {\n    const engine = this.__queue.head;\n    const nextEngineTime = engine.advanceTime(time);\n\n    if (!nextEngineTime) {\n      engine.master = null;\n      this.__engines.delete(engine);\n      this.__queue.remove(engine);\n    } else {\n      this.__queue.move(engine, nextEngineTime);\n    }\n\n    return this.__queue.time;\n  }\n\n  // TimeEngine master method to be implemented by derived class\n  get currentTime() {\n    return 0;\n  }\n\n  // call a function at a given time\n  defer(fun, time = this.currentTime) {\n    if (!(fun instanceof Function))\n      throw new Error(\"object cannot be defered by scheduler\");\n\n    this.add({\n      advanceTime: function(time) { fun(time); }, // make sur that the advanceTime method does not returm anything\n    }, time);\n  }\n\n  // add a time engine to the scheduler\n  add(engine, time = this.currentTime) {\n    if (!TimeEngine.implementsScheduled(engine))\n      throw new Error(\"object cannot be added to scheduler\");\n\n    if (engine.master)\n      throw new Error(\"object has already been added to a master\");\n\n    engine.master = this;\n\n    // add to engines and queue\n    this.__engines.add(engine);\n    const nextTime = this.__queue.insert(engine, time);\n\n    // reschedule queue\n    this.resetTime(nextTime);\n  }\n\n  // remove a time engine from the queue\n  remove(engine) {\n    if (engine.master !== this)\n      throw new Error(\"object has not been added to this scheduler\");\n\n    engine.master = null;\n\n    // remove from array and queue\n    this.__engines.delete(engine);\n    const nextTime = this.__queue.remove(engine);\n\n    // reschedule queue\n    this.resetTime(nextTime);\n  }\n\n  // reset next engine time\n  resetEngineTime(engine, time = this.currentTime) {\n    if (engine.master !== this)\n      throw new Error(\"object has not been added to this scheduler\");\n\n    let nextTime;\n\n    if (this.__queue.has(engine))\n      nextTime = this.__queue.move(engine, time);\n    else\n      nextTime = this.__queue.insert(engine, time);\n\n    this.resetTime(nextTime);\n  }\n\n  // check whether a given engine is scheduled\n  has(engine) {\n    return this.__engines.has(engine);\n  }\n\n  // clear queue\n  clear() {\n    this.__queue.clear();\n    this.__engines.clear();\n    this.resetTime(Infinity);\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** scheduling-queue.js\n **/","module.exports = { \"default\": require(\"core-js/library/fn/set\"), __esModule: true };\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-runtime/core-js/set.js\n **/","require('../modules/es6.object.to-string');\nrequire('../modules/es6.string.iterator');\nrequire('../modules/web.dom.iterable');\nrequire('../modules/es6.set');\nrequire('../modules/es7.set.to-json');\nmodule.exports = require('../modules/_core').Set;\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/fn/set.js\n **/","'use strict';\nvar strong = require('./_collection-strong');\n\n// 23.2 Set Objects\nmodule.exports = require('./_collection')('Set', function(get){\n  return function Set(){ return get(this, arguments.length > 0 ? arguments[0] : undefined); };\n}, {\n  // 23.2.3.1 Set.prototype.add(value)\n  add: function add(value){\n    return strong.def(this, value = value === 0 ? 0 : value, value);\n  }\n}, strong);\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/es6.set.js\n **/","'use strict';\nvar dP          = require('./_object-dp').f\n  , create      = require('./_object-create')\n  , redefineAll = require('./_redefine-all')\n  , ctx         = require('./_ctx')\n  , anInstance  = require('./_an-instance')\n  , defined     = require('./_defined')\n  , forOf       = require('./_for-of')\n  , $iterDefine = require('./_iter-define')\n  , step        = require('./_iter-step')\n  , setSpecies  = require('./_set-species')\n  , DESCRIPTORS = require('./_descriptors')\n  , fastKey     = require('./_meta').fastKey\n  , SIZE        = DESCRIPTORS ? '_s' : 'size';\n\nvar getEntry = function(that, key){\n  // fast case\n  var index = fastKey(key), entry;\n  if(index !== 'F')return that._i[index];\n  // frozen object case\n  for(entry = that._f; entry; entry = entry.n){\n    if(entry.k == key)return entry;\n  }\n};\n\nmodule.exports = {\n  getConstructor: function(wrapper, NAME, IS_MAP, ADDER){\n    var C = wrapper(function(that, iterable){\n      anInstance(that, C, NAME, '_i');\n      that._i = create(null); // index\n      that._f = undefined;    // first entry\n      that._l = undefined;    // last entry\n      that[SIZE] = 0;         // size\n      if(iterable != undefined)forOf(iterable, IS_MAP, that[ADDER], that);\n    });\n    redefineAll(C.prototype, {\n      // 23.1.3.1 Map.prototype.clear()\n      // 23.2.3.2 Set.prototype.clear()\n      clear: function clear(){\n        for(var that = this, data = that._i, entry = that._f; entry; entry = entry.n){\n          entry.r = true;\n          if(entry.p)entry.p = entry.p.n = undefined;\n          delete data[entry.i];\n        }\n        that._f = that._l = undefined;\n        that[SIZE] = 0;\n      },\n      // 23.1.3.3 Map.prototype.delete(key)\n      // 23.2.3.4 Set.prototype.delete(value)\n      'delete': function(key){\n        var that  = this\n          , entry = getEntry(that, key);\n        if(entry){\n          var next = entry.n\n            , prev = entry.p;\n          delete that._i[entry.i];\n          entry.r = true;\n          if(prev)prev.n = next;\n          if(next)next.p = prev;\n          if(that._f == entry)that._f = next;\n          if(that._l == entry)that._l = prev;\n          that[SIZE]--;\n        } return !!entry;\n      },\n      // 23.2.3.6 Set.prototype.forEach(callbackfn, thisArg = undefined)\n      // 23.1.3.5 Map.prototype.forEach(callbackfn, thisArg = undefined)\n      forEach: function forEach(callbackfn /*, that = undefined */){\n        anInstance(this, C, 'forEach');\n        var f = ctx(callbackfn, arguments.length > 1 ? arguments[1] : undefined, 3)\n          , entry;\n        while(entry = entry ? entry.n : this._f){\n          f(entry.v, entry.k, this);\n          // revert to the last existing entry\n          while(entry && entry.r)entry = entry.p;\n        }\n      },\n      // 23.1.3.7 Map.prototype.has(key)\n      // 23.2.3.7 Set.prototype.has(value)\n      has: function has(key){\n        return !!getEntry(this, key);\n      }\n    });\n    if(DESCRIPTORS)dP(C.prototype, 'size', {\n      get: function(){\n        return defined(this[SIZE]);\n      }\n    });\n    return C;\n  },\n  def: function(that, key, value){\n    var entry = getEntry(that, key)\n      , prev, index;\n    // change existing entry\n    if(entry){\n      entry.v = value;\n    // create new entry\n    } else {\n      that._l = entry = {\n        i: index = fastKey(key, true), // <- index\n        k: key,                        // <- key\n        v: value,                      // <- value\n        p: prev = that._l,             // <- previous entry\n        n: undefined,                  // <- next entry\n        r: false                       // <- removed\n      };\n      if(!that._f)that._f = entry;\n      if(prev)prev.n = entry;\n      that[SIZE]++;\n      // add to index\n      if(index !== 'F')that._i[index] = entry;\n    } return that;\n  },\n  getEntry: getEntry,\n  setStrong: function(C, NAME, IS_MAP){\n    // add .keys, .values, .entries, [@@iterator]\n    // 23.1.3.4, 23.1.3.8, 23.1.3.11, 23.1.3.12, 23.2.3.5, 23.2.3.8, 23.2.3.10, 23.2.3.11\n    $iterDefine(C, NAME, function(iterated, kind){\n      this._t = iterated;  // target\n      this._k = kind;      // kind\n      this._l = undefined; // previous\n    }, function(){\n      var that  = this\n        , kind  = that._k\n        , entry = that._l;\n      // revert to the last existing entry\n      while(entry && entry.r)entry = entry.p;\n      // get next entry\n      if(!that._t || !(that._l = entry = entry ? entry.n : that._t._f)){\n        // or finish the iteration\n        that._t = undefined;\n        return step(1);\n      }\n      // return step by kind\n      if(kind == 'keys'  )return step(0, entry.k);\n      if(kind == 'values')return step(0, entry.v);\n      return step(0, [entry.k, entry.v]);\n    }, IS_MAP ? 'entries' : 'values' , !IS_MAP, true);\n\n    // add [@@species], 23.1.2.2, 23.2.2.2\n    setSpecies(NAME);\n  }\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/_collection-strong.js\n **/","'use strict';\nvar global         = require('./_global')\n  , $export        = require('./_export')\n  , meta           = require('./_meta')\n  , fails          = require('./_fails')\n  , hide           = require('./_hide')\n  , redefineAll    = require('./_redefine-all')\n  , forOf          = require('./_for-of')\n  , anInstance     = require('./_an-instance')\n  , isObject       = require('./_is-object')\n  , setToStringTag = require('./_set-to-string-tag')\n  , dP             = require('./_object-dp').f\n  , each           = require('./_array-methods')(0)\n  , DESCRIPTORS    = require('./_descriptors');\n\nmodule.exports = function(NAME, wrapper, methods, common, IS_MAP, IS_WEAK){\n  var Base  = global[NAME]\n    , C     = Base\n    , ADDER = IS_MAP ? 'set' : 'add'\n    , proto = C && C.prototype\n    , O     = {};\n  if(!DESCRIPTORS || typeof C != 'function' || !(IS_WEAK || proto.forEach && !fails(function(){\n    new C().entries().next();\n  }))){\n    // create collection constructor\n    C = common.getConstructor(wrapper, NAME, IS_MAP, ADDER);\n    redefineAll(C.prototype, methods);\n    meta.NEED = true;\n  } else {\n    C = wrapper(function(target, iterable){\n      anInstance(target, C, NAME, '_c');\n      target._c = new Base;\n      if(iterable != undefined)forOf(iterable, IS_MAP, target[ADDER], target);\n    });\n    each('add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON'.split(','),function(KEY){\n      var IS_ADDER = KEY == 'add' || KEY == 'set';\n      if(KEY in proto && !(IS_WEAK && KEY == 'clear'))hide(C.prototype, KEY, function(a, b){\n        anInstance(this, C, KEY);\n        if(!IS_ADDER && IS_WEAK && !isObject(a))return KEY == 'get' ? undefined : false;\n        var result = this._c[KEY](a === 0 ? 0 : a, b);\n        return IS_ADDER ? this : result;\n      });\n    });\n    if('size' in proto)dP(C.prototype, 'size', {\n      get: function(){\n        return this._c.size;\n      }\n    });\n  }\n\n  setToStringTag(C, NAME);\n\n  O[NAME] = C;\n  $export($export.G + $export.W + $export.F, O);\n\n  if(!IS_WEAK)common.setStrong(C, NAME, IS_MAP);\n\n  return C;\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/_collection.js\n **/","// 0 -> Array#forEach\n// 1 -> Array#map\n// 2 -> Array#filter\n// 3 -> Array#some\n// 4 -> Array#every\n// 5 -> Array#find\n// 6 -> Array#findIndex\nvar ctx      = require('./_ctx')\n  , IObject  = require('./_iobject')\n  , toObject = require('./_to-object')\n  , toLength = require('./_to-length')\n  , asc      = require('./_array-species-create');\nmodule.exports = function(TYPE, $create){\n  var IS_MAP        = TYPE == 1\n    , IS_FILTER     = TYPE == 2\n    , IS_SOME       = TYPE == 3\n    , IS_EVERY      = TYPE == 4\n    , IS_FIND_INDEX = TYPE == 6\n    , NO_HOLES      = TYPE == 5 || IS_FIND_INDEX\n    , create        = $create || asc;\n  return function($this, callbackfn, that){\n    var O      = toObject($this)\n      , self   = IObject(O)\n      , f      = ctx(callbackfn, that, 3)\n      , length = toLength(self.length)\n      , index  = 0\n      , result = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined\n      , val, res;\n    for(;length > index; index++)if(NO_HOLES || index in self){\n      val = self[index];\n      res = f(val, index, O);\n      if(TYPE){\n        if(IS_MAP)result[index] = res;            // map\n        else if(res)switch(TYPE){\n          case 3: return true;                    // some\n          case 5: return val;                     // find\n          case 6: return index;                   // findIndex\n          case 2: result.push(val);               // filter\n        } else if(IS_EVERY)return false;          // every\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : result;\n  };\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/_array-methods.js\n **/","// 9.4.2.3 ArraySpeciesCreate(originalArray, length)\nvar speciesConstructor = require('./_array-species-constructor');\n\nmodule.exports = function(original, length){\n  return new (speciesConstructor(original))(length);\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/_array-species-create.js\n **/","var isObject = require('./_is-object')\n  , isArray  = require('./_is-array')\n  , SPECIES  = require('./_wks')('species');\n\nmodule.exports = function(original){\n  var C;\n  if(isArray(original)){\n    C = original.constructor;\n    // cross-realm fallback\n    if(typeof C == 'function' && (C === Array || isArray(C.prototype)))C = undefined;\n    if(isObject(C)){\n      C = C[SPECIES];\n      if(C === null)C = undefined;\n    }\n  } return C === undefined ? Array : C;\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/_array-species-constructor.js\n **/","// https://github.com/DavidBruant/Map-Set.prototype.toJSON\nvar $export  = require('./_export');\n\n$export($export.P + $export.R, 'Set', {toJSON: require('./_collection-to-json')('Set')});\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/es7.set.to-json.js\n **/","// https://github.com/DavidBruant/Map-Set.prototype.toJSON\nvar classof = require('./_classof')\n  , from    = require('./_array-from-iterable');\nmodule.exports = function(NAME){\n  return function toJSON(){\n    if(classof(this) != NAME)throw TypeError(NAME + \"#toJSON isn't generic\");\n    return from(this);\n  };\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/_collection-to-json.js\n **/","var forOf = require('./_for-of');\n\nmodule.exports = function(iter, ITERATOR){\n  var result = [];\n  forOf(iter, false, result.push, result, ITERATOR);\n  return result;\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/_array-from-iterable.js\n **/","import AudioTimeEngine from '../core/audio-time-engine';\n\nfunction optOrDef(opt, def) {\n  if (opt !== undefined)\n    return opt;\n\n  return def;\n}\n\n/**\n * @class GranularEngine\n */\nexport default class GranularEngine extends AudioTimeEngine {\n  /**\n   * @constructor\n   * @param {AudioBuffer} buffer initial audio buffer for granular synthesis\n   *\n   * The engine implements the \"scheduled\" interface.\n   * The grain position (grain onset or center time in the audio buffer) is optionally\n   * determined by the engine's currentPosition attribute.\n   */\n  constructor(options = {}) {\n    super(options.audioContext);\n\n    /**\n     * Audio buffer\n     * @type {AudioBuffer}\n     */\n    this.buffer = optOrDef(options.buffer, null);\n\n    /**\n     * Absolute grain period in sec\n     * @type {Number}\n     */\n    this.periodAbs = optOrDef(options.periodAbs, 0.01);\n\n    /**\n     * Grain period relative to absolute duration\n     * @type {Number}\n     */\n    this.periodRel = optOrDef(options.periodRel, 0);\n\n    /**\n     * Amout of random grain period variation relative to grain period\n     * @type {Number}\n     */\n    this.periodVar = optOrDef(options.periodVar, 0);\n\n    /**\n     * Grain position (onset time in audio buffer) in sec\n     * @type {Number}\n     */\n    this.position = optOrDef(options.position, 0);\n\n    /**\n     * Amout of random grain position variation in sec\n     * @type {Number}\n     */\n    this.positionVar = optOrDef(options.positionVar, 0.003);\n\n    /**\n     * Absolute grain duration in sec\n     * @type {Number}\n     */\n    this.durationAbs = optOrDef(options.durationAbs, 0.1); // absolute grain duration\n\n    /**\n     * Grain duration relative to grain period (overlap)\n     * @type {Number}\n     */\n    this.durationRel = optOrDef(options.durationRel, 0);\n\n    /**\n     * Absolute attack time in sec\n     * @type {Number}\n     */\n    this.attackAbs = optOrDef(options.attackAbs, 0);\n\n    /**\n     * Attack time relative to grain duration\n     * @type {Number}\n     */\n    this.attackRel = optOrDef(options.attackRel, 0.5);\n\n    /**\n     * Shape of attack\n     * @type {String} 'lin' for linear ramp, 'exp' for exponential\n     */\n    this.attackShape = optOrDef(options.attackShape, 'lin');\n\n    /**\n     * Absolute release time in sec\n     * @type {Number}\n     */\n    this.releaseAbs = optOrDef(options.releaseAbs, 0);\n\n    /**\n     * Release time relative to grain duration\n     * @type {Number}\n     */\n    this.releaseRel = optOrDef(options.releaseRel, 0.5);\n\n    /**\n     * Shape of release\n     * @type {String} 'lin' for linear ramp, 'exp' for exponential\n     */\n    this.releaseShape = optOrDef(options.releaseShape, 'lin');\n\n    /**\n     * Offset (start/end value) for exponential attack/release\n     * @type {Number} offset\n     */\n    this.expRampOffset = optOrDef(options.expRampOffset, 0.0001);\n\n    /**\n     * Grain resampling in cent\n     * @type {Number}\n     */\n    this.resampling = optOrDef(options.resampling, 0);\n\n    /**\n     * Amout of random resampling variation in cent\n     * @type {Number}\n     */\n    this.resamplingVar = optOrDef(options.resamplingVar, 0);\n\n    /**\n     * Linear gain factor\n     * @type {Number}\n     */\n    this.gain = optOrDef(options.gain, 1);\n\n    /**\n     * Whether the grain position refers to the center of the grain (or the beginning)\n     * @type {Bool}\n     */\n    this.centered = optOrDef(options.centered, true);\n\n    /**\n     * Whether the audio buffer and grain position are considered as cyclic\n     * @type {Bool}\n     */\n    this.cyclic = optOrDef(options.cyclic, false);\n\n    /**\n     * Portion at the end of the audio buffer that has been copied from the beginning to assure cyclic behavior\n     * @type {Number}\n     */\n    this.wrapAroundExtension = optOrDef(options.wrapAroundExtension, 0);\n\n    this.outputNode = this.audioContext.createGain();\n  }\n\n  /**\n   * Get buffer duration (excluding wrapAroundExtension)\n   * @return {Number} current buffer duration\n   */\n  get bufferDuration() {\n    if (this.buffer) {\n      var bufferDuration = this.buffer.duration;\n\n      if (this.wrapAroundExtension)\n        bufferDuration -= this.wrapAroundExtension;\n\n      return bufferDuration;\n    }\n\n    return 0;\n  }\n\n  // TimeEngine attribute\n  get currentPosition() {\n    var master = this.master;\n\n    if (master && master.currentPosition !== undefined)\n      return master.currentPosition;\n\n    return this.position;\n  }\n\n  // TimeEngine method (scheduled interface)\n  advanceTime(time) {\n    time = Math.max(time, this.audioContext.currentTime);\n    return time + this.trigger(time);\n  }\n\n  /**\n   * Trigger a grain\n   * @param {Number} time grain synthesis audio time\n   * @return {Number} period to next grain\n   *\n   * This function can be called at any time (whether the engine is scheduled or not)\n   * to generate a single grain according to the current grain parameters.\n   */\n  trigger(time) {\n    var audioContext = this.audioContext;\n    var grainTime = time || audioContext.currentTime;\n    var grainPeriod = this.periodAbs;\n    var grainPosition = this.currentPosition;\n    var grainDuration = this.durationAbs;\n\n    if (this.buffer) {\n      var resamplingRate = 1.0;\n\n      // calculate resampling\n      if (this.resampling !== 0 || this.resamplingVar > 0) {\n        var randomResampling = (Math.random() - 0.5) * 2.0 * this.resamplingVar;\n        resamplingRate = Math.pow(2.0, (this.resampling + randomResampling) / 1200.0);\n      }\n\n      grainPeriod += this.periodRel * grainDuration;\n      grainDuration += this.durationRel * grainPeriod;\n\n      // grain period randon variation\n      if (this.periodVar > 0.0)\n        grainPeriod += 2.0 * (Math.random() - 0.5) * this.periodVar * grainPeriod;\n\n      // center grain\n      if (this.centered)\n        grainPosition -= 0.5 * grainDuration;\n\n      // randomize grain position\n      if (this.positionVar > 0)\n        grainPosition += (2.0 * Math.random() - 1) * this.positionVar;\n\n      var bufferDuration = this.bufferDuration;\n\n      // wrap or clip grain position and duration into buffer duration\n      if (grainPosition < 0 || grainPosition >= bufferDuration) {\n        if (this.cyclic) {\n          var cycles = grainPosition / bufferDuration;\n          grainPosition = (cycles - Math.floor(cycles)) * bufferDuration;\n\n          if (grainPosition + grainDuration > this.buffer.duration)\n            grainDuration = this.buffer.duration - grainPosition;\n        } else {\n          if (grainPosition < 0) {\n            grainTime -= grainPosition;\n            grainDuration += grainPosition;\n            grainPosition = 0;\n          }\n\n          if (grainPosition + grainDuration > bufferDuration)\n            grainDuration = bufferDuration - grainPosition;\n        }\n      }\n\n      // make grain\n      if (this.gain > 0 && grainDuration >= 0.001) {\n        // make grain envelope\n        var envelope = audioContext.createGain();\n        var attack = this.attackAbs + this.attackRel * grainDuration;\n        var release = this.releaseAbs + this.releaseRel * grainDuration;\n\n        if (attack + release > grainDuration) {\n          var factor = grainDuration / (attack + release);\n          attack *= factor;\n          release *= factor;\n        }\n\n        var attackEndTime = grainTime + attack;\n        var grainEndTime = grainTime + grainDuration / resamplingRate;\n        var releaseStartTime = grainEndTime - release;\n\n        envelope.gain.value = 0;\n\n        if (this.attackShape === 'lin') {\n          envelope.gain.setValueAtTime(0.0, grainTime);\n          envelope.gain.linearRampToValueAtTime(this.gain, attackEndTime);\n        } else {\n          envelope.gain.setValueAtTime(this.expRampOffset, grainTime);\n          envelope.gain.exponentialRampToValueAtTime(this.gain, attackEndTime);\n        }\n\n        if (releaseStartTime > attackEndTime)\n          envelope.gain.setValueAtTime(this.gain, releaseStartTime);\n\n        if (this.releaseShape === 'lin') {\n          envelope.gain.linearRampToValueAtTime(0.0, grainEndTime);\n        } else {\n          envelope.gain.exponentialRampToValueAtTime(this.expRampOffset, grainEndTime);\n        }\n\n        envelope.connect(this.outputNode);\n\n        // make source\n        var source = audioContext.createBufferSource();\n\n        source.buffer = this.buffer;\n        source.playbackRate.value = resamplingRate;\n        source.connect(envelope);\n\n        source.start(grainTime, grainPosition);\n        source.stop(grainEndTime);\n      }\n    }\n\n    return grainPeriod;\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** granular-engine.js\n **/","import AudioTimeEngine from '../core/audio-time-engine';\n\nfunction optOrDef(opt, def) {\n  if(opt !== undefined)\n    return opt;\n\n  return def;\n}\n\nexport default class Metronome extends AudioTimeEngine {\n  constructor(options = {}) {\n    super(options.audioContext);\n\n    /**\n     * Metronome period\n     * @type {Number}\n     */\n    this.__period = optOrDef(options.period, 1);\n\n    /**\n     * Metronome click frequency\n     * @type {Number}\n     */\n    this.clickFreq = optOrDef(options.clickFreq, 600);\n\n    /**\n     * Metronome click attack time\n     * @type {Number}\n     */\n    this.clickAttack = optOrDef(options.clickAttack, 0.002);\n\n    /**\n     * Metronome click release time\n     * @type {Number}\n     */\n    this.clickRelease = optOrDef(options.clickRelease, 0.098);\n\n    this.__lastTime = 0;\n    this.__phase = 0;\n\n    this.__gainNode = this.audioContext.createGain();\n    this.__gainNode.gain.value = optOrDef(options.gain, 1);\n\n    this.outputNode = this.__gainNode;\n  }\n\n  // TimeEngine method (scheduled interface)\n  advanceTime(time) {\n    this.trigger(time);\n    this.__lastTime = time;\n    return time + this.__period;\n  }\n\n  // TimeEngine method (transported interface)\n  syncPosition(time, position, speed) {\n    if (this.__period > 0) {\n      var nextPosition = (Math.floor(position / this.__period) + this.__phase) * this.__period;\n\n      if (speed > 0 && nextPosition < position)\n        nextPosition += this.__period;\n      else if (speed < 0 && nextPosition > position)\n        nextPosition -= this.__period;\n\n      return nextPosition;\n    }\n\n    return Infinity * speed;\n  }\n\n  // TimeEngine method (transported interface)\n  advancePosition(time, position, speed) {\n    this.trigger(time);\n\n    if (speed < 0)\n      return position - this.__period;\n\n    return position + this.__period;\n  }\n\n  /**\n   * Trigger metronome click\n   * @param {Number} time metronome click synthesis audio time\n   */\n  trigger(time) {\n    const audioContext = this.audioContext;\n    const clickAttack = this.clickAttack;\n    const clickRelease = this.clickRelease;\n\n    const env = audioContext.createGain();\n    env.gain.value = 0.0;\n    env.gain.setValueAtTime(0, time);\n    env.gain.linearRampToValueAtTime(1.0, time + clickAttack);\n    env.gain.exponentialRampToValueAtTime(0.0000001, time + clickAttack + clickRelease);\n    env.gain.setValueAtTime(0, time);\n    env.connect(this.outputNode);\n\n    const osc = audioContext.createOscillator();\n    osc.frequency.value = this.clickFreq;\n    osc.start(time);\n    osc.stop(time + clickAttack + clickRelease);\n    osc.connect(env);\n  }\n\n  /**\n   * Set gain\n   * @param {Number} value linear gain factor\n   */\n  set gain(value) {\n    this.__gainNode.gain.value = value;\n  }\n\n  /**\n   * Get gain\n   * @return {Number} current gain\n   */\n  get gain() {\n    return this.__gainNode.gain.value;\n  }\n\n  /**\n   * Set period parameter\n   * @param {Number} period metronome period\n   */\n  set period(period) {\n    this.__period = period;\n\n    const master = this.master;\n\n    if (master) {\n      if (master.resetEngineTime)\n        master.resetEngineTime(this, this.__lastTime + period);\n      else if (master.resetEnginePosition)\n        master.resetEnginePosition(this);\n    }\n  }\n\n  /**\n   * Get period parameter\n   * @return {Number} value of period parameter\n   */\n  get period() {\n    return this.__period;\n  }\n\n  /**\n   * Set phase parameter (available only when 'transported')\n   * @param {Number} phase metronome phase [0, 1[\n   */\n  set phase(phase) {\n    this.__phase = phase - Math.floor(phase);\n\n    const master = this.master;\n\n    if (master && master.resetEnginePosition !== undefined)\n      master.resetEnginePosition(this);\n  }\n\n  /**\n   * Get phase parameter\n   * @return {Number} value of phase parameter\n   */\n  get phase() {\n    return this.__phase;\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** metronome.js\n **/","import AudioTimeEngine from '../core/audio-time-engine';\n\nfunction optOrDef(opt, def) {\n  if(opt !== undefined)\n    return opt;\n\n  return def;\n}\n\nexport default class PlayerEngine extends AudioTimeEngine {\n  constructor(options = {}) {\n    super(options.audioContext);\n\n    this.transport = null; // set when added to transporter\n\n    /**\n     * Audio buffer\n     * @type {AudioBuffer}\n     */\n    this.buffer = optOrDef(options.buffer, null);\n\n    /**\n     * Fade time for chaining segments (e.g. in start, stop, and seek)\n     * @type {AudioBuffer}\n     */\n    this.fadeTime = optOrDef(options.fadeTime, 0.005);\n\n    this.__time = 0;\n    this.__position = 0;\n    this.__speed = 0;\n\n    this.__bufferSource = null;\n    this.__envNode = null;\n\n    this.__gainNode = this.audioContext.createGain();\n    this.__gainNode.gain.value = optOrDef(options.gain, 1);\n\n    this.__cyclic = optOrDef(options.cyclic, false);\n\n    this.outputNode = this.__gainNode;\n  }\n\n  __start(time, position, speed) {\n    var audioContext = this.audioContext;\n\n    if (this.buffer) {\n      var bufferDuration = this.buffer.duration;\n\n      if (this.__cyclic && (position < 0 || position >= bufferDuration)) {\n        var phase = position / bufferDuration;\n        position = (phase - Math.floor(phase)) * bufferDuration;\n      }\n\n      if (position >= 0 && position < bufferDuration && speed > 0) {\n        this.__envNode = audioContext.createGain();\n        this.__envNode.gain.setValueAtTime(0, time);\n        this.__envNode.gain.linearRampToValueAtTime(1, time + this.fadeTime);\n        this.__envNode.connect(this.__gainNode);\n\n        this.__bufferSource = audioContext.createBufferSource();\n        this.__bufferSource.buffer = this.buffer;\n        this.__bufferSource.playbackRate.value = speed;\n        this.__bufferSource.loop = this.__cyclic;\n        this.__bufferSource.loopStart = 0;\n        this.__bufferSource.loopEnd = bufferDuration;\n        this.__bufferSource.start(time, position);\n        this.__bufferSource.connect(this.__envNode);\n      }\n    }\n  }\n\n  __halt(time) {\n    if (this.__bufferSource) {\n      this.__envNode.gain.cancelScheduledValues(time);\n      this.__envNode.gain.setValueAtTime(this.__envNode.gain.value, time);\n      this.__envNode.gain.linearRampToValueAtTime(0, time + this.fadeTime);\n      this.__bufferSource.stop(time + this.fadeTime);\n\n      this.__bufferSource = null;\n      this.__envNode = null;\n    }\n  }\n\n  // TimeEngine method (speed-controlled interface)\n  syncSpeed(time, position, speed, seek = false) {\n    var lastSpeed = this.__speed;\n\n    if (speed !== lastSpeed || seek) {\n      if (seek || lastSpeed * speed < 0) {\n        this.__halt(time);\n        this.__start(time, position, speed);\n      } else if (lastSpeed === 0 || seek) {\n        this.__start(time, position, speed);\n      } else if (speed === 0) {\n        this.__halt(time);\n      } else if (this.__bufferSource) {\n        this.__bufferSource.playbackRate.setValueAtTime(speed, time);\n      }\n\n      this.__speed = speed;\n    }\n  }\n\n  /**\n   * Set whether the audio buffer is considered as cyclic\n   * @param {Bool} cyclic whether the audio buffer is considered as cyclic\n   */\n  set cyclic(cyclic) {\n    if (cyclic !== this.__cyclic) {\n      var time = this.currentTime;\n      var position = this.currentosition;\n\n      this.__halt(time);\n      this.__cyclic = cyclic;\n\n      if (this.__speed !== 0)\n        this.__start(time, position, this.__speed);\n    }\n  }\n\n  /**\n   * Get whether the audio buffer is considered as cyclic\n   * @return {Bool} whether the audio buffer is considered as cyclic\n   */\n  get cyclic() {\n    return this.__cyclic;\n  }\n\n  /**\n   * Set gain\n   * @param {Number} value linear gain factor\n   */\n  set gain(value) {\n    var time = this.currentTime;\n    this.__gainNode.cancelScheduledValues(time);\n    this.__gainNode.setValueAtTime(this.__gainNode.gain.value, time);\n    this.__gainNode.linearRampToValueAtTime(0, time + this.fadeTime);\n  }\n\n  /**\n   * Get gain\n   * @return {Number} current gain\n   */\n  get gain() {\n    return this.__gainNode.gain.value;\n  }\n\n  /**\n   * Get buffer duration\n   * @return {Number} current buffer duration\n   */\n  get bufferDuration() {\n    if(this.buffer)\n      return this.buffer.duration;\n\n    return 0;\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** player-engine.js\n **/","import AudioTimeEngine from '../core/audio-time-engine';\n\nfunction optOrDef(opt, def) {\n  if(opt !== undefined)\n    return opt;\n\n  return def;\n}\n\nfunction getCurrentOrPreviousIndex(sortedArray, value, index = 0) {\n  var size = sortedArray.length;\n\n  if (size > 0) {\n    var firstVal = sortedArray[0];\n    var lastVal = sortedArray[size - 1];\n\n    if (value < firstVal)\n      index = -1;\n    else if (value >= lastVal)\n      index = size - 1;\n    else {\n      if (index < 0 || index >= size)\n        index = Math.floor((size - 1) * (value - firstVal) / (lastVal - firstVal));\n\n      while (sortedArray[index] > value)\n        index--;\n\n      while (sortedArray[index + 1] <= value)\n        index++;\n    }\n  }\n\n  return index;\n}\n\nfunction getCurrentOrNextIndex(sortedArray, value, index = 0) {\n  var size = sortedArray.length;\n\n  if (size > 0) {\n    var firstVal = sortedArray[0];\n    var lastVal = sortedArray[size - 1];\n\n    if (value <= firstVal)\n      index = 0;\n    else if (value >= lastVal)\n      index = size;\n    else {\n      if (index < 0 || index >= size)\n        index = Math.floor((size - 1) * (value - firstVal) / (lastVal - firstVal));\n\n      while (sortedArray[index] < value)\n        index++;\n\n      while (sortedArray[index + 1] >= value)\n        index--;\n    }\n  }\n\n  return index;\n}\n\n/**\n * @class SegmentEngine\n */\nexport default class SegmentEngine extends AudioTimeEngine {\n  /**\n   * @constructor\n   * @param {AudioBuffer} buffer initial audio buffer for granular synthesis\n   *\n   * The engine implements the \"scheduled\" and \"transported\" interfaces.\n   * When \"scheduled\", the engine  generates segments more or lessperiodically\n   * (controlled by the periodAbs, periodRel, and perioVar attributes).\n   * When \"transported\", the engine generates segments at the position of their onset time.\n   */\n  constructor(options = {}) {\n    super(options.audioContext);\n\n    /**\n     * Audio buffer\n     * @type {AudioBuffer}\n     */\n    this.buffer = optOrDef(options.buffer, null);\n\n    /**\n     * Absolute segment period in sec\n     * @type {Number}\n     */\n    this.periodAbs = optOrDef(options.periodAbs, 0);\n\n    /**\n     * Segment period relative to inter-segment distance\n     * @type {Number}\n     */\n    this.periodRel = optOrDef(options.periodRel, 1);\n\n    /**\n     * Amout of random segment period variation relative to segment period\n     * @type {Number}\n     */\n    this.periodVar = optOrDef(options.periodVar, 0);\n\n    /**\n     * Array of segment positions (onset times in audio buffer) in sec\n     * @type {Number}\n     */\n    this.positionArray = optOrDef(options.positionArray, [0.0]);\n\n    /**\n     * Amout of random segment position variation in sec\n     * @type {Number}\n     */\n    this.positionVar = optOrDef(options.positionVar, 0);\n\n    /**\n     * Array of segment durations in sec\n     * @type {Number}\n     */\n    this.durationArray = optOrDef(options.durationArray, [0.0]);\n\n    /**\n     * Absolute segment duration in sec\n     * @type {Number}\n     */\n    this.durationAbs = optOrDef(options.durationAbs, 0);\n\n    /**\n     * Segment duration relative to given segment duration or inter-segment distance\n     * @type {Number}\n     */\n    this.durationRel = optOrDef(options.durationRel, 1);\n\n    /**\n     * Array of segment offsets in sec\n     * @type {Number}\n     *\n     * offset > 0: the segment's reference position is after the given segment position\n     * offset < 0: the given segment position is the segment's reference position and the duration has to be corrected by the offset\n     */\n    this.offsetArray = optOrDef(options.offsetArray, [0.0]);\n\n    /**\n     * Absolute segment offset in sec\n     * @type {Number}\n     */\n    this.offsetAbs = optOrDef(options.offsetAbs, -0.005);\n\n    /**\n     * Segment offset relative to segment duration\n     * @type {Number}\n     */\n    this.offsetRel = optOrDef(options.offsetRel, 0);\n\n    /**\n     * Time by which all segments are delayed (especially to realize segment offsets)\n     * @type {Number}\n     */\n    this.delay = optOrDef(options.delay, 0.005);\n\n    /**\n     * Absolute attack time in sec\n     * @type {Number}\n     */\n    this.attackAbs = optOrDef(options.attackAbs, 0.005);\n\n    /**\n     * Attack time relative to segment duration\n     * @type {Number}\n     */\n    this.attackRel = optOrDef(options.attackRel, 0);\n\n    /**\n     * Absolute release time in sec\n     * @type {Number}\n     */\n    this.releaseAbs = optOrDef(options.releaseAbs, 0.005);\n\n    /**\n     * Release time relative to segment duration\n     * @type {Number}\n     */\n    this.releaseRel = optOrDef(options.releaseRel, 0);\n\n    /**\n     * Segment resampling in cent\n     * @type {Number}\n     */\n    this.resampling = optOrDef(options.resampling, 0);\n\n    /**\n     * Amout of random resampling variation in cent\n     * @type {Number}\n     */\n    this.resamplingVar = optOrDef(options.resamplingVar, 0);\n\n    /**\n     * Linear gain factor\n     * @type {Number}\n     */\n    this.gain = optOrDef(options.gain, 1);\n\n    /**\n     * Index of the segment to synthesize (i.e. of this.positionArray/durationArray/offsetArray)\n     * @type {Number}\n     */\n    this.segmentIndex = optOrDef(options.segmentIndex, 0);\n\n    /**\n     * Whether the audio buffer and segment indices are considered as cyclic\n     * @type {Bool}\n     */\n    this.cyclic = optOrDef(options.cyclic, false);\n    this.__cyclicOffset = 0;\n\n    /**\n     * Portion at the end of the audio buffer that has been copied from the beginning to assure cyclic behavior\n     * @type {Number}\n     */\n    this.wrapAroundExtension = optOrDef(options.wrapAroundExtension, 0);\n\n    this.outputNode = this.audioContext.createGain();\n  }\n\n  /**\n   * Get buffer duration (excluding wrapAroundExtension)\n   * @return {Number} current buffer duration\n   */\n  get bufferDuration() {\n    if (this.buffer) {\n      var bufferDuration = this.buffer.duration;\n\n      if (this.wrapAroundExtension)\n        bufferDuration -= this.wrapAroundExtension;\n\n      return bufferDuration;\n    }\n\n    return 0;\n  }\n\n  // TimeEngine method (transported interface)\n  advanceTime(time) {\n    time = Math.max(time, this.audioContext.currentTime);\n    return time + this.trigger(time);\n  }\n\n  // TimeEngine method (transported interface)\n  syncPosition(time, position, speed) {\n    var index = this.segmentIndex;\n    var cyclicOffset = 0;\n    var bufferDuration = this.bufferDuration;\n\n    if (this.cyclic) {\n      var cycles = position / bufferDuration;\n\n      cyclicOffset = Math.floor(cycles) * bufferDuration;\n      position -= cyclicOffset;\n    }\n\n    if (speed > 0) {\n      index = getCurrentOrNextIndex(this.positionArray, position);\n\n      if (index >= this.positionArray.length) {\n        index = 0;\n        cyclicOffset += bufferDuration;\n\n        if (!this.cyclic)\n          return Infinity;\n      }\n    } else if (speed < 0) {\n      index = getCurrentOrPreviousIndex(this.positionArray, position);\n\n      if (index < 0) {\n        index = this.positionArray.length - 1;\n        cyclicOffset -= bufferDuration;\n\n        if (!this.cyclic)\n          return -Infinity;\n      }\n    } else {\n      return Infinity;\n    }\n\n    this.segmentIndex = index;\n    this.__cyclicOffset = cyclicOffset;\n\n    return cyclicOffset + this.positionArray[index];\n  }\n\n  // TimeEngine method (transported interface)\n  advancePosition(time, position, speed) {\n    var index = this.segmentIndex;\n    var cyclicOffset = this.__cyclicOffset;\n\n    this.trigger(time);\n\n    if (speed > 0) {\n      index++;\n\n      if (index >= this.positionArray.length) {\n        index = 0;\n        cyclicOffset += this.bufferDuration;\n\n        if (!this.cyclic)\n          return Infinity;\n      }\n    } else {\n      index--;\n\n      if (index < 0) {\n        index = this.positionArray.length - 1;\n        cyclicOffset -= this.bufferDuration;\n\n        if (!this.cyclic)\n          return -Infinity;\n      }\n    }\n\n    this.segmentIndex = index;\n    this.__cyclicOffset = cyclicOffset;\n\n    return cyclicOffset + this.positionArray[index];\n  }\n\n  /**\n   * Trigger a segment\n   * @param {Number} time segment synthesis audio time\n   * @return {Number} period to next segment\n   *\n   * This function can be called at any time (whether the engine is scheduled/transported or not)\n   * to generate a single segment according to the current segment parameters.\n   */\n  trigger(time) {\n    var audioContext = this.audioContext;\n    var segmentTime = (time || audioContext.currentTime) + this.delay;\n    var segmentPeriod = this.periodAbs;\n    var segmentIndex = this.segmentIndex;\n\n    if (this.buffer) {\n      var segmentPosition = 0.0;\n      var segmentDuration = 0.0;\n      var segmentOffset = 0.0;\n      var resamplingRate = 1.0;\n      var bufferDuration = this.bufferDuration;\n\n      if (this.cyclic)\n        segmentIndex = segmentIndex % this.positionArray.length;\n      else\n        segmentIndex = Math.max(0, Math.min(segmentIndex, this.positionArray.length - 1));\n\n      if (this.positionArray)\n        segmentPosition = this.positionArray[segmentIndex] || 0;\n\n      if (this.durationArray)\n        segmentDuration = this.durationArray[segmentIndex] || 0;\n\n      if (this.offsetArray)\n        segmentOffset = this.offsetArray[segmentIndex] || 0;\n\n      // calculate resampling\n      if (this.resampling !== 0 || this.resamplingVar > 0) {\n        var randomResampling = (Math.random() - 0.5) * 2.0 * this.resamplingVar;\n        resamplingRate = Math.pow(2.0, (this.resampling + randomResampling) / 1200.0);\n      }\n\n      // calculate inter-segment distance\n      if (segmentDuration === 0 || this.periodRel > 0) {\n        var nextSegementIndex = segmentIndex + 1;\n        var nextPosition, nextOffset;\n\n        if (nextSegementIndex === this.positionArray.length) {\n          if (this.cyclic) {\n            nextPosition = this.positionArray[0] + bufferDuration;\n            nextOffset = this.offsetArray[0];\n          } else {\n            nextPosition = bufferDuration;\n            nextOffset = 0;\n          }\n        } else {\n          nextPosition = this.positionArray[nextSegementIndex];\n          nextOffset = this.offsetArray[nextSegementIndex];\n        }\n\n        var interSegmentDistance = nextPosition - segmentPosition;\n\n        // correct inter-segment distance by offsets\n        //   offset > 0: the segment's reference position is after the given segment position\n        if (segmentOffset > 0)\n          interSegmentDistance -= segmentOffset;\n\n        if (nextOffset > 0)\n          interSegmentDistance += nextOffset;\n\n        if (interSegmentDistance < 0)\n          interSegmentDistance = 0;\n\n        // use inter-segment distance instead of segment duration\n        if (segmentDuration === 0)\n          segmentDuration = interSegmentDistance;\n\n        // calculate period relative to inter marker distance\n        segmentPeriod += this.periodRel * interSegmentDistance;\n      }\n\n      // add relative and absolute segment duration\n      segmentDuration *= this.durationRel;\n      segmentDuration += this.durationAbs;\n\n      // add relative and absolute segment offset\n      segmentOffset *= this.offsetRel;\n      segmentOffset += this.offsetAbs;\n\n      // apply segment offset\n      //   offset > 0: the segment's reference position is after the given segment position\n      //   offset < 0: the given segment position is the segment's reference position and the duration has to be corrected by the offset\n      if (segmentOffset < 0) {\n        segmentDuration -= segmentOffset;\n        segmentPosition += segmentOffset;\n        segmentTime += (segmentOffset / resamplingRate);\n      } else {\n        segmentTime -= (segmentOffset / resamplingRate);\n      }\n\n      // randomize segment position\n      if (this.positionVar > 0)\n        segmentPosition += 2.0 * (Math.random() - 0.5) * this.positionVar;\n\n      // shorten duration of segments over the edges of the buffer\n      if (segmentPosition < 0) {\n        //segmentTime -= grainPosition; hm, not sure if we want to do this\n        segmentDuration += segmentPosition;\n        segmentPosition = 0;\n      }\n\n      if (segmentPosition + segmentDuration > this.buffer.duration)\n        segmentDuration = this.buffer.duration - segmentPosition;\n\n      segmentDuration /= resamplingRate;\n\n      // make segment\n      if (this.gain > 0 && segmentDuration > 0) {\n        // make segment envelope\n        var envelope = audioContext.createGain();\n        var attack = this.attackAbs + this.attackRel * segmentDuration;\n        var release = this.releaseAbs + this.releaseRel * segmentDuration;\n\n        if (attack + release > segmentDuration) {\n          var factor = segmentDuration / (attack + release);\n          attack *= factor;\n          release *= factor;\n        }\n\n        var attackEndTime = segmentTime + attack;\n        var segmentEndTime = segmentTime + segmentDuration;\n        var releaseStartTime = segmentEndTime - release;\n\n        envelope.gain.value = 0;\n        envelope.gain.setValueAtTime(0.0, segmentTime);\n        envelope.gain.linearRampToValueAtTime(this.gain, attackEndTime);\n\n        if (releaseStartTime > attackEndTime)\n          envelope.gain.setValueAtTime(this.gain, releaseStartTime);\n\n        envelope.gain.linearRampToValueAtTime(0.0, segmentEndTime);\n        envelope.connect(this.outputNode);\n\n        // make source\n        var source = audioContext.createBufferSource();\n\n        source.buffer = this.buffer;\n        source.playbackRate.value = resamplingRate;\n        source.connect(envelope);\n\n        source.start(segmentTime, segmentPosition);\n        source.stop(segmentTime + segmentDuration);\n      }\n    }\n\n    return segmentPeriod;\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** segment-engine.js\n **/","import defaultAudioContext from '../core/audio-context';\nimport SchedulingQueue from '../core/scheduling-queue';\nimport TimeEngine from '../core/time-engine';\nimport { getScheduler } from './factories';\n\nconst ESPILON = 1e-8;\n\nclass LoopControl extends TimeEngine {\n  constructor(playControl) {\n    super();\n\n    this.__playControl = playControl;\n    this.lower = -Infinity;\n    this.upper = Infinity;\n  }\n\n  // TimeEngine method (scheduled interface)\n  advanceTime(time) {\n    const playControl = this.__playControl;\n    const speed = playControl.speed;\n    const lower = this.lower;\n    const upper = this.upper;\n\n    if(speed > 0)\n      time += ESPILON;\n    else\n      time -= EPSILON;\n\n    if (speed > 0) {\n      playControl.syncSpeed(time, lower, speed, true);\n      return playControl.__getTimeAtPosition(upper) - ESPILON;\n    } else if (speed < 0) {\n      playControl.syncSpeed(time, upper, speed, true);\n      return playControl.__getTimeAtPosition(lower) + ESPILON;\n    }\n\n    return Infinity;\n  }\n\n  reschedule(speed) {\n    const playControl = this.__playControl;\n    const lower = Math.min(playControl.__loopStart, playControl.__loopEnd);\n    const upper = Math.max(playControl.__loopStart, playControl.__loopEnd);\n\n    this.speed = speed;\n    this.lower = lower;\n    this.upper = upper;\n\n    if (lower === upper)\n      speed = 0;\n\n    if (speed > 0)\n      this.resetTime(playControl.__getTimeAtPosition(upper) - ESPILON);\n    else if (speed < 0)\n      this.resetTime(playControl.__getTimeAtPosition(lower) + ESPILON);\n    else\n      this.resetTime(Infinity);\n  }\n\n  applyLoopBoundaries(position, speed) {\n    const lower = this.lower;\n    const upper = this.upper;\n\n    if (speed > 0 && position >= upper)\n      return lower + (position - lower) % (upper - lower);\n    else if (speed < 0 && position < lower)\n      return upper - (upper - position) % (upper - lower);\n\n    return position;\n  }\n}\n\n// play controlled base class\nclass PlayControlled {\n  constructor(playControl, engine) {\n    this.__playControl = playControl;\n\n    engine.master = this;\n    this.__engine = engine;\n  }\n\n  syncSpeed(time, position, speed, seek, lastSpeed) {\n    this.__engine.syncSpeed(time, position, speed, seek);\n  }\n\n  get currentTime() {\n    return this.__playControl.currentTime;\n  }\n\n  get currentPosition() {\n    return this.__playControl.currentPosition;\n  }\n\n  destroy() {\n    this.__playControl = null;\n\n    this.__engine.master = null;\n    this.__engine = null;\n  }\n}\n\n// play control for engines implementing the *speed-controlled* interface\nclass PlayControlledSpeedControlled extends PlayControlled {\n  constructor(playControl, engine) {\n    super(playControl, engine);\n  }\n}\n\n// play control for engines implmenting the *transported* interface\nclass PlayControlledTransported extends PlayControlled {\n  constructor(playControl, engine) {\n    super(playControl, engine);\n\n    this.__schedulerHook = new PlayControlledSchedulerHook(playControl, engine);\n  }\n\n  syncSpeed(time, position, speed, seek, lastSpeed) {\n    if (speed !== lastSpeed || (seek && speed !== 0)) {\n      var nextPosition;\n\n      // resync transported engines\n      if (seek || speed * lastSpeed < 0) {\n        // seek or reverse direction\n        nextPosition = this.__engine.syncPosition(time, position, speed);\n      } else if (lastSpeed === 0) {\n        // start\n        nextPosition = this.__engine.syncPosition(time, position, speed);\n      } else if (speed === 0) {\n        // stop\n        nextPosition = Infinity;\n\n        if (this.__engine.syncSpeed)\n          this.__engine.syncSpeed(time, position, 0);\n      } else if (this.__engine.syncSpeed) {\n        // change speed without reversing direction\n        this.__engine.syncSpeed(time, position, speed);\n      }\n\n      this.__schedulerHook.resetPosition(nextPosition);\n    }\n  }\n\n  resetEnginePosition(engine, position = undefined) {\n    if (position === undefined) {\n      var playControl = this.__playControl;\n      var time = playControl.__sync();\n\n      position = this.__engine.syncPosition(time, playControl.__position, playControl.__speed);\n    }\n\n    this.__schedulerHook.resetPosition(position);\n  }\n\n  destroy() {\n    this.__schedulerHook.destroy();\n    this.__schedulerHook = null;\n\n    super.destroy();\n  }\n}\n\n// play control for time engines implementing the *scheduled* interface\nclass PlayControlledScheduled extends PlayControlled {\n  constructor(playControl, engine) {\n    super(playControl, engine);\n\n    // scheduling queue becomes master of engine\n    engine.master = null;\n    this.__schedulingQueue = new PlayControlledSchedulingQueue(playControl, engine);\n  }\n\n  syncSpeed(time, position, speed, seek, lastSpeed) {\n    if (lastSpeed === 0 && speed !== 0) // start or seek\n      this.__engine.resetTime();\n    else if (lastSpeed !== 0 && speed === 0) // stop\n      this.__engine.resetTime(Infinity);\n  }\n\n  destroy() {\n    this.__schedulingQueue.destroy();\n    super.destroy();\n  }\n}\n\n// translates transported engine advancePosition into global scheduler times\nclass PlayControlledSchedulerHook extends TimeEngine {\n  constructor(playControl, engine) {\n    super();\n\n    this.__playControl = playControl;\n    this.__engine = engine;\n\n    this.__nextPosition = Infinity;\n    playControl.__scheduler.add(this, Infinity);\n  }\n\n  advanceTime(time) {\n    var playControl = this.__playControl;\n    var engine = this.__engine;\n    var position = this.__nextPosition;\n    var nextPosition = engine.advancePosition(time, position, playControl.__speed);\n    var nextTime = playControl.__getTimeAtPosition(nextPosition);\n\n    this.__nextPosition = nextPosition;\n    return nextTime;\n  }\n\n  get currentTime() {\n    return this.__playControl.currentTime;\n  }\n\n  get currentPosition() {\n    return this.__playControl.currentPosition;\n  }\n\n  resetPosition(position = this.__nextPosition) {\n    var time = this.__playControl.__getTimeAtPosition(position);\n    this.__nextPosition = position;\n    this.resetTime(time);\n  }\n\n  destroy() {\n    this.__playControl.__scheduler.remove(this);\n    this.__playControl = null;\n    this.__engine = null;\n  }\n}\n\n// internal scheduling queue that returns the current position (and time) of the play control\nclass PlayControlledSchedulingQueue extends SchedulingQueue {\n  constructor(playControl, engine) {\n    super();\n    this.__playControl = playControl;\n    this.__engine = engine;\n\n    this.add(engine, Infinity);\n    playControl.__scheduler.add(this, Infinity);\n  }\n\n  get currentTime() {\n    return this.__playControl.currentTime;\n  }\n\n  get currentPosition() {\n    return this.__playControl.currentPosition;\n  }\n\n  destroy() {\n    this.__playControl.__scheduler.remove(this);\n    this.remove(this.__engine);\n\n    this.__playControl = null;\n    this.__engine = null;\n  }\n}\n\n// play control meta-class\nexport default class PlayControl extends TimeEngine {\n  constructor(engine, options = {}) {\n    super();\n\n    this.audioContext = options.audioContext || defaultAudioContext;\n    this.__scheduler = getScheduler(this.audioContext);\n\n    this.__playControlled = null;\n\n    this.__loopControl = null;\n    this.__loopStart = 0;\n    this.__loopEnd = 1;\n\n    // synchronized tie, position, and speed\n    this.__time = 0;\n    this.__position = 0;\n    this.__speed = 0;\n\n    // non-zero \"user\" speed\n    this.__playingSpeed = 1;\n\n    if (engine)\n      this.__setEngine(engine);\n  }\n\n  __setEngine(engine) {\n    if (engine.master)\n      throw new Error(\"object has already been added to a master\");\n\n    if (TimeEngine.implementsSpeedControlled(engine))\n      this.__playControlled = new PlayControlledSpeedControlled(this, engine);\n    else if (TimeEngine.implementsTransported(engine))\n      this.__playControlled = new PlayControlledTransported(this, engine);\n    else if (TimeEngine.implementsScheduled(engine))\n      this.__playControlled = new PlayControlledScheduled(this, engine);\n    else\n      throw new Error(\"object cannot be added to play control\");\n  }\n\n  __resetEngine() {\n    this.__playControlled.destroy();\n    this.__playControlled = null;\n  }\n\n  /**\n   * Calculate/extrapolate playing time for given position\n   * @param {Number} position position\n   * @return {Number} extrapolated time\n   */\n  __getTimeAtPosition(position) {\n    return this.__time + (position - this.__position) / this.__speed;\n  }\n\n  /**\n   * Calculate/extrapolate playing position for given time\n   * @param {Number} time time\n   * @return {Number} extrapolated position\n   */\n  __getPositionAtTime(time) {\n    return this.__position + (time - this.__time) * this.__speed;\n  }\n\n  __sync() {\n    var now = this.currentTime;\n    this.__position += (now - this.__time) * this.__speed;\n    this.__time = now;\n    return now;\n  }\n\n  /**\n   * Get current master time\n   * @return {Number} current time\n   *\n   * This function will be replaced when the play-control is added to a master.\n   */\n  get currentTime() {\n    return this.__scheduler.currentTime;\n  }\n\n  /**\n   * Get current master position\n   * @return {Number} current playing position\n   *\n   * This function will be replaced when the play-control is added to a master.\n   */\n  get currentPosition() {\n    return this.__position + (this.__scheduler.currentTime - this.__time) * this.__speed;\n  }\n\n\n  set(engine = null) {\n    var time = this.__sync();\n    var speed = this.__speed;\n\n    if (this.__playControlled !== null && this.__playControlled.__engine !== engine) {\n\n      this.syncSpeed(time, this.__position, 0);\n\n      if (this.__playControlled)\n        this.__resetEngine();\n\n\n      if (this.__playControlled === null && engine !== null) {\n        this.__setEngine(engine);\n\n        if (speed !== 0)\n          this.syncSpeed(time, this.__position, speed);\n      }\n    }\n  }\n\n  set loop(enable) {\n    if (enable && this.__loopStart > -Infinity && this.__loopEnd < Infinity) {\n      if (!this.__loopControl) {\n        this.__loopControl = new LoopControl(this);\n        this.__scheduler.add(this.__loopControl, Infinity);\n      }\n\n      if (this.__speed !== 0) {\n        const position = this.currentPosition;\n        const lower = Math.min(this.__loopStart, this.__loopEnd);\n        const upper = Math.max(this.__loopStart, this.__loopEnd);\n\n        if (this.__speed > 0 && position > upper)\n          this.seek(upper);\n        else if (this.__speed < 0 && position < lower)\n          this.seek(lower);\n        else\n          this.__loopControl.reschedule(this.__speed);\n      }\n    } else if (this.__loopControl) {\n      this.__scheduler.remove(this.__loopControl);\n      this.__loopControl = null;\n    }\n  }\n\n  get loop() {\n    return (!!this.__loopControl);\n  }\n\n  setLoopBoundaries(loopStart, loopEnd) {\n    this.__loopStart = loopStart;\n    this.__loopEnd = loopEnd;\n\n    this.loop = this.loop;\n  }\n\n  set loopStart(loopStart) {\n    this.setLoopBoundaries(loopStart, this.__loopEnd);\n  }\n\n  get loopStart() {\n    return this.__loopStart;\n  }\n\n  set loopEnd(loopEnd) {\n    this.setLoopBoundaries(this.__loopStart, loopEnd);\n  }\n\n  get loopEnd() {\n    return this.__loopEnd;\n  }\n\n  // TimeEngine method (speed-controlled interface)\n  syncSpeed(time, position, speed, seek = false) {\n    var lastSpeed = this.__speed;\n\n    if (speed !== lastSpeed || seek) {\n      if ((seek || lastSpeed === 0) && this.__loopControl)\n        position = this.__loopControl.applyLoopBoundaries(position, speed);\n\n      this.__time = time;\n      this.__position = position;\n      this.__speed = speed;\n\n      if (this.__playControlled)\n        this.__playControlled.syncSpeed(time, position, speed, seek, lastSpeed);\n\n      if (this.__loopControl)\n        this.__loopControl.reschedule(speed);\n    }\n  }\n\n  /**\n   * Start playing\n   */\n  start() {\n    var time = this.__sync();\n    this.syncSpeed(time, this.__position, this.__playingSpeed);\n  }\n\n  /**\n   * Pause playing\n   */\n  pause() {\n    var time = this.__sync();\n    this.syncSpeed(time, this.__position, 0);\n  }\n\n  /**\n   * Stop playing\n   */\n  stop() {\n    var time = this.__sync();\n    this.syncSpeed(time, this.__position, 0);\n    this.seek(0);\n  }\n\n  /**\n   * Set playing speed\n   * @param {Number} speed playing speed (non-zero speed between -16 and -1/16 or between 1/16 and 16)\n   */\n  set speed(speed) {\n    var time = this.__sync();\n\n    if (speed >= 0) {\n      if (speed < 0.01)\n        speed = 0.01;\n      else if (speed > 100)\n        speed = 100;\n    } else {\n      if (speed < -100)\n        speed = -100;\n      else if (speed > -0.01)\n        speed = -0.01;\n    }\n\n    this.__playingSpeed = speed;\n\n    if (this.__speed !== 0)\n      this.syncSpeed(time, this.__position, speed);\n  }\n\n  /**\n   * Get playing speed\n   * @return current playing speed\n   */\n  get speed() {\n    return this.__playingSpeed;\n  }\n\n  /**\n   * Set (jump to) playing position\n   * @param {Number} position target position\n   */\n  seek(position) {\n    if (position !== this.__position) {\n      var time = this.__sync();\n      this.__position = position;\n      this.syncSpeed(time, position, this.__speed, true);\n    }\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** play-control.js\n **/","// schedulers should be singletons\nimport defaultAudioContext from '../core/audio-context';\nimport Scheduler from './scheduler';\nimport SimpleScheduler from './simple-scheduler';\n\nconst schedulerMap = new WeakMap();\nconst simpleSchedulerMap = new WeakMap();\n\n// scheduler factory\nexport const getScheduler = function(audioContext = defaultAudioContext) {\n  let scheduler = schedulerMap.get(audioContext);\n\n  if (!scheduler) {\n    scheduler = new Scheduler({ audioContext: audioContext });\n    schedulerMap.set(audioContext, scheduler);\n  }\n\n  return scheduler;\n};\n\nexport const getSimpleScheduler = function(audioContext = defaultAudioContext) {\n  let simpleScheduler = simpleSchedulerMap.get(audioContext);\n\n  if (!simpleScheduler) {\n    simpleScheduler = new SimpleScheduler({ audioContext: audioContext });\n    simpleSchedulerMap.set(audioContext, simpleScheduler);\n  }\n\n  return simpleScheduler;\n};\n\n\n\n/** WEBPACK FOOTER **\n ** factories.js\n **/","module.exports = { \"default\": require(\"core-js/library/fn/weak-map\"), __esModule: true };\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-runtime/core-js/weak-map.js\n **/","require('../modules/es6.object.to-string');\nrequire('../modules/web.dom.iterable');\nrequire('../modules/es6.weak-map');\nmodule.exports = require('../modules/_core').WeakMap;\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/fn/weak-map.js\n **/","'use strict';\nvar each         = require('./_array-methods')(0)\n  , redefine     = require('./_redefine')\n  , meta         = require('./_meta')\n  , assign       = require('./_object-assign')\n  , weak         = require('./_collection-weak')\n  , isObject     = require('./_is-object')\n  , getWeak      = meta.getWeak\n  , isExtensible = Object.isExtensible\n  , uncaughtFrozenStore = weak.ufstore\n  , tmp          = {}\n  , InternalMap;\n\nvar wrapper = function(get){\n  return function WeakMap(){\n    return get(this, arguments.length > 0 ? arguments[0] : undefined);\n  };\n};\n\nvar methods = {\n  // 23.3.3.3 WeakMap.prototype.get(key)\n  get: function get(key){\n    if(isObject(key)){\n      var data = getWeak(key);\n      if(data === true)return uncaughtFrozenStore(this).get(key);\n      return data ? data[this._i] : undefined;\n    }\n  },\n  // 23.3.3.5 WeakMap.prototype.set(key, value)\n  set: function set(key, value){\n    return weak.def(this, key, value);\n  }\n};\n\n// 23.3 WeakMap Objects\nvar $WeakMap = module.exports = require('./_collection')('WeakMap', wrapper, methods, weak, true, true);\n\n// IE11 WeakMap frozen keys fix\nif(new $WeakMap().set((Object.freeze || Object)(tmp), 7).get(tmp) != 7){\n  InternalMap = weak.getConstructor(wrapper);\n  assign(InternalMap.prototype, methods);\n  meta.NEED = true;\n  each(['delete', 'has', 'get', 'set'], function(key){\n    var proto  = $WeakMap.prototype\n      , method = proto[key];\n    redefine(proto, key, function(a, b){\n      // store frozen objects on internal weakmap shim\n      if(isObject(a) && !isExtensible(a)){\n        if(!this._f)this._f = new InternalMap;\n        var result = this._f[key](a, b);\n        return key == 'set' ? this : result;\n      // store all the rest on native weakmap\n      } return method.call(this, a, b);\n    });\n  });\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/es6.weak-map.js\n **/","'use strict';\n// 19.1.2.1 Object.assign(target, source, ...)\nvar getKeys  = require('./_object-keys')\n  , gOPS     = require('./_object-gops')\n  , pIE      = require('./_object-pie')\n  , toObject = require('./_to-object')\n  , IObject  = require('./_iobject')\n  , $assign  = Object.assign;\n\n// should work with symbols and should have deterministic property order (V8 bug)\nmodule.exports = !$assign || require('./_fails')(function(){\n  var A = {}\n    , B = {}\n    , S = Symbol()\n    , K = 'abcdefghijklmnopqrst';\n  A[S] = 7;\n  K.split('').forEach(function(k){ B[k] = k; });\n  return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;\n}) ? function assign(target, source){ // eslint-disable-line no-unused-vars\n  var T     = toObject(target)\n    , aLen  = arguments.length\n    , index = 1\n    , getSymbols = gOPS.f\n    , isEnum     = pIE.f;\n  while(aLen > index){\n    var S      = IObject(arguments[index++])\n      , keys   = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S)\n      , length = keys.length\n      , j      = 0\n      , key;\n    while(length > j)if(isEnum.call(S, key = keys[j++]))T[key] = S[key];\n  } return T;\n} : $assign;\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/_object-assign.js\n **/","'use strict';\nvar redefineAll       = require('./_redefine-all')\n  , getWeak           = require('./_meta').getWeak\n  , anObject          = require('./_an-object')\n  , isObject          = require('./_is-object')\n  , anInstance        = require('./_an-instance')\n  , forOf             = require('./_for-of')\n  , createArrayMethod = require('./_array-methods')\n  , $has              = require('./_has')\n  , arrayFind         = createArrayMethod(5)\n  , arrayFindIndex    = createArrayMethod(6)\n  , id                = 0;\n\n// fallback for uncaught frozen keys\nvar uncaughtFrozenStore = function(that){\n  return that._l || (that._l = new UncaughtFrozenStore);\n};\nvar UncaughtFrozenStore = function(){\n  this.a = [];\n};\nvar findUncaughtFrozen = function(store, key){\n  return arrayFind(store.a, function(it){\n    return it[0] === key;\n  });\n};\nUncaughtFrozenStore.prototype = {\n  get: function(key){\n    var entry = findUncaughtFrozen(this, key);\n    if(entry)return entry[1];\n  },\n  has: function(key){\n    return !!findUncaughtFrozen(this, key);\n  },\n  set: function(key, value){\n    var entry = findUncaughtFrozen(this, key);\n    if(entry)entry[1] = value;\n    else this.a.push([key, value]);\n  },\n  'delete': function(key){\n    var index = arrayFindIndex(this.a, function(it){\n      return it[0] === key;\n    });\n    if(~index)this.a.splice(index, 1);\n    return !!~index;\n  }\n};\n\nmodule.exports = {\n  getConstructor: function(wrapper, NAME, IS_MAP, ADDER){\n    var C = wrapper(function(that, iterable){\n      anInstance(that, C, NAME, '_i');\n      that._i = id++;      // collection id\n      that._l = undefined; // leak store for uncaught frozen objects\n      if(iterable != undefined)forOf(iterable, IS_MAP, that[ADDER], that);\n    });\n    redefineAll(C.prototype, {\n      // 23.3.3.2 WeakMap.prototype.delete(key)\n      // 23.4.3.3 WeakSet.prototype.delete(value)\n      'delete': function(key){\n        if(!isObject(key))return false;\n        var data = getWeak(key);\n        if(data === true)return uncaughtFrozenStore(this)['delete'](key);\n        return data && $has(data, this._i) && delete data[this._i];\n      },\n      // 23.3.3.4 WeakMap.prototype.has(key)\n      // 23.4.3.4 WeakSet.prototype.has(value)\n      has: function has(key){\n        if(!isObject(key))return false;\n        var data = getWeak(key);\n        if(data === true)return uncaughtFrozenStore(this).has(key);\n        return data && $has(data, this._i);\n      }\n    });\n    return C;\n  },\n  def: function(that, key, value){\n    var data = getWeak(anObject(key), true);\n    if(data === true)uncaughtFrozenStore(that).set(key, value);\n    else data[that._i] = value;\n    return that;\n  },\n  ufstore: uncaughtFrozenStore\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/_collection-weak.js\n **/","import debug from 'debug';\nimport defaultAudioContext from '../core/audio-context';\nimport SchedulingQueue from '../core/scheduling-queue';\n\nconst log = debug('wavesjs:audio');\n\nexport default class Scheduler extends SchedulingQueue {\n  constructor(options = {}) {\n    super();\n\n    this.audioContext = options.audioContext || defaultAudioContext;\n\n    this.__currentTime = null;\n    this.__nextTime = Infinity;\n    this.__timeout = null;\n\n    /**\n     * scheduler (setTimeout) period\n     * @type {Number}\n     */\n    this.period = options.period || 0.025;\n\n    /**\n     * scheduler lookahead time (> period)\n     * @type {Number}\n     */\n    this.lookahead = options.lookahead || 0.1;\n  }\n\n  // setTimeout scheduling loop\n  __tick() {\n    const audioContext = this.audioContext;\n    const currentTime = audioContext.currentTime;\n    let time = this.__nextTime;\n\n    this.__timeout = null;\n\n    while (time <= currentTime + this.lookahead) {\n      this.__currentTime = time;\n      time = this.advanceTime(time);\n    }\n\n    this.__currentTime = null;\n    this.resetTime(time);\n  }\n\n  resetTime(time = this.currentTime) {\n    if (this.master) {\n      this.master.reset(this, time);\n    } else {\n      if (this.__timeout) {\n        clearTimeout(this.__timeout);\n        this.__timeout = null;\n      }\n\n      if (time !== Infinity) {\n        if (this.__nextTime === Infinity)\n          log('Scheduler Start');\n\n        const timeOutDelay = Math.max((time - this.lookahead - this.audioContext.currentTime), this.period);\n\n        this.__timeout = setTimeout(() => {\n          this.__tick();\n        }, timeOutDelay * 1000);\n      } else if (this.__nextTime !== Infinity) {\n        log('Scheduler Stop');\n      }\n\n      this.__nextTime = time;\n    }\n  }\n\n  get currentTime() {\n    if (this.master)\n      return this.master.currentTime;\n\n    return this.__currentTime || this.audioContext.currentTime + this.lookahead;\n  }\n\n  get currentPosition() {\n    const master = this.master;\n\n    if (master && master.currentPosition !== undefined)\n      return master.currentPosition;\n\n    return undefined;\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** scheduler.js\n **/","/**\n * This is the web browser implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = 'undefined' != typeof chrome\n               && 'undefined' != typeof chrome.storage\n                  ? chrome.storage.local\n                  : localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n  'lightseagreen',\n  'forestgreen',\n  'goldenrod',\n  'dodgerblue',\n  'darkorchid',\n  'crimson'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\nfunction useColors() {\n  // NB: In an Electron preload script, document will be defined but not fully\n  // initialized. Since we know we're in Chrome, we'll just detect this case\n  // explicitly\n  if (typeof window !== 'undefined' && window.process && window.process.type === 'renderer') {\n    return true;\n  }\n\n  // is webkit? http://stackoverflow.com/a/16459606/376773\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n  return (typeof document !== 'undefined' && document && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n    // is firebug? http://stackoverflow.com/a/398120/376773\n    (typeof window !== 'undefined' && window && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n    // is firefox >= v31?\n    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n    (typeof navigator !== 'undefined' && navigator && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n    // double check webkit in userAgent just in case we are in a worker\n    (typeof navigator !== 'undefined' && navigator && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nexports.formatters.j = function(v) {\n  try {\n    return JSON.stringify(v);\n  } catch (err) {\n    return '[UnexpectedJSONParseError]: ' + err.message;\n  }\n};\n\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n  var useColors = this.useColors;\n\n  args[0] = (useColors ? '%c' : '')\n    + this.namespace\n    + (useColors ? ' %c' : ' ')\n    + args[0]\n    + (useColors ? '%c ' : ' ')\n    + '+' + exports.humanize(this.diff);\n\n  if (!useColors) return;\n\n  var c = 'color: ' + this.color;\n  args.splice(1, 0, c, 'color: inherit')\n\n  // the final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-zA-Z%]/g, function(match) {\n    if ('%%' === match) return;\n    index++;\n    if ('%c' === match) {\n      // we only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n\n  args.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\nfunction log() {\n  // this hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return 'object' === typeof console\n    && console.log\n    && Function.prototype.apply.call(console.log, console, arguments);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  try {\n    if (null == namespaces) {\n      exports.storage.removeItem('debug');\n    } else {\n      exports.storage.debug = namespaces;\n    }\n  } catch(e) {}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  var r;\n  try {\n    r = exports.storage.debug;\n  } catch(e) {}\n\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n  if (!r && typeof process !== 'undefined' && 'env' in process) {\n    r = process.env.DEBUG;\n  }\n\n  return r;\n}\n\n/**\n * Enable namespaces listed in `localStorage.debug` initially.\n */\n\nexports.enable(load());\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n  try {\n    return window.localStorage;\n  } catch (e) {}\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/debug/src/browser.js\n **/","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/process/browser.js\n **/","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = createDebug.debug = createDebug['default'] = createDebug;\nexports.coerce = coerce;\nexports.disable = disable;\nexports.enable = enable;\nexports.enabled = enabled;\nexports.humanize = require('ms');\n\n/**\n * The currently active debug mode names, and names to skip.\n */\n\nexports.names = [];\nexports.skips = [];\n\n/**\n * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n *\n * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n */\n\nexports.formatters = {};\n\n/**\n * Previous log timestamp.\n */\n\nvar prevTime;\n\n/**\n * Select a color.\n * @param {String} namespace\n * @return {Number}\n * @api private\n */\n\nfunction selectColor(namespace) {\n  var hash = 0, i;\n\n  for (i in namespace) {\n    hash  = ((hash << 5) - hash) + namespace.charCodeAt(i);\n    hash |= 0; // Convert to 32bit integer\n  }\n\n  return exports.colors[Math.abs(hash) % exports.colors.length];\n}\n\n/**\n * Create a debugger with the given `namespace`.\n *\n * @param {String} namespace\n * @return {Function}\n * @api public\n */\n\nfunction createDebug(namespace) {\n\n  function debug() {\n    // disabled?\n    if (!debug.enabled) return;\n\n    var self = debug;\n\n    // set `diff` timestamp\n    var curr = +new Date();\n    var ms = curr - (prevTime || curr);\n    self.diff = ms;\n    self.prev = prevTime;\n    self.curr = curr;\n    prevTime = curr;\n\n    // turn the `arguments` into a proper Array\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n\n    args[0] = exports.coerce(args[0]);\n\n    if ('string' !== typeof args[0]) {\n      // anything else let's inspect with %O\n      args.unshift('%O');\n    }\n\n    // apply any `formatters` transformations\n    var index = 0;\n    args[0] = args[0].replace(/%([a-zA-Z%])/g, function(match, format) {\n      // if we encounter an escaped % then don't increase the array index\n      if (match === '%%') return match;\n      index++;\n      var formatter = exports.formatters[format];\n      if ('function' === typeof formatter) {\n        var val = args[index];\n        match = formatter.call(self, val);\n\n        // now we need to remove `args[index]` since it's inlined in the `format`\n        args.splice(index, 1);\n        index--;\n      }\n      return match;\n    });\n\n    // apply env-specific formatting (colors, etc.)\n    exports.formatArgs.call(self, args);\n\n    var logFn = debug.log || exports.log || console.log.bind(console);\n    logFn.apply(self, args);\n  }\n\n  debug.namespace = namespace;\n  debug.enabled = exports.enabled(namespace);\n  debug.useColors = exports.useColors();\n  debug.color = selectColor(namespace);\n\n  // env-specific initialization logic for debug instances\n  if ('function' === typeof exports.init) {\n    exports.init(debug);\n  }\n\n  return debug;\n}\n\n/**\n * Enables a debug mode by namespaces. This can include modes\n * separated by a colon and wildcards.\n *\n * @param {String} namespaces\n * @api public\n */\n\nfunction enable(namespaces) {\n  exports.save(namespaces);\n\n  exports.names = [];\n  exports.skips = [];\n\n  var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n  var len = split.length;\n\n  for (var i = 0; i < len; i++) {\n    if (!split[i]) continue; // ignore empty strings\n    namespaces = split[i].replace(/\\*/g, '.*?');\n    if (namespaces[0] === '-') {\n      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n    } else {\n      exports.names.push(new RegExp('^' + namespaces + '$'));\n    }\n  }\n}\n\n/**\n * Disable debug output.\n *\n * @api public\n */\n\nfunction disable() {\n  exports.enable('');\n}\n\n/**\n * Returns true if the given mode name is enabled, false otherwise.\n *\n * @param {String} name\n * @return {Boolean}\n * @api public\n */\n\nfunction enabled(name) {\n  var i, len;\n  for (i = 0, len = exports.skips.length; i < len; i++) {\n    if (exports.skips[i].test(name)) {\n      return false;\n    }\n  }\n  for (i = 0, len = exports.names.length; i < len; i++) {\n    if (exports.names[i].test(name)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Coerce `val`.\n *\n * @param {Mixed} val\n * @return {Mixed}\n * @api private\n */\n\nfunction coerce(val) {\n  if (val instanceof Error) return val.stack || val.message;\n  return val;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/debug/src/debug.js\n **/","/**\n * Helpers.\n */\n\nvar s = 1000\nvar m = s * 60\nvar h = m * 60\nvar d = h * 24\nvar y = d * 365.25\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function (val, options) {\n  options = options || {}\n  var type = typeof val\n  if (type === 'string' && val.length > 0) {\n    return parse(val)\n  } else if (type === 'number' && isNaN(val) === false) {\n    return options.long ?\n\t\t\tfmtLong(val) :\n\t\t\tfmtShort(val)\n  }\n  throw new Error('val is not a non-empty string or a valid number. val=' + JSON.stringify(val))\n}\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str)\n  if (str.length > 10000) {\n    return\n  }\n  var match = /^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(str)\n  if (!match) {\n    return\n  }\n  var n = parseFloat(match[1])\n  var type = (match[2] || 'ms').toLowerCase()\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n\n    default:\n      return undefined\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  if (ms >= d) {\n    return Math.round(ms / d) + 'd'\n  }\n  if (ms >= h) {\n    return Math.round(ms / h) + 'h'\n  }\n  if (ms >= m) {\n    return Math.round(ms / m) + 'm'\n  }\n  if (ms >= s) {\n    return Math.round(ms / s) + 's'\n  }\n  return ms + 'ms'\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  return plural(ms, d, 'day') ||\n    plural(ms, h, 'hour') ||\n    plural(ms, m, 'minute') ||\n    plural(ms, s, 'second') ||\n    ms + ' ms'\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, n, name) {\n  if (ms < n) {\n    return\n  }\n  if (ms < n * 1.5) {\n    return Math.floor(ms / n) + ' ' + name\n  }\n  return Math.ceil(ms / n) + ' ' + name + 's'\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ms/index.js\n **/","import debug from 'debug';\nimport defaultAudioContext from '../core/audio-context';\nimport TimeEngine from '../core/time-engine';\n\nconst log = debug('wavesjs:audio');\n\nexport default class SimpleScheduler {\n  constructor(options = {}) {\n    this.audioContext = options.audioContext || defaultAudioContext;\n\n    this.__engines = new Set();\n\n    this.__schedEngines = [];\n    this.__schedTimes = [];\n\n    this.__currentTime = null;\n    this.__timeout = null;\n\n    /**\n     * scheduler (setTimeout) period\n     * @type {Number}\n     */\n    this.period = options.period || 0.025;\n\n    /**\n     * scheduler lookahead time (> period)\n     * @type {Number}\n     */\n    this.lookahead = options.lookahead || 0.1;\n  }\n\n  __scheduleEngine(engine, time) {\n    this.__schedEngines.push(engine);\n    this.__schedTimes.push(time);\n  }\n\n  __rescheduleEngine(engine, time) {\n    var index = this.__schedEngines.indexOf(engine);\n\n    if (index >= 0) {\n      if (time !== Infinity) {\n        this.__schedTimes[index] = time;\n      } else {\n        this.__schedEngines.splice(index, 1);\n        this.__schedTimes.splice(index, 1);\n      }\n    } else if (time < Infinity) {\n      this.__schedEngines.push(engine);\n      this.__schedTimes.push(time);\n    }\n  }\n\n  __unscheduleEngine(engine) {\n    var index = this.__schedEngines.indexOf(engine);\n\n    if (index >= 0) {\n      this.__schedEngines.splice(index, 1);\n      this.__schedTimes.splice(index, 1);\n    }\n  }\n\n  __resetTick() {\n    if (this.__schedEngines.length > 0) {\n      if (!this.__timeout) {\n        log('SimpleScheduler Start');\n        this.__tick();\n      }\n    } else if (this.__timeout) {\n      log('SimpleScheduler Stop');\n      clearTimeout(this.__timeout);\n      this.__timeout = null;\n    }\n  }\n\n  __tick() {\n    var audioContext = this.audioContext;\n    var currentTime = audioContext.currentTime;\n    var i = 0;\n\n    while (i < this.__schedEngines.length) {\n      var engine = this.__schedEngines[i];\n      var time = this.__schedTimes[i];\n\n      while (time && time <= currentTime + this.lookahead) {\n        time = Math.max(time, currentTime);\n        this.__currentTime = time;\n        time = engine.advanceTime(time);\n      }\n\n      if (time && time < Infinity) {\n        this.__schedTimes[i++] = time;\n      } else {\n        this.__unscheduleEngine(engine);\n\n        // remove engine from scheduler\n        if (!time) {\n          engine.master = null;\n          this.__engines.delete(engine);\n        }\n      }\n    }\n\n    this.__currentTime = null;\n    this.__timeout = null;\n\n    if (this.__schedEngines.length > 0) {\n      this.__timeout = setTimeout(() => {\n        this.__tick();\n      }, this.period * 1000);\n    }\n  }\n\n  get currentTime() {\n    return this.__currentTime || this.audioContext.currentTime + this.lookahead;\n  }\n\n  get currentPosition() {\n    return undefined;\n  }\n\n  // call a function at a given time\n  defer(fun, time = this.currentTime) {\n    if (!(fun instanceof Function))\n      throw new Error(\"object cannot be defered by scheduler\");\n\n    this.add({\n      advanceTime: function(time) { fun(time); }, // make sur that the advanceTime method does not returm anything\n    }, time);\n  }\n\n  // add a time engine to the scheduler\n  add(engine, time = this.currentTime) {\n    if (!TimeEngine.implementsScheduled(engine))\n      throw new Error(\"object cannot be added to scheduler\");\n\n    if (engine.master)\n      throw new Error(\"object has already been added to a master\");\n\n    // set master and add to array\n    engine.master = this;\n    this.__engines.add(engine);\n\n    // schedule engine\n    this.__scheduleEngine(engine, time);\n    this.__resetTick();\n  }\n\n  remove(engine) {\n    if (!engine.master || engine.master !== this)\n      throw new Error(\"engine has not been added to this scheduler\");\n\n    // reset master and remove from array\n    engine.master = null;\n    this.__engines.delete(engine);\n\n    // unschedule engine\n    this.__unscheduleEngine(engine);\n    this.__resetTick();\n  }\n\n  resetEngineTime(engine, time = this.currentTime) {\n    this.__rescheduleEngine(engine, time);\n    this.__resetTick();\n  }\n\n  // check whether a given engine is scheduled\n  has(engine) {\n    return this.__engines.has(engine);\n  }\n\n  clear() {\n    if (this.__timeout) {\n      clearTimeout(this.__timeout);\n      this.__timeout = null;\n    }\n\n    this.__schedEngines.length = 0;\n    this.__schedTimes.length = 0;\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** simple-scheduler.js\n **/","import defaultAudioContext from '../core/audio-context';\nimport PriorityQueue from '../core/priority-queue';\nimport SchedulingQueue from '../core/scheduling-queue';\nimport TimeEngine from '../core/time-engine';\nimport { getScheduler } from './factories';\n\n\nfunction addDuplet(firstArray, secondArray, firstElement, secondElement) {\n  firstArray.push(firstElement);\n  secondArray.push(secondElement);\n}\n\nfunction removeDuplet(firstArray, secondArray, firstElement) {\n  const index = firstArray.indexOf(firstElement);\n\n  if (index >= 0) {\n    const secondElement = secondArray[index];\n\n    firstArray.splice(index, 1);\n    secondArray.splice(index, 1);\n\n    return secondElement;\n  }\n\n  return null;\n}\n\n// The Transported call is the base class of the adapters between\n// different types of engines (i.e. transported, scheduled, play-controlled)\n// The adapters are at the same time masters for the engines added to the transport\n// and transported TimeEngines inserted into the transport's position-based pritority queue.\nclass Transported extends TimeEngine {\n  constructor(transport, engine, start, duration, offset, stretch = 1) {\n    super();\n    this.master = transport;\n\n    this.__engine = engine;\n    engine.master = this;\n\n    this.__startPosition = start;\n    this.__endPosition = !isFinite(duration) ? Infinity : start + duration;\n    this.__offsetPosition = start + offset;\n    this.__stretchPosition = stretch;\n    this.__isRunning = false;\n  }\n\n  setBoundaries(start, duration, offset = 0, stretch = 1) {\n    this.__startPosition = start;\n    this.__endPosition = start + duration;\n    this.__offsetPosition = start + offset;\n    this.__stretchPosition = stretch;\n    this.resetPosition();\n  }\n\n  start(time, position, speed) {}\n  stop(time, position) {}\n\n  get currentTime() {\n    return this.master.currentTime;\n  }\n\n  get currentPosition() {\n    return this.master.currentPosition - this.__offsetPosition;\n  }\n\n  resetPosition(position) {\n    if (position !== undefined)\n      position += this.__offsetPosition;\n\n    this.master.resetEnginePosition(this, position);\n  }\n\n  syncPosition(time, position, speed) {\n    if (speed > 0) {\n      if (position < this.__startPosition) {\n\n        if (this.__isRunning)\n          this.stop(time, position - this.__offsetPosition);\n\n        this.__isRunning = false;\n        return this.__startPosition;\n      } else if (position < this.__endPosition) {\n        this.start(time, position - this.__offsetPosition, speed);\n\n        this.__isRunning = true;\n        return this.__endPosition;\n      }\n    } else {\n      if (position > this.__endPosition) {\n        if (this.__isRunning) // if engine is running\n          this.stop(time, position - this.__offsetPosition);\n\n        this.__isRunning = false;\n        return this.__endPosition;\n      } else if (position > this.__startPosition) {\n        this.start(time, position - this.__offsetPosition, speed);\n\n        this.__isRunning = true;\n        return this.__startPosition;\n      }\n    }\n\n    if (this.__isRunning) // if engine is running\n      this.stop(time, position);\n\n    this.__isRunning = false;\n    return Infinity * speed;\n  }\n\n  advancePosition(time, position, speed) {\n    if (!this.__isRunning) {\n      this.start(time, position - this.__offsetPosition, speed);\n      this.__isRunning = true;\n\n      if (speed > 0)\n        return this.__endPosition;\n\n      return this.__startPosition;\n    }\n\n    // stop engine\n    this.stop(time, position - this.__offsetPosition);\n\n    this.__isRunning = false;\n    return Infinity * speed;\n  }\n\n  syncSpeed(time, position, speed) {\n    if (speed === 0) // stop\n      this.stop(time, position - this.__offsetPosition);\n  }\n\n  destroy() {\n    this.master = null;\n\n    this.__engine.master = null;\n    this.__engine = null;\n  }\n}\n\n// TransportedTransported\n// has to switch on and off the scheduled engines when the transport hits the engine's start and end position\nclass TransportedTransported extends Transported {\n  constructor(transport, engine, startPosition, endPosition, offsetPosition) {\n    super(transport, engine, startPosition, endPosition, offsetPosition);\n  }\n\n  syncPosition(time, position, speed) {\n    if (speed > 0 && position < this.__endPosition)\n      position = Math.max(position, this.__startPosition);\n    else if (speed < 0 && position >= this.__startPosition)\n      position = Math.min(position, this.__endPosition);\n\n    return this.__offsetPosition + this.__engine.syncPosition(time, position - this.__offsetPosition, speed);\n  }\n\n  advancePosition(time, position, speed) {\n    position = this.__offsetPosition + this.__engine.advancePosition(time, position - this.__offsetPosition, speed);\n\n    if (speed > 0 && position < this.__endPosition || speed < 0 && position >= this.__startPosition)\n      return position;\n\n    return Infinity * speed;\n  }\n\n  syncSpeed(time, position, speed) {\n    if (this.__engine.syncSpeed)\n      this.__engine.syncSpeed(time, position, speed);\n  }\n\n  resetEnginePosition(engine, position = undefined) {\n    if (position !== undefined)\n      position += this.__offsetPosition;\n\n    this.resetPosition(position);\n  }\n}\n\n// TransportedSpeedControlled\n// has to start and stop the speed-controlled engines when the transport hits the engine's start and end position\nclass TransportedSpeedControlled extends Transported {\n  constructor(transport, engine, startPosition, endPosition, offsetPosition) {\n    super(transport, engine, startPosition, endPosition, offsetPosition);\n  }\n\n  start(time, position, speed) {\n    this.__engine.syncSpeed(time, position, speed, true);\n  }\n\n  stop(time, position) {\n    this.__engine.syncSpeed(time, position, 0);\n  }\n\n  syncSpeed(time, position, speed) {\n    if (this.__isRunning)\n      this.__engine.syncSpeed(time, position, speed);\n  }\n\n  destroy() {\n    this.__engine.syncSpeed(this.master.currentTime, this.master.currentPosition - this.__offsetPosition, 0);\n    super.destroy();\n  }\n}\n\n// TransportedScheduled\n// has to switch on and off the scheduled engines when the transport hits the engine's start and end position\nclass TransportedScheduled extends Transported {\n  constructor(transport, engine, startPosition, endPosition, offsetPosition) {\n    super(transport, engine, startPosition, endPosition, offsetPosition);\n\n    // scheduling queue becomes master of engine\n    engine.master = null;\n    transport.__schedulingQueue.add(engine, Infinity);\n  }\n\n  start(time, position, speed) {\n    this.master.__schedulingQueue.resetEngineTime(this.__engine, time);\n  }\n\n  stop(time, position) {\n    this.master.__schedulingQueue.resetEngineTime(this.__engine, Infinity);\n  }\n\n  destroy() {\n    this.master.__schedulingQueue.remove(this.__engine);\n    super.destroy();\n  }\n}\n\n// translates advancePosition of *transported* engines into global scheduler times\nclass TransportSchedulerHook extends TimeEngine {\n  constructor(transport) {\n    super();\n\n    this.__transport = transport;\n\n    this.__nextPosition = Infinity;\n    this.__nextTime = Infinity;\n    transport.__scheduler.add(this, Infinity);\n  }\n\n  // TimeEngine method (scheduled interface)\n  advanceTime(time) {\n    const transport = this.__transport;\n    const position = this.__nextPosition;\n    const speed = transport.__speed;\n    const nextPosition = transport.advancePosition(time, position, speed);\n    const nextTime = transport.__getTimeAtPosition(nextPosition);\n\n    this.__nextPosition = nextPosition;\n    this.__nextTime = nextTime;\n\n    return nextTime;\n  }\n\n  resetPosition(position = this.__nextPosition) {\n    const transport = this.__transport;\n    const time = transport.__getTimeAtPosition(position);\n\n    this.__nextPosition = position;\n    this.__nextTime = time;\n\n    this.resetTime(time);\n  }\n\n  destroy() {\n    this.__transport.__scheduler.remove(this);\n    this.__transport = null;\n  }\n}\n\n// internal scheduling queue that returns the current position (and time) of the play control\nclass TransportSchedulingQueue extends SchedulingQueue {\n  constructor(transport) {\n    super();\n\n    this.__transport = transport;\n    transport.__scheduler.add(this, Infinity);\n  }\n\n  get currentTime() {\n    return this.__transport.currentTime;\n  }\n\n  get currentPosition() {\n    return this.__transport.currentPosition;\n  }\n\n  destroy() {\n    this.__transport.__scheduler.remove(this);\n    this.__transport = null;\n  }\n}\n\n/**\n * Transport class\n */\nexport default class Transport extends TimeEngine {\n  constructor(options = {}) {\n    super();\n\n    this.audioContext = options.audioContext || defaultAudioContext;\n\n    this.__engines = [];\n    this.__transported = [];\n\n    this.__scheduler = getScheduler(this.audioContext);\n    this.__schedulerHook = new TransportSchedulerHook(this);\n    this.__transportedQueue = new PriorityQueue();\n    this.__schedulingQueue = new TransportSchedulingQueue(this);\n\n    // syncronized time, position, and speed\n    this.__time = 0;\n    this.__position = 0;\n    this.__speed = 0;\n  }\n\n  __getTimeAtPosition(position) {\n    return this.__time + (position - this.__position) / this.__speed;\n  }\n\n  __getPositionAtTime(time) {\n    return this.__position + (time - this.__time) * this.__speed;\n  }\n\n  __syncTransportedPosition(time, position, speed) {\n    const numTransportedEngines = this.__transported.length;\n    let nextPosition = Infinity * speed;\n\n    if (numTransportedEngines > 0) {\n      this.__transportedQueue.clear();\n      this.__transportedQueue.reverse = (speed < 0);\n\n      for (let i = 0; i < numTransportedEngines; i++) {\n        const engine = this.__transported[i];\n        const nextEnginePosition = engine.syncPosition(time, position, speed);\n        this.__transportedQueue.insert(engine, nextEnginePosition);\n      }\n\n      nextPosition = this.__transportedQueue.time;\n    }\n\n    return nextPosition;\n  }\n\n  __syncTransportedSpeed(time, position, speed) {\n    for (let transported of this.__transported)\n      transported.syncSpeed(time, position, speed);\n  }\n\n  /**\n   * Get current master time\n   * @return {Number} current time\n   *\n   * This function will be replaced when the transport is added to a master (i.e. transport or play-control).\n   */\n  get currentTime() {\n    return this.__scheduler.currentTime;\n  }\n\n  /**\n   * Get current master position\n   * @return {Number} current playing position\n   *\n   * This function will be replaced when the transport is added to a master (i.e. transport or play-control).\n   */\n  get currentPosition() {\n    const master = this.master;\n\n    if (master && master.currentPosition !== undefined)\n      return master.currentPosition;\n\n    return this.__position + (this.__scheduler.currentTime - this.__time) * this.__speed;\n  }\n\n  /**\n   * Reset next transport position\n   * @param {Number} next transport position\n   */\n  resetPosition(position) {\n    const master = this.master;\n\n    if (master && master.resetEnginePosition !== undefined)\n      master.resetEnginePosition(this, position);\n    else\n      this.__schedulerHook.resetPosition(position);\n  }\n\n  // TimeEngine method (transported interface)\n  syncPosition(time, position, speed) {\n    this.__time = time;\n    this.__position = position;\n    this.__speed = speed;\n\n    return this.__syncTransportedPosition(time, position, speed);\n  }\n\n  // TimeEngine method (transported interface)\n  advancePosition(time, position, speed) {\n    const engine = this.__transportedQueue.head;\n    const nextEnginePosition = engine.advancePosition(time, position, speed);\n    return this.__transportedQueue.move(engine, nextEnginePosition);\n  }\n\n  // TimeEngine method (speed-controlled interface)\n  syncSpeed(time, position, speed, seek = false) {\n    const lastSpeed = this.__speed;\n\n    this.__time = time;\n    this.__position = position;\n    this.__speed = speed;\n\n    if (speed !== lastSpeed || (seek && speed !== 0)) {\n      let nextPosition;\n\n      // resync transported engines\n      if (seek || speed * lastSpeed < 0) {\n        // seek or reverse direction\n        nextPosition = this.__syncTransportedPosition(time, position, speed);\n      } else if (lastSpeed === 0) {\n        // start\n        nextPosition = this.__syncTransportedPosition(time, position, speed);\n      } else if (speed === 0) {\n        // stop\n        nextPosition = Infinity;\n        this.__syncTransportedSpeed(time, position, 0);\n      } else {\n        // change speed without reversing direction\n        this.__syncTransportedSpeed(time, position, speed);\n      }\n\n      this.resetPosition(nextPosition);\n    }\n  }\n\n  /**\n   * Add a time engine to the transport\n   * @param {Object} engine engine to be added to the transport\n   * @param {Number} position start position\n   */\n  add(engine, startPosition = 0, endPosition = Infinity, offsetPosition = 0) {\n    let transported = null;\n\n    if (offsetPosition === -Infinity)\n      offsetPosition = 0;\n\n    if (engine.master)\n      throw new Error(\"object has already been added to a master\");\n\n    if (TimeEngine.implementsTransported(engine))\n      transported = new TransportedTransported(this, engine, startPosition, endPosition, offsetPosition);\n    else if (TimeEngine.implementsSpeedControlled(engine))\n      transported = new TransportedSpeedControlled(this, engine, startPosition, endPosition, offsetPosition);\n    else if (TimeEngine.implementsScheduled(engine))\n      transported = new TransportedScheduled(this, engine, startPosition, endPosition, offsetPosition);\n    else\n      throw new Error(\"object cannot be added to a transport\");\n\n    if (transported) {\n      const speed = this.__speed;\n\n      addDuplet(this.__engines, this.__transported, engine, transported);\n\n      if (speed !== 0) {\n        // sync and start\n        const nextEnginePosition = transported.syncPosition(this.currentTime, this.currentPosition, speed);\n        const nextPosition = this.__transportedQueue.insert(transported, nextEnginePosition);\n\n        this.resetPosition(nextPosition);\n      }\n    }\n\n    return transported;\n  }\n\n  /**\n   * Remove a time engine from the transport\n   * @param {object} engineOrTransported engine or transported to be removed from the transport\n   */\n  remove(engineOrTransported) {\n    let engine = engineOrTransported;\n    let transported = removeDuplet(this.__engines, this.__transported, engineOrTransported);\n\n    if (!transported) {\n      engine = removeDuplet(this.__transported, this.__engines, engineOrTransported);\n      transported = engineOrTransported;\n    }\n\n    if (engine && transported) {\n      const nextPosition = this.__transportedQueue.remove(transported);\n\n      transported.destroy();\n\n      if (this.__speed !== 0)\n        this.resetPosition(nextPosition);\n    } else {\n      throw new Error(\"object has not been added to this transport\");\n    }\n  }\n\n  resetEnginePosition(transported, position = undefined) {\n    const speed = this.__speed;\n\n    if (speed !== 0) {\n      if (position === undefined)\n        position = transported.syncPosition(this.currentTime, this.currentPosition, speed);\n\n      const nextPosition = this.__transportedQueue.move(transported, position);\n      this.resetPosition(nextPosition);\n    }\n  }\n\n  /**\n   * Remove all time engines from the transport\n   */\n  clear() {\n    this.syncSpeed(this.currentTime, this.currentPosition, 0);\n\n    for (let transported of this.__transported)\n      transported.destroy();\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** transport.js\n **/","module.exports = { \"default\": require(\"core-js/library/fn/get-iterator\"), __esModule: true };\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-runtime/core-js/get-iterator.js\n **/","require('../modules/web.dom.iterable');\nrequire('../modules/es6.string.iterator');\nmodule.exports = require('../modules/core.get-iterator');\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/fn/get-iterator.js\n **/","var anObject = require('./_an-object')\n  , get      = require('./core.get-iterator-method');\nmodule.exports = require('./_core').getIterator = function(it){\n  var iterFn = get(it);\n  if(typeof iterFn != 'function')throw TypeError(it + ' is not iterable!');\n  return anObject(iterFn.call(it));\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/core.get-iterator.js\n **/","import * as util from './util';\n\n// using consts to prevent someone writing the string wrong\nconst PLAYING = 'playing';\nconst PAUSED = 'paused';\nconst FINISHED = 'finished';\n\n/**\n * WebAudio backend\n *\n * @extends {Observer}\n */\nexport default class WebAudio extends util.Observer {\n    /** @private */\n    static scriptBufferSize = 256\n    /** @private */\n    audioContext = null\n    /** @private */\n    offlineAudioContext = null\n    /** @private */\n    stateBehaviors = {\n        [PLAYING]: {\n            init() {\n                this.addOnAudioProcess();\n            },\n            getPlayedPercents() {\n                const duration = this.getDuration();\n                return (this.getCurrentTime() / duration) || 0;\n            },\n            getCurrentTime() {\n                return this.startPosition + this.getPlayedTime();\n            }\n        },\n        [PAUSED]: {\n            init() {\n                this.removeOnAudioProcess();\n            },\n            getPlayedPercents() {\n                const duration = this.getDuration();\n                return (this.getCurrentTime() / duration) || 0;\n            },\n            getCurrentTime() {\n                return this.startPosition;\n            }\n        },\n        [FINISHED]: {\n            init() {\n                this.removeOnAudioProcess();\n                this.fireEvent('finish');\n            },\n            getPlayedPercents() {\n                return 1;\n            },\n            getCurrentTime() {\n                return this.getDuration();\n            }\n        }\n    }\n\n    /**\n     * Does the browser support this backend\n     *\n     * @return {boolean}\n     */\n    supportsWebAudio() {\n        return !!(window.AudioContext || window.webkitAudioContext);\n    }\n\n    /**\n     * Get the audio context used by this backend or create one\n     *\n     * @return {AudioContext}\n     */\n    getAudioContext() {\n        if (!window.WaveSurferAudioContext) {\n            window.WaveSurferAudioContext = new (\n                window.AudioContext || window.webkitAudioContext\n            );\n        }\n        return window.WaveSurferAudioContext;\n    }\n\n    /**\n     * Get the offline audio context used by this backend or create one\n     *\n     * @param {number} sampleRate\n     * @return {OfflineAudioContext}\n     */\n    getOfflineAudioContext(sampleRate) {\n        if (!window.WaveSurferOfflineAudioContext) {\n            window.WaveSurferOfflineAudioContext = new (\n                window.OfflineAudioContext || window.webkitOfflineAudioContext\n            )(1, 2, sampleRate);\n        }\n        return window.WaveSurferOfflineAudioContext;\n    }\n\n    /**\n     * Construct the backend\n     *\n     * @param {WavesurferParams} params\n     */\n    constructor(params) {\n        super();\n        /** @private */\n        this.params = params;\n        /** @private */\n        this.ac = params.audioContext || this.getAudioContext();\n        /**@private */\n        this.lastPlay = this.ac.currentTime;\n        /** @private */\n        this.startPosition = 0;\n        /** @private  */\n        this.scheduledPause = null;\n        /** @private */\n        this.states = {\n            [PLAYING]: Object.create(this.stateBehaviors[PLAYING]),\n            [PAUSED]: Object.create(this.stateBehaviors[PAUSED]),\n            [FINISHED]: Object.create(this.stateBehaviors[FINISHED])\n        };\n        /** @private */\n        this.analyser = null;\n        /** @private */\n        this.buffer = null;\n        /** @private */\n        this.filters = [];\n        /** @private */\n        this.gainNode = null;\n        /** @private */\n        this.mergedPeaks = null;\n        /** @private */\n        this.offlineAc = null;\n        /** @private */\n        this.peaks = null;\n        /** @private */\n        this.playbackRate = 1;\n        /** @private */\n        this.analyser = null;\n        /** @private */\n        this.scriptNode = null;\n        /** @private */\n        this.source = null;\n        /** @private */\n        this.splitPeaks = [];\n        /** @private */\n        this.state = null;\n    }\n\n    /**\n     * Initialise the backend, called in `wavesurfer.createBackend()`\n     */\n    init() {\n        this.createVolumeNode();\n        this.createScriptNode();\n        this.createAnalyserNode();\n\n        this.setState(PAUSED);\n        this.setPlaybackRate(this.params.audioRate);\n        this.setLength(0);\n    }\n\n    /** @private */\n    disconnectFilters() {\n        if (this.filters) {\n            this.filters.forEach(filter => {\n                filter && filter.disconnect();\n            });\n            this.filters = null;\n            // Reconnect direct path\n            this.analyser.connect(this.gainNode);\n        }\n    }\n\n    /** @private */\n    setState(state) {\n        if (this.state !== this.states[state]) {\n            this.state = this.states[state];\n            this.state.init.call(this);\n        }\n    }\n\n    /**\n     * Unpacked `setFilters()`\n     *\n     * @param {...AudioNode} filters\n     */\n    setFilter(...filters) {\n        this.setFilters(filters);\n    }\n\n    /**\n     * Insert custom Web Audio nodes into the graph\n     *\n     * @param {AudioNode[]} filters Packed filters array\n     * @example\n     * const lowpass = wavesurfer.backend.ac.createBiquadFilter();\n     * wavesurfer.backend.setFilter(lowpass);\n     */\n    setFilters(filters) {\n        // Remove existing filters\n        this.disconnectFilters();\n\n        // Insert filters if filter array not empty\n        if (filters && filters.length) {\n            this.filters = filters;\n\n            // Disconnect direct path before inserting filters\n            this.analyser.disconnect();\n\n            // Connect each filter in turn\n            filters.reduce((prev, curr) => {\n                prev.connect(curr);\n                return curr;\n            }, this.analyser).connect(this.gainNode);\n        }\n\n    }\n\n    /** @private */\n    createScriptNode() {\n        if (this.ac.createScriptProcessor) {\n            this.scriptNode = this.ac.createScriptProcessor(this.scriptBufferSize);\n        } else {\n            this.scriptNode = this.ac.createJavaScriptNode(this.scriptBufferSize);\n        }\n\n        this.scriptNode.connect(this.ac.destination);\n    }\n\n    /** @private */\n    addOnAudioProcess() {\n        this.scriptNode.onaudioprocess = () => {\n            const time = this.getCurrentTime();\n\n            if (time >= this.getDuration()) {\n                this.setState(FINISHED);\n                this.fireEvent('pause');\n            } else if (time >= this.scheduledPause) {\n                this.pause();\n            } else if (this.state === this.states[PLAYING]) {\n                this.fireEvent('audioprocess', time);\n            }\n        };\n    }\n\n    /** @private */\n    removeOnAudioProcess() {\n        this.scriptNode.onaudioprocess = null;\n    }\n\n    /** @private */\n    createAnalyserNode() {\n        this.analyser = this.ac.createAnalyser();\n        this.analyser.connect(this.gainNode);\n    }\n\n    /**\n     * Create the gain node needed to control the playback volume.\n     *\n     * @private\n     */\n    createVolumeNode() {\n        // Create gain node using the AudioContext\n        if (this.ac.createGain) {\n            this.gainNode = this.ac.createGain();\n        } else {\n            this.gainNode = this.ac.createGainNode();\n        }\n        // Add the gain node to the graph\n        this.gainNode.connect(this.ac.destination);\n    }\n\n    /**\n     * Set the audio volume\n     *\n     * @param {number} value A floating point value between 0 and 1.\n     */\n    setVolume(value) {\n        this.gainNode.gain.value = value;\n    }\n\n    /**\n     * Get the current volume\n     *\n     * @return {number} value A floating point value between 0 and 1.\n     */\n    getVolume() {\n        return this.gainNode.gain.value;\n    }\n\n    /** @private */\n    decodeArrayBuffer(arraybuffer, callback, errback) {\n        if (!this.offlineAc) {\n            this.offlineAc = this.getOfflineAudioContext(this.ac ? this.ac.sampleRate : 44100);\n        }\n        this.offlineAc.decodeAudioData(arraybuffer, data => callback(data), errback);\n    }\n\n    /**\n     * Set pre-decoded peaks\n     *\n     * @param {Array} peaks\n     */\n    setPeaks(peaks) {\n        this.peaks = peaks;\n    }\n\n    /**\n     * Set the rendered length (different from the length of the audio).\n     *\n     * @param {number} length\n     */\n    setLength(length) {\n        // No resize, we can preserve the cached peaks.\n        if (this.mergedPeaks && length == ((2 * this.mergedPeaks.length - 1) + 2)) {\n            return;\n        }\n\n        this.splitPeaks = [];\n        this.mergedPeaks = [];\n        // Set the last element of the sparse array so the peak arrays are\n        // appropriately sized for other calculations.\n        const channels = this.buffer ? this.buffer.numberOfChannels : 1;\n        let c;\n        for (c = 0; c < channels; c++) {\n            this.splitPeaks[c] = [];\n            this.splitPeaks[c][2 * (length - 1)] = 0;\n            this.splitPeaks[c][2 * (length - 1) + 1] = 0;\n        }\n        this.mergedPeaks[2 * (length - 1)] = 0;\n        this.mergedPeaks[2 * (length - 1) + 1] = 0;\n    }\n\n    /**\n     * Compute the max and min value of the waveform when broken into <length> subranges.\n     *\n     * @param {number} length How many subranges to break the waveform into.\n     * @param {number} first First sample in the required range.\n     * @param {number} last Last sample in the required range.\n     * @return {number[]|number[][]} Array of 2*<length> peaks or array of arrays of\n     * peaks consisting of (max, min) values for each subrange.\n     */\n    getPeaks(length, first, last) {\n        if (this.peaks) { return this.peaks; }\n\n        this.setLength(length);\n\n        const sampleSize = this.buffer.length / length;\n        const sampleStep = ~~(sampleSize / 10) || 1;\n        const channels = this.buffer.numberOfChannels;\n        let c;\n\n        for (c = 0; c < channels; c++) {\n            const peaks = this.splitPeaks[c];\n            const chan = this.buffer.getChannelData(c);\n            let i;\n\n            for (i = first; i <= last; i++) {\n                const start = ~~(i * sampleSize);\n                const end = ~~(start + sampleSize);\n                let min = 0;\n                let max = 0;\n                let j;\n\n                for (j = start; j < end; j += sampleStep) {\n                    const value = chan[j];\n\n                    if (value > max) {\n                        max = value;\n                    }\n\n                    if (value < min) {\n                        min = value;\n                    }\n                }\n\n                peaks[2 * i] = max;\n                peaks[2 * i + 1] = min;\n\n                if (c == 0 || max > this.mergedPeaks[2 * i]) {\n                    this.mergedPeaks[2 * i] = max;\n                }\n\n                if (c == 0 || min < this.mergedPeaks[2 * i + 1]) {\n                    this.mergedPeaks[2 * i + 1] = min;\n                }\n            }\n        }\n\n        return this.params.splitChannels ? this.splitPeaks : this.mergedPeaks;\n    }\n\n    /**\n     * Get the position from 0 to 1\n     *\n     * @return {number}\n     */\n    getPlayedPercents() {\n        return this.state.getPlayedPercents.call(this);\n    }\n\n    /** @private */\n    disconnectSource() {\n        if (this.source) {\n            this.source.disconnect();\n        }\n    }\n\n    /**\n     * This is called when wavesurfer is destroyed\n     */\n    destroy() {\n        if (!this.isPaused()) {\n            this.pause();\n        }\n        this.unAll();\n        this.buffer = null;\n        this.disconnectFilters();\n        this.disconnectSource();\n        this.gainNode.disconnect();\n        this.scriptNode.disconnect();\n        this.analyser.disconnect();\n\n        // close the audioContext if closeAudioContext option is set to true\n        if (this.params.closeAudioContext) {\n            // check if browser supports AudioContext.close()\n            if (typeof this.ac.close === 'function') {\n                this.ac.close();\n            }\n            // clear the reference to the audiocontext\n            this.ac = null;\n            // clear the actual audiocontext, either passed as param or the\n            // global singleton\n            if (!this.params.audioContext) {\n                window.WaveSurferAudioContext = null;\n            } else {\n                this.params.audioContext = null;\n            }\n            // clear the offlineAudioContext\n            window.WaveSurferOfflineAudioContext = null;\n        }\n    }\n\n    /**\n     * Loaded a decoded audio buffer\n     *\n     * @param {Object} buffer\n     */\n    load(buffer) {\n        this.startPosition = 0;\n        this.lastPlay = this.ac.currentTime;\n        this.buffer = buffer;\n        this.createSource();\n    }\n\n    /** @private */\n    createSource() {\n        this.disconnectSource();\n        this.source = this.ac.createBufferSource();\n\n        //adjust for old browsers.\n        this.source.start = this.source.start || this.source.noteGrainOn;\n        this.source.stop = this.source.stop || this.source.noteOff;\n\n        this.source.playbackRate.value = this.playbackRate;\n        this.source.buffer = this.buffer;\n        this.source.connect(this.analyser);\n    }\n\n    /**\n     * Used by `wavesurfer.isPlaying()` and `wavesurfer.playPause()`\n     *\n     * @return {boolean}\n     */\n    isPaused() {\n        return this.state !== this.states[PLAYING];\n    }\n\n    /**\n     * Used by `wavesurfer.getDuration()`\n     *\n     * @return {number}\n     */\n    getDuration() {\n        if (!this.buffer) {\n            return 0;\n        }\n        return this.buffer.duration;\n    }\n\n    /**\n     * Used by `wavesurfer.seekTo()`\n     *\n     * @param {number} start Position to start at in seconds\n     * @param {number} end Position to end at in seconds\n     * @return {{start: number, end: number}}\n     */\n    seekTo(start, end) {\n        if (!this.buffer) { return; }\n\n        this.scheduledPause = null;\n\n        if (start == null) {\n            start = this.getCurrentTime();\n            if (start >= this.getDuration()) {\n                start = 0;\n            }\n        }\n        if (end == null) {\n            end = this.getDuration();\n        }\n\n        this.startPosition = start;\n        this.lastPlay = this.ac.currentTime;\n\n        if (this.state === this.states[FINISHED]) {\n            this.setState(PAUSED);\n        }\n\n        return {\n            start: start,\n            end: end\n        };\n    }\n\n    /**\n     * Get the playback position in seconds\n     *\n     * @return {number}\n     */\n    getPlayedTime() {\n        return (this.ac.currentTime - this.lastPlay) * this.playbackRate;\n    }\n\n    /**\n     * Plays the loaded audio region.\n     *\n     * @param {number} start Start offset in seconds, relative to the beginning\n     * of a clip.\n     * @param {number} end When to stop relative to the beginning of a clip.\n     */\n    play(start, end) {\n        if (!this.buffer) { return; }\n\n        // need to re-create source on each playback\n        this.createSource();\n\n        const adjustedTime = this.seekTo(start, end);\n\n        start = adjustedTime.start;\n        end = adjustedTime.end;\n\n        this.scheduledPause = end;\n\n        this.source.start(0, start, end - start);\n\n        if (this.ac.state == 'suspended') {\n            this.ac.resume && this.ac.resume();\n        }\n\n        this.setState(PLAYING);\n\n        this.fireEvent('play');\n    }\n\n    /**\n     * Pauses the loaded audio.\n     */\n    pause() {\n        this.scheduledPause = null;\n\n        this.startPosition += this.getPlayedTime();\n        this.source && this.source.stop(0);\n\n        this.setState(PAUSED);\n\n        this.fireEvent('pause');\n    }\n\n    /**\n    * Returns the current time in seconds relative to the audioclip's\n    * duration.\n    *\n    * @return {number}\n    */\n    getCurrentTime() {\n        return this.state.getCurrentTime.call(this);\n    }\n\n    /**\n    * Returns the current playback rate. (0=no playback, 1=normal playback)\n    *\n    * @return {number}\n    */\n    getPlaybackRate() {\n        return this.playbackRate;\n    }\n\n    /**\n     * Set the audio source playback rate.\n     *\n     * @param {number} value\n     */\n    setPlaybackRate(value) {\n        value = value || 1;\n        if (this.isPaused()) {\n            this.playbackRate = value;\n        } else {\n            this.pause();\n            this.playbackRate = value;\n            this.play();\n        }\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/wavesurfer.js/src/webaudio.js\n **/","export { default as ajax } from './ajax';\nexport { default as getId } from './get-id';\nexport { default as max } from './max';\nexport { default as min } from './min';\nexport { default as Observer } from './observer';\nexport { default as extend } from './extend';\nexport { default as style } from './style';\nexport { default as debounce } from 'debounce';\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/wavesurfer.js/src/util/index.js\n **/","import Observer from './observer';\n\n/**\n * Perform an ajax request\n *\n * @param {Options} options Description\n *\n * @returns {Object} Observer instance\n */\nexport default function ajax (options) {\n    const instance = new Observer();\n    const xhr = new XMLHttpRequest();\n    let fired100 = false;\n    xhr.open(options.method || 'GET', options.url, true);\n    xhr.responseType = options.responseType || 'json';\n    xhr.addEventListener('progress', e => {\n        instance.fireEvent('progress', e);\n        if (e.lengthComputable && e.loaded == e.total) {\n            fired100 = true;\n        }\n    });\n    xhr.addEventListener('load', e => {\n        if (!fired100) {\n            instance.fireEvent('progress', e);\n        }\n        instance.fireEvent('load', e);\n        if (200 == xhr.status || 206 == xhr.status) {\n            instance.fireEvent('success', xhr.response, e);\n        } else {\n            instance.fireEvent('error', e);\n        }\n    });\n    xhr.addEventListener('error', e => instance.fireEvent('error', e));\n    xhr.send();\n    instance.xhr = xhr;\n    return instance;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/wavesurfer.js/src/util/ajax.js\n **/","/**\n * @typedef {Object} ListenerDescriptor\n * @property {string} name The name of the event\n * @property {function} callback The callback\n * @property {function} un The function to call to remove the listener\n */\n\n/**\n * Observer class\n */\nexport default class Observer {\n    /**\n     * Instantiate Observer\n     */\n    constructor() {\n        /**\n         * @private\n         * @todo Initialise the handlers here already and remove the conditional\n         * assignment in `on()`\n         */\n        this.handlers = null;\n    }\n    /**\n     * Attach a handler function for an event.\n     *\n     * @param {string} event Name of the event to listen to\n     * @param {function} fn The callback to trigger when the event is fired\n     * @return {ListenerDescriptor}\n     */\n    on(event, fn) {\n        if (!this.handlers) { this.handlers = {}; }\n\n        let handlers = this.handlers[event];\n        if (!handlers) {\n            handlers = this.handlers[event] = [];\n        }\n        handlers.push(fn);\n\n        // Return an event descriptor\n        return {\n            name: event,\n            callback: fn,\n            un: (e, fn) => this.un(e, fn)\n        };\n    }\n\n    /**\n     * Remove an event handler.\n     *\n     * @param {string} event Name of the event the listener that should be\n     * removed listens to\n     * @param {function} fn The callback that should be removed\n     */\n    un(event, fn) {\n        if (!this.handlers) { return; }\n\n        const handlers = this.handlers[event];\n        let i;\n        if (handlers) {\n            if (fn) {\n                for (i = handlers.length - 1; i >= 0; i--) {\n                    if (handlers[i] == fn) {\n                        handlers.splice(i, 1);\n                    }\n                }\n            } else {\n                handlers.length = 0;\n            }\n        }\n    }\n\n    /**\n     * Remove all event handlers.\n     */\n    unAll() {\n        this.handlers = null;\n    }\n\n    /**\n     * Attach a handler to an event. The handler is executed at most once per\n     * event type.\n     *\n     * @param {string} event The event to listen to\n     * @param {function} handler The callback that is only to be called once\n     * @return {ListenerDescriptor}\n     */\n    once(event, handler) {\n        const fn = (...args) => {\n            /*  eslint-disable no-invalid-this */\n            handler.apply(this, args);\n            /*  eslint-enable no-invalid-this */\n            setTimeout(() => {\n                this.un(event, fn);\n            }, 0);\n        };\n        return this.on(event, fn);\n    }\n\n    /**\n     * Manually fire an event\n     *\n     * @param {string} event The event to fire manually\n     * @param {...any} args The arguments with which to call the listeners\n     */\n    fireEvent(event, ...args) {\n        if (!this.handlers) { return; }\n        const handlers = this.handlers[event];\n        handlers && handlers.forEach(fn => {\n            fn(...args);\n        });\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/wavesurfer.js/src/util/observer.js\n **/","/**\n * Get a random prefixed ID\n *\n * @returns {String} Random ID\n */\nexport default function getId () {\n    return 'wavesurfer_' + Math.random().toString(32).substring(2);\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/wavesurfer.js/src/util/get-id.js\n **/","/**\n * Get the largest value\n *\n * @param   {Array} values Array of numbers\n * @returns {Number} Largest number found\n */\nexport default function max (values) {\n    let largest = -Infinity;\n    Object.keys(values).forEach(i => {\n        if (values[i] > largest) {\n            largest = values[i];\n        }\n    });\n    return largest;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/wavesurfer.js/src/util/max.js\n **/","/**\n * Get the smallest value\n *\n * @param   {Array} values Array of numbers\n * @returns {Number}       Smallest number found\n */\nexport default function min (values) {\n    let smallest = Number(Infinity);\n    Object.keys(values).forEach(i => {\n        if (values[i] < smallest) {\n            smallest = values[i];\n        }\n    });\n    return smallest;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/wavesurfer.js/src/util/min.js\n **/"," /**\n  * Extend an object shallowly with others\n  *\n  * @param {Object} dest The target object\n  * @param {Object[]} sources The objects to use for extending\n  *\n  * @return {Object} Merged object\n  */\nexport default function extend (dest, ...sources) {\n    sources.forEach(source => {\n        Object.keys(source).forEach(key => {\n            dest[key] = source[key];\n        });\n    });\n    return dest;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/wavesurfer.js/src/util/extend.js\n **/","/**\n * Apply a map of styles to an element\n *\n * @param {HTMLElement} el The element that the styles will be applied to\n * @param {Object} styles The map of propName: attribute, both are used as-is\n *\n * @return {HTMLElement} el\n */\nexport default function style (el, styles) {\n    Object.keys(styles).forEach(prop => {\n        if (el.style[prop] !== styles[prop]) {\n            el.style[prop] = styles[prop];\n        }\n    });\n    return el;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/wavesurfer.js/src/util/style.js\n **/","/**\n * Returns a function, that, as long as it continues to be invoked, will not\n * be triggered. The function will be called after it stops being called for\n * N milliseconds. If `immediate` is passed, trigger the function on the\n * leading edge, instead of the trailing. The function also has a property 'clear' \n * that is a function which will clear the timer to prevent previously scheduled executions. \n *\n * @source underscore.js\n * @see http://unscriptable.com/2009/03/20/debouncing-javascript-methods/\n * @param {Function} function to wrap\n * @param {Number} timeout in ms (`100`)\n * @param {Boolean} whether to execute at the beginning (`false`)\n * @api public\n */\n\nmodule.exports = function debounce(func, wait, immediate){\n  var timeout, args, context, timestamp, result;\n  if (null == wait) wait = 100;\n\n  function later() {\n    var last = Date.now() - timestamp;\n\n    if (last < wait && last >= 0) {\n      timeout = setTimeout(later, wait - last);\n    } else {\n      timeout = null;\n      if (!immediate) {\n        result = func.apply(context, args);\n        context = args = null;\n      }\n    }\n  };\n\n  var debounced = function(){\n    context = this;\n    args = arguments;\n    timestamp = Date.now();\n    var callNow = immediate && !timeout;\n    if (!timeout) timeout = setTimeout(later, wait);\n    if (callNow) {\n      result = func.apply(context, args);\n      context = args = null;\n    }\n\n    return result;\n  };\n\n  debounced.clear = function() {\n    if (timeout) {\n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n\n  return debounced;\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/debounce/index.js\n **/","import MyWebAudio from './webaudio_segment_player_noPlayControl';\n\nexport default class BackendPlugin {\n\n    static create(params) {\n        return {\n            name: 'backend',\n            deferInit: params && params.deferInit ? params.deferInit : false,\n            params: params,\n            instance: BackendPlugin\n            /*staticProps: {\n                Backend: MyWebAudio\n            }*/\n        };\n    }\n\n    constructor(params, ws) {\n        this.wavesurfer = ws;\n        this.wavesurfer.Backend = MyWebAudio;\n        this.wavesurfer.createBackend();\n\n        this.setupPluginDOM(ws);\n\n        this.wavesurfer.on('ready', () => {\n            //console.log(params);\n            if (params.transport) {\n                ws.backend.setMasterTransport(params.transport);\n\n            }\n\n            if (params.playctrl) {\n                ws.backend.setMasterPlayControl(params.playctrl);\n            }\n\n            if (params.json) {\n                ws.backend.loadFromJson(params.json);\n            }\n        });\n\n\n    }\n\n    init() {\n        console.log('init webaudio_segment_player');\n    }\n\n    destroy() {\n        console.log('destroy webaudio_segment_player');\n    }\n\n    setupPluginDOM(ws) {\n        /*\n        // 1. Create the button\n        const button = document.createElement('button');\n        button.innerHTML = 'Change Chord';\n\n        // 2. Append somewhere\n        const body = document.getElementsByTagName('body')[0];\n        body.appendChild(button);\n\n        // 3. Add event handler\n        button.addEventListener('click', () => {\n            ws.backend.switchEngine();\n        });\n\n        */\n\n        /*        let container = \"sliders\";\n                // create a new div element\n                // and give it some content\n\n                var slider = document.createElement(\"input\");\n                slider.type = \"range\";\n                slider.min = 50;\n                slider.max = 200;\n                slider.value = 100;\n\n                slider.oninput = function() {\n                    var zoomLevel = Number(slider.value) / 100;\n                    //globalPlayControl.speed = zoomLevel * 2;\n                    ws.backend.setPlaybackRate(zoomLevel * 2);\n                };\n\n\n                // add the newly created element and its content into the DOM\n                var currentDiv = document.getElementById(container);\n                currentDiv.appendChild(slider);*/\n\n    }\n\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/backend_segment_player.js\n **/","//import * as wavesAudio from 'waves-audio';\nimport * as wavesLoaders from 'waves-loaders';\nimport WebAudio from '../node_modules/wavesurfer.js/src/webaudio';\n\n//let wavesAudio = require('../waves-audio.umd.js');\nimport * as wavesAudio from '../../waves-audio/src/index';\n\nconst PLAYING = 'playing';\nconst PAUSED = 'paused';\nconst FINISHED = 'finished';\n\nconst Modulo = (num, mod) => ((num % mod) + mod) % mod;\n// Allows individual looping and speed control for \n// instance if several segment engines have been added to \n// the same global transport.\nconst _WRAP_SEGMENTENGINE_IN_PLAYCONTROL = false;\n\nexport default class MyWebAudio extends WebAudio {\n    constructor(params) {\n        super(params);\n        //console.log(\"MyWebAudio params: \");\n        //console.log(params);\n        if (params.transport)\n            this.transport = params.transport;\n        if (params.playctrl)\n            this.playControl = params.playctrl;\n\n    }\n\n    setupSegmentPlayer(segmentDescriptions) {\n        if (!this.buffer) {\n            console.log(\"No buffer, is wavesurfer ready?\")\n            return;\n        }\n        /* Parse and concatenate segments */\n        console.log(\"segments from file: \" + JSON.stringify(segmentDescriptions))\n        let newSegments = {\n            \"time\": [],\n            \"duration\": [],\n            \"offset\": [],\n            \"loudness\": []\n        };\n\n        for (let seg of segmentDescriptions.segments) {\n            console.log(seg.identifier);\n            newSegments.time = newSegments.time.concat(seg.time);\n            newSegments.duration = newSegments.duration.concat(seg.duration);\n            newSegments.offset = newSegments.offset.concat(seg.offset);\n        }\n        // Add dummy element at end. This is needed otherwise segment engine halts at the\n        // next to last segment.\n        /*let lastTime = newSegments.time[newSegments.time.length-1];\n        let lastDur = newSegments.duration[newSegments.duration.length-1];\n        newSegments.time.push(lastTime+lastDur);\n        newSegments.duration.push(lastDur);*/\n\n        console.log(\"NEW SEGMENT:\")\n        console.log(newSegments);\n\n        this.transportedEngine = new wavesAudio.SegmentEngine({\n            buffer: this.source.buffer,\n            positionArray: newSegments.time,\n            durationArray: newSegments.duration,\n            offsetArray: newSegments.offset,\n            polyCutoff: segmentDescriptions.cutoffTime || 2,\n            polyEndvol: 0,\n            attackAbs: segmentDescriptions.attackAbs || 0.005,\n            speed: segmentDescriptions.speed || 1.0, /* not used currently */\n            periodAbs: segmentDescriptions.periodAbs || 0.0,\n            periodRel: segmentDescriptions.periodRel || 1,//0.087,\n            periodVar: segmentDescriptions.periodVar || 0,//0.052,\n            position: segmentDescriptions.position || 0.0,\n            positionVar: segmentDescriptions.positionVar || 0.0,\n            durationAbs: segmentDescriptions.durationAbs || 0,//0.43,\n            durationRel: segmentDescriptions.durationRel || 0.95,\n            attackAbs: segmentDescriptions.attackAbs || 0.005,\n            attackRel: segmentDescriptions.attackRel || 0.0,\n            releaseAbs: segmentDescriptions.releaseAbs || 0.005,\n            releaseRel: segmentDescriptions.releaseRel || 0,//0.005,\n            releaseShape: segmentDescriptions.releaseShape || \"lin\",\n            expRampOffset: segmentDescriptions.expRampOffset || 0.0001,\n            resampling: segmentDescriptions.resampling || 0.0,\n            resamplingVar: segmentDescriptions.resamplingVar || 0,\n            gain: segmentDescriptions.gain || 1.0,\n            centered: segmentDescriptions.centered || true,\n            cyclic: segmentDescriptions.cyclic || false,\n\n        });\n        this.transportedEngine.connect(this.analyser);\n\n        //this.transportedObj = this.transport.add(this.transportedEngine, 99999);\n        //console.log(\"adding engine at transport pos 99999\");\n\n        this.setVolume(segmentDescriptions.gain || 1);\n\n    }\n\n    loadFromJson(json) {\n        this.segmentDescriptions = json;\n        this.setupSegmentPlayer(json);\n        return 'Dummy';\n    }\n\n    setMasterTransport(master) {\n\n        this.transport = master;\n        console.log(\"new master transport:\");\n        console.log(master);\n\n    }\n\n    setMasterPlayControl(control) {\n\n        this.playControl = control;\n        console.log(\"new master play control:\");\n        console.log(control);\n    }\n\n    getTransported() {\n        return this.transportedEngine;\n    }\n\n    switchEngine(part) {\n        const _headroom = 1;\n        //console.log(\"PART:\" + part);\n\n        if (part > this.segmentDescriptions.segments.length - 1) {\n            console.log(\"Trying to set part that dont exist!\");\n            part = 0;\n        }\n        //console.log(this.segmentDescriptions.segments[part]);    \n\n        const _duration = this.segmentDescriptions.segments[part].duration.reduce((prev, curr) => prev + curr);\n        //console.log(_duration);\n\n        var pos = (this.transport.currentPosition / _duration).toFixed(0) * _duration;\n        console.log(\"POS:\" + pos);\n        if (this.transportedObj) {\n            this.transportedObj.setBoundaries(pos, _duration + _headroom, -(_duration * part), 1);\n            //console.log(this.transportedObj);\n        }\n        this.currentPart = part;\n    }\n\n\n    getAudioContext() {\n        if (!window.WaveSurferAudioContext) {\n\n            window.WaveSurferAudioContext = wavesAudio.audioContext;\n        }\n\n        return window.WaveSurferAudioContext;\n    }\n\n    addOnAudioProcess() {\n        const my = this;\n\n        this.scriptNode.onaudioprocess = function(e) {\n            const time = my.getCurrentTime();\n\n            if (time >= my.getDuration() || time < 0) {\n                //my.setState(FINISHED);\n                my.fireEvent('pause');\n            } else if (time >= my.scheduledPause && my.playControl && !my.playControl.loop) {\n                //my.setState(PAUSED);\n                my.fireEvent('pause');\n            } else if (my.state === my.states[PLAYING]) {\n                my.fireEvent('audioprocess', time);\n            }\n\n        };\n    }\n\n    destroy() {\n        console.log('FIXME: Do cleanup of wavesjs etc...');\n        super.destroy();\n    }\n\n    createSource() {\n        this.disconnectSource();\n        this.source = this.ac.createBufferSource();\n\n        //adjust for old browsers.\n        this.source.start = this.source.start || this.source.noteGrainOn;\n        this.source.stop = this.source.stop || this.source.noteOff;\n\n        this.source.playbackRate.value = this.playbackRate;\n        this.source.buffer = this.buffer;\n\n        //const scheduler = wavesAudio.getScheduler();\n        // Create Progression display\n\n        /*this.positionDisplay = new wavesAudio.TimeEngine();\n        this.positionDisplay.period = 0.05;\n\n        let _last = -1;\n        this.positionDisplay.advanceTime = (time) => {\n            // console.log(this.currentEngine.segmentIndex);\n            this.fireEvent('audioprocess', time);\n            if (this.transportedEngine) {\n                const idx = this.currentPart || 0;\n                const MAX_SEGMENT = this.segmentDescriptions.segments[idx].time.length; // FIXME: This assumes all segments are equal to first.\n                \n                const seg = Modulo(this.transportedEngine.segmentIndex - 1, MAX_SEGMENT) + 1;\n                //console.log(\"seg: \" + seg + \" / \" + MAX_SEGMENT);\n                switch (seg) {\n                    case MAX_SEGMENT: //last segment in serie\n                        if (_last != seg) { // use a flag so we only do this once per cycle\n\n                            // Fire an event and tell master app that we're ready to accept chord change.\n                            // The master app will look up to correct \"next\" chord and call this players switchEngine\n                            console.log(\"last segment, time to change chord\");\n                            this.fireEvent('lastsegment'); \n                            _last = MAX_SEGMENT;\n\n                        }\n                        break;\n                    default:\n                        if (_last != seg) {\n                            const _duration = this.segmentDescriptions.segments[idx].duration.reduce((prev, curr) => prev + curr);\n                            this.startOffset = this.currentPart * _duration;\n                            _last = seg;\n                        }\n                        break;\n                }\n\n            }\n\n\n            return time + this.positionDisplay.period;\n        };\n\n        scheduler.add(this.positionDisplay);*/\n        this.setState(PLAYING);\n\n        this.fireEvent('play');\n\n    }\n\n    seekTo(start, end) {\n\n    }\n\n    getPlayedTime() {\n\n        return this.transportedEngine.currentPosition;\n\n    }\n    play(start, end) {\n        if (!this.buffer) {\n            return;\n        }\n    }\n\n    pause() {}\n\n    setPlaybackRate(value) {\n\n    }\n\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/webaudio_segment_player_noPlayControl.js\n **/","// core\nexport { default as audioContext } from './core/audio-context';\nexport { default as TimeEngine } from './core/time-engine';\nexport { default as AudioTimeEngine } from './core/audio-time-engine';\nexport { default as PriorityQueue } from './core/priority-queue';\nexport { default as SchedulingQueue } from './core/scheduling-queue';\n\n// engines\nexport { default as GranularEngine } from './engines/granular-engine';\nexport { default as Metronome } from './engines/metronome';\nexport { default as PlayerEngine } from './engines/player-engine';\nexport { default as SegmentEngine } from './engines/segment-engine';\nexport { default as SequencerEngine } from './engines/sequencer-engine';\n//export { default as AlteredSegmentEngine } from './engines/md-segment-engine';\n\n// masters\nexport { default as PlayControl } from './masters/play-control';\nexport { default as Transport } from './masters/transport';\nexport { default as Scheduler } from './masters/scheduler';\nexport { default as SimpleScheduler } from './masters/simple-scheduler';\n\n// factories\nexport { getScheduler } from './masters/factories';\nexport { getSimpleScheduler } from './masters/factories';\n\n\n\n/** WEBPACK FOOTER **\n ** ../waves-audio/src/index.js\n **/","// exposes a single instance\nvar audioContext = null;\n\nvar AudioContext = window.AudioContext || window.webkitAudioContext;\n\nif(AudioContext) {\n  audioContext = new AudioContext();\n\n  if (/(iPhone|iPad)/i.test(navigator.userAgent) && audioContext.sampleRate < 44100) {\n    var buffer = audioContext.createBuffer(1, 1, 44100);\n    var dummy = audioContext.createBufferSource();\n    dummy.buffer = buffer;\n    dummy.connect(audioContext.destination);\n    dummy.start(0);\n    dummy.disconnect();\n  }\n}\n\nexport default audioContext;\n\n\n\n/** WEBPACK FOOTER **\n ** ../waves-audio/src/core/audio-context.js\n **/","/**\n * @class TimeEngine\n */\nexport default class TimeEngine {\n  constructor() {\n    this.master = null;\n    this.outputNode = null;\n  }\n\n  get currentTime() {\n    if (this.master)\n      return this.master.currentTime;\n\n    return undefined;\n  }\n\n  get currentPosition() {\n    var master = this.master;\n\n    if (master && master.currentPosition !== undefined)\n      return master.currentPosition;\n\n    return undefined;\n  }\n\n  /**\n   * Scheduled interface\n   *   - advanceTime(time), called to generate next event at given time, returns next time\n   */\n  static implementsScheduled(engine) {\n    return (engine.advanceTime && engine.advanceTime instanceof Function);\n  }\n\n  resetTime(time = undefined) {\n    if (this.master)\n      this.master.resetEngineTime(this, time);\n  }\n\n  /**\n   * Transported interface\n   *   - syncPosition(time, position, speed), called to reposition TimeEngine, returns next position\n   *   - advancePosition(time, position, speed), called to generate next event at given time and position, returns next position\n   */\n  static implementsTransported(engine) {\n    return (\n      engine.syncPosition && engine.syncPosition instanceof Function &&\n      engine.advancePosition && engine.advancePosition instanceof Function\n    );\n  }\n\n  resetPosition(position = undefined) {\n    if (this.master)\n      this.master.resetEnginePosition(this, position);\n  }\n\n  /**\n   * Speed-controlled interface\n   *   - syncSpeed(time, position, speed, ), called to\n   */\n  static implementsSpeedControlled(engine) {\n    return (engine.syncSpeed && engine.syncSpeed instanceof Function);\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ../waves-audio/src/core/time-engine.js\n **/","import TimeEngine from './time-engine';\nimport defaultAudioContext from './audio-context';\n\n/**\n * @class AudioTimeEngine\n */\nexport default class AudioTimeEngine extends TimeEngine{\n  constructor(audioContext = defaultAudioContext) {\n    super();\n\n    this.audioContext = audioContext;\n    this.outputNode = null;\n  }\n\n  connect(target) {\n    this.outputNode.connect(target);\n    return this;\n  }\n\n  disconnect(connection) {\n    this.outputNode.disconnect(connection);\n    return this;\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ../waves-audio/src/core/audio-time-engine.js\n **/","// works by reference\nfunction swap(arr, i1, i2) {\n  const tmp = arr[i1];\n  arr[i1] = arr[i2];\n  arr[i2] = tmp;\n}\n\n// https://jsperf.com/js-for-loop-vs-array-indexof/346\nfunction indexOf(arr, el) {\n  const l = arr.length;\n  // ignore first element as it can't be a entry\n  for (let i = 1; i < l; i++) {\n    if (arr[i] === el) {\n      return i;\n    }\n  }\n\n  return -1;\n}\n\n/**\n * Define if `time1` should be lower in the topography than `time2`.\n * Is dynamically affected to the priority queue according to handle `min` and `max` heap.\n * @param {Number} time1\n * @param {Number} time2\n * @return {Boolean}\n */\nconst _isLowerMaxHeap = function(time1, time2) {\n  return time1 < time2;\n};\n\nconst _isLowerMinHeap = function(time1, time2) {\n  return time1 > time2;\n};\n\n/**\n * Define if `time1` should be higher in the topography than `time2`.\n * Is dynamically affected to the priority queue according to handle `min` and `max` heap.\n * @param {Number} time1\n * @param {Number} time2\n * @return {Boolean}\n */\nconst _isHigherMaxHeap = function(time1, time2) {\n  return time1 > time2;\n};\n\nconst _isHigherMinHeap = function(time1, time2) {\n  return time1 < time2;\n};\n\nconst POSITIVE_INFINITY = Number.POSITIVE_INFINITY;\n\n/**\n * Priority queue implementing a binary heap.\n * Acts as a min heap by default, can be dynamically changed to a max heap by setting `reverse` to true.\n */\nexport default class PriorityQueue {\n  /**\n   * @param {String} [accessor='time'] - The attribute of the entries that should be used as the priority value. This attribute must be a number.\n   * @param {Number} [heapLength=100] - The size of the array used to create the heap.\n   */\n  constructor(heapLength = 100) {\n    /**\n     * @type {Number}\n     * A pointer to the first empty index of the heap.\n     */\n    this._currentLength = 1;\n\n    /**\n     * An array of the sorted indexes of the entries, the actual heap. Ignore the index 0.\n     * @type {Array}\n     */\n    this._heap = new Array(heapLength + 1);\n\n    /**\n     * Define the type of the queue: `min` heap if `false`, `max` heap if `true`\n     * @type {Boolean}\n     */\n    this._reverse = null;\n\n    // initialize compare functions\n    this.reverse = false;\n  }\n\n  /**\n   * Return the time of the first element in the binary heap.\n   * @returns {Number}\n   */\n  get time() {\n    if (this._currentLength > 1)\n      return this._heap[1].queueTime;\n\n    return Infinity;\n  }\n\n  /**\n   * Returns the entry of the first element in the binary heap.\n   * @returns {Number}\n   */\n  get head() {\n    return this._heap[1];\n  }\n\n  /**\n   * Change the order of the queue, rebuild the heap with the existing entries.\n   * @type {Boolean}\n   */\n  set reverse(value) {\n    if (value !== this._reverse) {\n      this._reverse = value;\n\n      if (this._reverse === true) {\n        this._isLower = _isLowerMaxHeap;\n        this._isHigher = _isHigherMaxHeap;\n      } else {\n        this._isLower = _isLowerMinHeap;\n        this._isHigher = _isHigherMinHeap;\n      }\n\n      this.buildHeap();\n    }\n  }\n\n  get reverse() {\n    return this._reverse;\n  }\n\n  /**\n   * Fix the heap by moving an entry to a new upper position.\n   * @param {Number} startIndex - The index of the entry to move.\n   */\n  _bubbleUp(startIndex) {\n    let entry = this._heap[startIndex];\n\n    let index = startIndex;\n    let parentIndex = Math.floor(index / 2);\n    let parent = this._heap[parentIndex];\n\n    while (parent && this._isHigher(entry.queueTime, parent.queueTime)) {\n      swap(this._heap, index, parentIndex);\n\n      index = parentIndex;\n      parentIndex = Math.floor(index / 2);\n      parent = this._heap[parentIndex];\n    }\n  }\n\n  /**\n   * Fix the heap by moving an entry to a new lower position.\n   * @param {Number} startIndex - The index of the entry to move.\n   */\n  _bubbleDown(startIndex) {\n    let entry = this._heap[startIndex];\n\n    let index = startIndex;\n    let c1index = index * 2;\n    let c2index = c1index + 1;\n    let child1 = this._heap[c1index];\n    let child2 = this._heap[c2index];\n\n    while ((child1 && this._isLower(entry.queueTime, child1.queueTime))||\n           (child2 && this._isLower(entry.queueTime, child2.queueTime)))\n    {\n      // swap with the minimum child\n      let targetIndex;\n\n      if (child2)\n        targetIndex = this._isHigher(child1.queueTime, child2.queueTime) ? c1index : c2index;\n      else\n        targetIndex = c1index;\n\n      swap(this._heap, index, targetIndex);\n\n      // update to find next children\n      index = targetIndex;\n      c1index = index * 2;\n      c2index = c1index + 1;\n      child1 = this._heap[c1index];\n      child2 = this._heap[c2index];\n    }\n  }\n\n  /**\n   * Build the heap from bottom up.\n   */\n  buildHeap() {\n    // find the index of the last internal node\n    // @todo - make sure that's the right way to do.\n    let maxIndex = Math.floor((this._currentLength - 1) / 2);\n\n    for (let i = maxIndex; i > 0; i--)\n      this._bubbleDown(i);\n  }\n\n  /**\n   * Insert a new object in the binary heap, and sort it.\n   * @param {Object} entry - Entry to insert.\n   * @param {Number} time - Time at which the entry should be orderer.\n   * @returns {Number} - Time of the first entry in the heap.\n   */\n  insert(entry, time) {\n    if (Math.abs(time) !== POSITIVE_INFINITY) {\n      entry.queueTime = time;\n      // add the new entry at the end of the heap\n      this._heap[this._currentLength] = entry;\n      // bubble it up\n      this._bubbleUp(this._currentLength);\n      this._currentLength += 1;\n\n      return this.time;\n    }\n\n    entry.queueTime = undefined;\n    return this.remove(entry);\n  }\n\n  /**\n   * Move an entry to a new position.\n   * @param {Object} entry - Entry to move.\n   * @param {Number} time - Time at which the entry should be orderer.\n   * @return {Number} - Time of first entry in the heap.\n   */\n  move(entry, time) {\n    if (Math.abs(time) !== POSITIVE_INFINITY) {\n      const index = indexOf(this._heap, entry);\n\n      if (index !== -1) {\n        entry.queueTime = time;\n        // define if the entry should be bubbled up or down\n        const parent = this._heap[Math.floor(index / 2)];\n\n        if (parent && this._isHigher(time, parent.queueTime))\n          this._bubbleUp(index);\n        else\n          this._bubbleDown(index);\n      }\n\n      return this.time;\n    }\n\n    entry.queueTime = undefined;\n    return this.remove(entry);\n  }\n\n  /**\n   * This is broken, assuming bubbling down only is false\n   * Remove an entry from the heap and fix the heap.\n   * @param {Object} entry - Entry to remove.\n   * @return {Number} - Time of first entry in the heap.\n   */\n  remove(entry) {\n    // find the index of the entry\n    const index = indexOf(this._heap, entry);\n\n    if (index !== -1) {\n      const lastIndex = this._currentLength - 1;\n\n      // if the entry is the last one\n      if (index === lastIndex) {\n        // remove the element from heap\n        this._heap[lastIndex] = undefined;\n        // update current length\n        this._currentLength = lastIndex;\n\n        return this.time;\n      } else {\n        // swap with the last element of the heap\n        swap(this._heap, index, lastIndex);\n        // remove the element from heap\n        this._heap[lastIndex] = undefined;\n\n        if (index === 1) {\n          this._bubbleDown(1);\n        } else {\n          // bubble the (ex last) element up or down according to its new context\n          const entry = this._heap[index];\n          const parent = this._heap[Math.floor(index / 2)];\n\n          if (parent && this._isHigher(entry.queueTime, parent.queueTime))\n            this._bubbleUp(index);\n          else\n            this._bubbleDown(index);\n        }\n      }\n\n      // update current length\n      this._currentLength = lastIndex;\n    }\n\n    return this.time;\n  }\n\n  /**\n   * Clear the queue.\n   */\n  clear() {\n    this._currentLength = 1;\n    this._heap = new Array(this._heap.length);\n  }\n\n  has(entry) {\n    return this._heap.indexOf(entry) !== -1;\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ../waves-audio/src/core/priority-queue.js\n **/","/**\n * SchedulingQueue base class\n * http://wavesjs.github.io/audio/#audio-scheduling-queue\n *\n * Norbert.Schnell@ircam.fr\n * Copyright 2014, 2015 IRCAM Centre Pompidou\n */\n\nimport PriorityQueue from './priority-queue';\nimport TimeEngine from './time-engine';\n\n/**\n * @class SchedulingQueue\n */\nexport default class SchedulingQueue extends TimeEngine {\n  constructor() {\n    super();\n\n    this.__queue = new PriorityQueue();\n    this.__engines = new Set();\n  }\n\n  // TimeEngine 'scheduled' interface\n  advanceTime(time) {\n    const engine = this.__queue.head;\n    const nextEngineTime = engine.advanceTime(time);\n\n    if (!nextEngineTime) {\n      engine.master = null;\n      this.__engines.delete(engine);\n      this.__queue.remove(engine);\n    } else {\n      this.__queue.move(engine, nextEngineTime);\n    }\n\n    return this.__queue.time;\n  }\n\n  // TimeEngine master method to be implemented by derived class\n  get currentTime() {\n    return 0;\n  }\n\n  // call a function at a given time\n  defer(fun, time = this.currentTime) {\n    if (!(fun instanceof Function))\n      throw new Error(\"object cannot be defered by scheduler\");\n\n    this.add({\n      advanceTime: function(time) { fun(time); }, // make sur that the advanceTime method does not returm anything\n    }, time);\n  }\n\n  // add a time engine to the scheduler\n  add(engine, time = this.currentTime) {\n    if (!TimeEngine.implementsScheduled(engine))\n      throw new Error(\"object cannot be added to scheduler\");\n\n    if (engine.master)\n      throw new Error(\"object has already been added to a master\");\n\n    engine.master = this;\n\n    // add to engines and queue\n    this.__engines.add(engine);\n    const nextTime = this.__queue.insert(engine, time);\n\n    // reschedule queue\n    this.resetTime(nextTime);\n  }\n\n  // remove a time engine from the queue\n  remove(engine) {\n    if (engine.master !== this)\n      throw new Error(\"object has not been added to this scheduler\");\n\n    engine.master = null;\n\n    // remove from array and queue\n    this.__engines.delete(engine);\n    const nextTime = this.__queue.remove(engine);\n\n    // reschedule queue\n    this.resetTime(nextTime);\n  }\n\n  // reset next engine time\n  resetEngineTime(engine, time = this.currentTime) {\n    if (engine.master !== this)\n      throw new Error(\"object has not been added to this scheduler\");\n\n    let nextTime;\n\n    if (this.__queue.has(engine))\n      nextTime = this.__queue.move(engine, time);\n    else\n      nextTime = this.__queue.insert(engine, time);\n\n    this.resetTime(nextTime);\n  }\n\n  // check whether a given engine is scheduled\n  has(engine) {\n    return this.__engines.has(engine);\n  }\n\n  // clear queue\n  clear() {\n    for(let engine of this.__engines)\n      engine.master = null;\n\n    this.__queue.clear();\n    this.__engines.clear();\n    this.resetTime(Infinity);\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ../waves-audio/src/core/scheduling-queue.js\n **/","import AudioTimeEngine from '../core/audio-time-engine';\n\nfunction optOrDef(opt, def) {\n  if (opt !== undefined)\n    return opt;\n\n  return def;\n}\n\n/**\n * @class GranularEngine\n */\nexport default class GranularEngine extends AudioTimeEngine {\n  /**\n   * @constructor\n   * @param {AudioBuffer} buffer initial audio buffer for granular synthesis\n   *\n   * The engine implements the \"scheduled\" interface.\n   * The grain position (grain onset or center time in the audio buffer) is optionally\n   * determined by the engine's currentPosition attribute.\n   */\n  constructor(options = {}) {\n    super(options.audioContext);\n\n    /**\n     * Audio buffer\n     * @type {AudioBuffer}\n     */\n    this.buffer = optOrDef(options.buffer, null);\n\n    /**\n     * Absolute grain period in sec\n     * @type {Number}\n     */\n    this.periodAbs = optOrDef(options.periodAbs, 0.01);\n\n    /**\n     * Grain period relative to absolute duration\n     * @type {Number}\n     */\n    this.periodRel = optOrDef(options.periodRel, 0);\n\n    /**\n     * Amout of random grain period variation relative to grain period\n     * @type {Number}\n     */\n    this.periodVar = optOrDef(options.periodVar, 0);\n\n    /**\n     * Minimum grain period\n     * @type {Number}\n     */\n    this.periodMin = optOrDef(options.periodMin, 0.001);\n\n    /**\n     * Grain position (onset time in audio buffer) in sec\n     * @type {Number}\n     */\n    this.position = optOrDef(options.position, 0);\n\n    /**\n     * Amout of random grain position variation in sec\n     * @type {Number}\n     */\n    this.positionVar = optOrDef(options.positionVar, 0.003);\n\n    /**\n     * Absolute grain duration in sec\n     * @type {Number}\n     */\n    this.durationAbs = optOrDef(options.durationAbs, 0.1); // absolute grain duration\n\n    /**\n     * Grain duration relative to grain period (overlap)\n     * @type {Number}\n     */\n    this.durationRel = optOrDef(options.durationRel, 0);\n\n    /**\n     * Absolute attack time in sec\n     * @type {Number}\n     */\n    this.attackAbs = optOrDef(options.attackAbs, 0);\n\n    /**\n     * Attack time relative to grain duration\n     * @type {Number}\n     */\n    this.attackRel = optOrDef(options.attackRel, 0.5);\n\n    /**\n     * Shape of attack\n     * @type {String} 'lin' for linear ramp, 'exp' for exponential\n     */\n    this.attackShape = optOrDef(options.attackShape, 'lin');\n\n    /**\n     * Absolute release time in sec\n     * @type {Number}\n     */\n    this.releaseAbs = optOrDef(options.releaseAbs, 0);\n\n    /**\n     * Release time relative to grain duration\n     * @type {Number}\n     */\n    this.releaseRel = optOrDef(options.releaseRel, 0.5);\n\n    /**\n     * Shape of release\n     * @type {String} 'lin' for linear ramp, 'exp' for exponential\n     */\n    this.releaseShape = optOrDef(options.releaseShape, 'lin');\n\n    /**\n     * Offset (start/end value) for exponential attack/release\n     * @type {Number} offset\n     */\n    this.expRampOffset = optOrDef(options.expRampOffset, 0.0001);\n\n    /**\n     * Grain resampling in cent\n     * @type {Number}\n     */\n    this.resampling = optOrDef(options.resampling, 0);\n\n    /**\n     * Amout of random resampling variation in cent\n     * @type {Number}\n     */\n    this.resamplingVar = optOrDef(options.resamplingVar, 0);\n\n    /**\n     * Linear gain factor\n     * @type {Number}\n     */\n    this.gain = optOrDef(options.gain, 1);\n\n    /**\n     * Whether the grain position refers to the center of the grain (or the beginning)\n     * @type {Bool}\n     */\n    this.centered = optOrDef(options.centered, true);\n\n    /**\n     * Whether the audio buffer and grain position are considered as cyclic\n     * @type {Bool}\n     */\n    this.cyclic = optOrDef(options.cyclic, false);\n\n    /**\n     * Portion at the end of the audio buffer that has been copied from the beginning to assure cyclic behavior\n     * @type {Number}\n     */\n    this.wrapAroundExtension = optOrDef(options.wrapAroundExtension, 0);\n\n    this.outputNode = this.audioContext.createGain();\n  }\n\n  /**\n   * Get buffer duration (excluding wrapAroundExtension)\n   * @return {Number} current buffer duration\n   */\n  get bufferDuration() {\n    if (this.buffer) {\n      var bufferDuration = this.buffer.duration;\n\n      if (this.wrapAroundExtension)\n        bufferDuration -= this.wrapAroundExtension;\n\n      return bufferDuration;\n    }\n\n    return 0;\n  }\n\n  // TimeEngine attribute\n  get currentPosition() {\n    var master = this.master;\n\n    if (master && master.currentPosition !== undefined)\n      return master.currentPosition;\n\n    return this.position;\n  }\n\n  // TimeEngine method (scheduled interface)\n  advanceTime(time) {\n    time = Math.max(time, this.audioContext.currentTime);\n    return time + this.trigger(time);\n  }\n\n  /**\n   * Trigger a grain\n   * @param {Number} time grain synthesis audio time\n   * @return {Number} period to next grain\n   *\n   * This function can be called at any time (whether the engine is scheduled or not)\n   * to generate a single grain according to the current grain parameters.\n   */\n  trigger(time) {\n    var audioContext = this.audioContext;\n    var grainTime = time || audioContext.currentTime;\n    var grainPeriod = this.periodAbs;\n    var grainPosition = this.currentPosition;\n    var grainDuration = this.durationAbs;\n\n    if (this.buffer) {\n      var resamplingRate = 1.0;\n\n      // calculate resampling\n      if (this.resampling !== 0 || this.resamplingVar > 0) {\n        var randomResampling = (Math.random() - 0.5) * 2.0 * this.resamplingVar;\n        resamplingRate = Math.pow(2.0, (this.resampling + randomResampling) / 1200.0);\n      }\n\n      grainPeriod += this.periodRel * grainDuration;\n      grainDuration += this.durationRel * grainPeriod;\n\n      // grain period randon variation\n      if (this.periodVar > 0.0)\n        grainPeriod += 2.0 * (Math.random() - 0.5) * this.periodVar * grainPeriod;\n\n      // center grain\n      if (this.centered)\n        grainPosition -= 0.5 * grainDuration;\n\n      // randomize grain position\n      if (this.positionVar > 0)\n        grainPosition += (2.0 * Math.random() - 1) * this.positionVar;\n\n      var bufferDuration = this.bufferDuration;\n\n      // wrap or clip grain position and duration into buffer duration\n      if (grainPosition < 0 || grainPosition >= bufferDuration) {\n        if (this.cyclic) {\n          var cycles = grainPosition / bufferDuration;\n          grainPosition = (cycles - Math.floor(cycles)) * bufferDuration;\n\n          if (grainPosition + grainDuration > this.buffer.duration)\n            grainDuration = this.buffer.duration - grainPosition;\n        } else {\n          if (grainPosition < 0) {\n            grainTime -= grainPosition;\n            grainDuration += grainPosition;\n            grainPosition = 0;\n          }\n\n          if (grainPosition + grainDuration > bufferDuration)\n            grainDuration = bufferDuration - grainPosition;\n        }\n      }\n\n      // make grain\n      if (this.gain > 0 && grainDuration >= 0.001) {\n        // make grain envelope\n        var envelope = audioContext.createGain();\n        var attack = this.attackAbs + this.attackRel * grainDuration;\n        var release = this.releaseAbs + this.releaseRel * grainDuration;\n\n        if (attack + release > grainDuration) {\n          var factor = grainDuration / (attack + release);\n          attack *= factor;\n          release *= factor;\n        }\n\n        var attackEndTime = grainTime + attack;\n        var grainEndTime = grainTime + grainDuration / resamplingRate;\n        var releaseStartTime = grainEndTime - release;\n\n        envelope.gain.value = 0;\n\n        if (this.attackShape === 'lin') {\n          envelope.gain.setValueAtTime(0.0, grainTime);\n          envelope.gain.linearRampToValueAtTime(this.gain, attackEndTime);\n        } else {\n          envelope.gain.setValueAtTime(this.expRampOffset, grainTime);\n          envelope.gain.exponentialRampToValueAtTime(this.gain, attackEndTime);\n        }\n\n        if (releaseStartTime > attackEndTime)\n          envelope.gain.setValueAtTime(this.gain, releaseStartTime);\n\n        if (this.releaseShape === 'lin') {\n          envelope.gain.linearRampToValueAtTime(0.0, grainEndTime);\n        } else {\n          envelope.gain.exponentialRampToValueAtTime(this.expRampOffset, grainEndTime);\n        }\n\n        envelope.connect(this.outputNode);\n\n        // make source\n        var source = audioContext.createBufferSource();\n\n        source.buffer = this.buffer;\n        source.playbackRate.value = resamplingRate;\n        source.connect(envelope);\n\n        source.start(grainTime, grainPosition);\n        source.stop(grainEndTime);\n      }\n    }\n\n    return Math.max(this.periodMin, grainPeriod);\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ../waves-audio/src/engines/granular-engine.js\n **/","import AudioTimeEngine from '../core/audio-time-engine';\n\nfunction optOrDef(opt, def) {\n  if(opt !== undefined)\n    return opt;\n\n  return def;\n}\n\nexport default class Metronome extends AudioTimeEngine {\n  constructor(options = {}) {\n    super(options.audioContext);\n\n    /**\n     * Metronome period\n     * @type {Number}\n     */\n    this.__period = optOrDef(options.period, 1);\n\n    /**\n     * Metronome click frequency\n     * @type {Number}\n     */\n    this.clickFreq = optOrDef(options.clickFreq, 600);\n\n    /**\n     * Metronome click attack time\n     * @type {Number}\n     */\n    this.clickAttack = optOrDef(options.clickAttack, 0.002);\n\n    /**\n     * Metronome click release time\n     * @type {Number}\n     */\n    this.clickRelease = optOrDef(options.clickRelease, 0.098);\n\n    this.__lastTime = 0;\n    this.__phase = 0;\n\n    this.__gainNode = this.audioContext.createGain();\n    this.__gainNode.gain.value = optOrDef(options.gain, 1);\n\n    this.outputNode = this.__gainNode;\n  }\n\n  // TimeEngine method (scheduled interface)\n  advanceTime(time) {\n    this.trigger(time);\n    this.__lastTime = time;\n    return time + this.__period;\n  }\n\n  // TimeEngine method (transported interface)\n  syncPosition(time, position, speed) {\n    if (this.__period > 0) {\n      var nextPosition = (Math.floor(position / this.__period) + this.__phase) * this.__period;\n\n      if (speed > 0 && nextPosition < position)\n        nextPosition += this.__period;\n      else if (speed < 0 && nextPosition > position)\n        nextPosition -= this.__period;\n\n      return nextPosition;\n    }\n\n    return Infinity * speed;\n  }\n\n  // TimeEngine method (transported interface)\n  advancePosition(time, position, speed) {\n    this.trigger(time);\n\n    if (speed < 0)\n      return position - this.__period;\n\n    return position + this.__period;\n  }\n\n  /**\n   * Trigger metronome click\n   * @param {Number} time metronome click synthesis audio time\n   */\n  trigger(time) {\n    const audioContext = this.audioContext;\n    const clickAttack = this.clickAttack;\n    const clickRelease = this.clickRelease;\n\n    const env = audioContext.createGain();\n    env.gain.value = 0.0;\n    env.gain.setValueAtTime(0, time);\n    env.gain.linearRampToValueAtTime(1.0, time + clickAttack);\n    env.gain.exponentialRampToValueAtTime(0.0000001, time + clickAttack + clickRelease);\n    env.gain.setValueAtTime(0, time);\n    env.connect(this.outputNode);\n\n    const osc = audioContext.createOscillator();\n    osc.frequency.value = this.clickFreq;\n    osc.start(time);\n    osc.stop(time + clickAttack + clickRelease);\n    osc.connect(env);\n  }\n\n  /**\n   * Set gain\n   * @param {Number} value linear gain factor\n   */\n  set gain(value) {\n    this.__gainNode.gain.value = value;\n  }\n\n  /**\n   * Get gain\n   * @return {Number} current gain\n   */\n  get gain() {\n    return this.__gainNode.gain.value;\n  }\n\n  /**\n   * Set period parameter\n   * @param {Number} period metronome period\n   */\n  set period(period) {\n    this.__period = period;\n\n    const master = this.master;\n\n    if (master) {\n      if (master.resetEngineTime)\n        master.resetEngineTime(this, this.__lastTime + period);\n      else if (master.resetEnginePosition)\n        master.resetEnginePosition(this);\n    }\n  }\n\n  /**\n   * Get period parameter\n   * @return {Number} value of period parameter\n   */\n  get period() {\n    return this.__period;\n  }\n\n  /**\n   * Set phase parameter (available only when 'transported')\n   * @param {Number} phase metronome phase [0, 1[\n   */\n  set phase(phase) {\n    this.__phase = phase - Math.floor(phase);\n\n    const master = this.master;\n\n    if (master && master.resetEnginePosition !== undefined)\n      master.resetEnginePosition(this);\n  }\n\n  /**\n   * Get phase parameter\n   * @return {Number} value of phase parameter\n   */\n  get phase() {\n    return this.__phase;\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ../waves-audio/src/engines/metronome.js\n **/","import AudioTimeEngine from '../core/audio-time-engine';\n\nfunction optOrDef(opt, def) {\n  if(opt !== undefined)\n    return opt;\n\n  return def;\n}\n\nexport default class PlayerEngine extends AudioTimeEngine {\n  constructor(options = {}) {\n    super(options.audioContext);\n\n    this.transport = null; // set when added to transporter\n\n    /**\n     * Audio buffer\n     * @type {AudioBuffer}\n     */\n    this.buffer = optOrDef(options.buffer, null);\n\n    /**\n     * Fade time for chaining segments (e.g. in start, stop, and seek)\n     * @type {AudioBuffer}\n     */\n    this.fadeTime = optOrDef(options.fadeTime, 0.005);\n\n    this.__time = 0;\n    this.__position = 0;\n    this.__speed = 0;\n\n    this.__bufferSource = null;\n    this.__envNode = null;\n\n    this.__gainNode = this.audioContext.createGain();\n    this.__gainNode.gain.value = optOrDef(options.gain, 1);\n\n    this.__cyclic = optOrDef(options.cyclic, false);\n\n    this.outputNode = this.__gainNode;\n  }\n\n  __start(time, position, speed) {\n    var audioContext = this.audioContext;\n\n    if (this.buffer) {\n      var bufferDuration = this.buffer.duration;\n\n      if (this.__cyclic && (position < 0 || position >= bufferDuration)) {\n        var phase = position / bufferDuration;\n        position = (phase - Math.floor(phase)) * bufferDuration;\n      }\n\n      if (position >= 0 && position < bufferDuration && speed > 0) {\n        this.__envNode = audioContext.createGain();\n        this.__envNode.gain.setValueAtTime(0, time);\n        this.__envNode.gain.linearRampToValueAtTime(1, time + this.fadeTime);\n        this.__envNode.connect(this.__gainNode);\n\n        this.__bufferSource = audioContext.createBufferSource();\n        this.__bufferSource.buffer = this.buffer;\n        this.__bufferSource.playbackRate.value = speed;\n        this.__bufferSource.loop = this.__cyclic;\n        this.__bufferSource.loopStart = 0;\n        this.__bufferSource.loopEnd = bufferDuration;\n        this.__bufferSource.start(time, position);\n        this.__bufferSource.connect(this.__envNode);\n      }\n    }\n  }\n\n  __halt(time) {\n    if (this.__bufferSource) {\n      this.__envNode.gain.cancelScheduledValues(time);\n      this.__envNode.gain.setValueAtTime(this.__envNode.gain.value, time);\n      this.__envNode.gain.linearRampToValueAtTime(0, time + this.fadeTime);\n      this.__bufferSource.stop(time + this.fadeTime);\n\n      this.__bufferSource = null;\n      this.__envNode = null;\n    }\n  }\n\n  // TimeEngine method (speed-controlled interface)\n  syncSpeed(time, position, speed, seek = false) {\n    var lastSpeed = this.__speed;\n\n    if (speed !== lastSpeed || seek) {\n      if (seek || lastSpeed * speed < 0) {\n        this.__halt(time);\n        this.__start(time, position, speed);\n      } else if (lastSpeed === 0 || seek) {\n        this.__start(time, position, speed);\n      } else if (speed === 0) {\n        this.__halt(time);\n      } else if (this.__bufferSource) {\n        this.__bufferSource.playbackRate.setValueAtTime(speed, time);\n      }\n\n      this.__speed = speed;\n    }\n  }\n\n  /**\n   * Set whether the audio buffer is considered as cyclic\n   * @param {Bool} cyclic whether the audio buffer is considered as cyclic\n   */\n  set cyclic(cyclic) {\n    if (cyclic !== this.__cyclic) {\n      var time = this.currentTime;\n      var position = this.currentosition;\n\n      this.__halt(time);\n      this.__cyclic = cyclic;\n\n      if (this.__speed !== 0)\n        this.__start(time, position, this.__speed);\n    }\n  }\n\n  /**\n   * Get whether the audio buffer is considered as cyclic\n   * @return {Bool} whether the audio buffer is considered as cyclic\n   */\n  get cyclic() {\n    return this.__cyclic;\n  }\n\n  /**\n   * Set gain\n   * @param {Number} value linear gain factor\n   */\n  set gain(value) {\n    var time = this.currentTime;\n    this.__gainNode.cancelScheduledValues(time);\n    this.__gainNode.setValueAtTime(this.__gainNode.gain.value, time);\n    this.__gainNode.linearRampToValueAtTime(0, time + this.fadeTime);\n  }\n\n  /**\n   * Get gain\n   * @return {Number} current gain\n   */\n  get gain() {\n    return this.__gainNode.gain.value;\n  }\n\n  /**\n   * Get buffer duration\n   * @return {Number} current buffer duration\n   */\n  get bufferDuration() {\n    if(this.buffer)\n      return this.buffer.duration;\n\n    return 0;\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ../waves-audio/src/engines/player-engine.js\n **/","import AudioTimeEngine from '../core/audio-time-engine';\n\nfunction optOrDef(opt, def) {\n  if (opt !== undefined)\n    return opt;\n\n  return def;\n}\n\nfunction getCurrentOrPreviousIndex(sortedArray, value, index = -1) {\n  var size = sortedArray.length;\n\n  if (size > 0) {\n    var firstVal = sortedArray[0];\n    var lastVal = sortedArray[size - 1];\n\n    if (value < firstVal)\n      index = -1;\n    else if (value >= lastVal)\n      index = size - 1;\n    else {\n      if (index < 0 || index >= size)\n        index = Math.floor((size - 1) * (value - firstVal) / (lastVal - firstVal));\n\n      while (sortedArray[index] > value)\n        index--;\n\n      while (sortedArray[index + 1] <= value)\n        index++;\n    }\n  }\n\n  return index;\n}\n\nfunction getCurrentOrNextIndex(sortedArray, value, index = -1) {\n  var size = sortedArray.length;\n\n  if (size > 0) {\n    var firstVal = sortedArray[0];\n    var lastVal = sortedArray[size - 1];\n\n    if (value <= firstVal)\n      index = 0;\n    else if (value >= lastVal)\n      index = size;\n    else {\n      if (index < 0 || index >= size)\n        index = Math.floor((size - 1) * (value - firstVal) / (lastVal - firstVal));\n\n      while (sortedArray[index] < value)\n        index++;\n\n      while (sortedArray[index - 1] >= value)\n        index--;\n    }\n  }\n\n  return index;\n}\n\n/**\n * @class SegmentEngine\n */\nexport default class SegmentEngine extends AudioTimeEngine {\n  /**\n   * @constructor\n   * @param {AudioBuffer} buffer initial audio buffer for granular synthesis\n   *\n   * The engine implements the \"scheduled\" and \"transported\" interfaces.\n   * When \"scheduled\", the engine  generates segments more or lessperiodically\n   * (controlled by the periodAbs, periodRel, and perioVar attributes).\n   * When \"transported\", the engine generates segments at the position of their onset time.\n   */\n  constructor(options = {}) {\n    super(options.audioContext);\n\n    /**\n     * Audio buffer\n     * @type {AudioBuffer}\n     */\n    this.buffer = optOrDef(options.buffer, null);\n\n    /**\n     * Absolute segment period in sec\n     * @type {Number}\n     */\n    this.periodAbs = optOrDef(options.periodAbs, 0);\n\n    /**\n     * Segment period relative to inter-segment distance\n     * @type {Number}\n     */\n    this.periodRel = optOrDef(options.periodRel, 1);\n\n    /**\n     * Amout of random segment period variation relative to segment period\n     * @type {Number}\n     */\n    this.periodVar = optOrDef(options.periodVar, 0);\n\n    /**\n     * Minimum segment period\n     * @type {Number}\n     */\n    this.periodMin = optOrDef(options.periodMin, 0.001);\n\n    /**\n     * Array of segment positions (onset times in audio buffer) in sec\n     * @type {Number}\n     */\n    this.positionArray = optOrDef(options.positionArray, [0.0]);\n\n    /**\n     * Amout of random segment position variation in sec\n     * @type {Number}\n     */\n    this.positionVar = optOrDef(options.positionVar, 0);\n\n    /**\n     * Array of segment durations in sec\n     * @type {Number}\n     */\n    this.durationArray = optOrDef(options.durationArray, [0.0]);\n\n    /**\n     * Absolute segment duration in sec\n     * @type {Number}\n     */\n    this.durationAbs = optOrDef(options.durationAbs, 0);\n\n    /**\n     * Segment duration relative to given segment duration or inter-segment distance\n     * @type {Number}\n     */\n    this.durationRel = optOrDef(options.durationRel, 1);\n\n    /**\n     * Array of segment offsets in sec\n     * @type {Number}\n     *\n     * offset > 0: the segment's reference position is after the given segment position\n     * offset < 0: the given segment position is the segment's reference position and the duration has to be corrected by the offset\n     */\n    this.offsetArray = optOrDef(options.offsetArray, [0.0]);\n\n    /**\n     * Absolute segment offset in sec\n     * @type {Number}\n     */\n    this.offsetAbs = optOrDef(options.offsetAbs, -0.005);\n\n    /**\n     * Segment offset relative to segment duration\n     * @type {Number}\n     */\n    this.offsetRel = optOrDef(options.offsetRel, 0);\n\n    /**\n     * Time by which all segments are delayed (especially to realize segment offsets)\n     * @type {Number}\n     */\n    this.delay = optOrDef(options.delay, 0.005);\n\n    /**\n     * Absolute attack time in sec\n     * @type {Number}\n     */\n    this.attackAbs = optOrDef(options.attackAbs, 0.005);\n\n    /**\n     * Attack time relative to segment duration\n     * @type {Number}\n     */\n    this.attackRel = optOrDef(options.attackRel, 0);\n\n    /**\n     * Absolute release time in sec\n     * @type {Number}\n     */\n    this.releaseAbs = optOrDef(options.releaseAbs, 0.005);\n\n    /**\n     * Release time relative to segment duration\n     * @type {Number}\n     */\n    this.releaseRel = optOrDef(options.releaseRel, 0);\n\n    /**\n    * Fading volume relase time in seconds when new segment triggers on top of previous one.\n    * @type {Number}\n    */\n    this.polyCutoff = optOrDef(options.polyCutoff, 2);\n\n    /**\n    * End volume of previous segment at the end of fade release time.\n    * @type {Number}\n    */\n    this.polyEndvol = optOrDef(options.polyEndvol, 0);\n\n    /**\n     * Segment resampling in cent\n     * @type {Number}\n     */\n    this.resampling = optOrDef(options.resampling, 0);\n\n    /**\n     * Amout of random resampling variation in cent\n     * @type {Number}\n     */\n    this.resamplingVar = optOrDef(options.resamplingVar, 0);\n\n    /**\n     * Linear gain factor\n     * @type {Number}\n     */\n    this.gain = optOrDef(options.gain, 1);\n\n    /**\n     * Index of the segment to synthesize (i.e. of this.positionArray/durationArray/offsetArray)\n     * @type {Number}\n     */\n    this.segmentIndex = optOrDef(options.segmentIndex, 0);\n\n    /**\n     * Whether the audio buffer and segment indices are considered as cyclic\n     * @type {Bool}\n     */\n    this.cyclic = optOrDef(options.cyclic, false);\n    this.__cyclicOffset = 0;\n\n    /**\n     * Portion at the end of the audio buffer that has been copied from the beginning to assure cyclic behavior\n     * @type {Number}\n     */\n    this.wrapAroundExtension = optOrDef(options.wrapAroundExtension, 0);\n\n    this.outputNode = this.audioContext.createGain();\n  }\n\n  /**\n   * Get buffer duration (excluding wrapAroundExtension)\n   * @return {Number} current buffer duration\n   */\n  get bufferDuration() {\n    if (this.buffer) {\n      var bufferDuration = this.buffer.duration;\n\n      if (this.wrapAroundExtension)\n        bufferDuration -= this.wrapAroundExtension;\n\n      return bufferDuration;\n    }\n\n    return 0;\n  }\n\n  // TimeEngine method (transported interface)\n  advanceTime(time) {\n    time = Math.max(time, this.audioContext.currentTime);\n    return time + this.trigger(time);\n  }\n\n  // TimeEngine method (transported interface)\n  syncPosition(time, position, speed) {\n    var index = this.segmentIndex;\n    var cyclicOffset = 0;\n    var bufferDuration = this.bufferDuration;\n\n    if (this.cyclic) {\n      var cycles = position / bufferDuration;\n\n      cyclicOffset = Math.floor(cycles) * bufferDuration;\n      position -= cyclicOffset;\n    }\n\n    if (speed > 0) {\n      index = getCurrentOrNextIndex(this.positionArray, position);\n\n      if (index >= this.positionArray.length) {\n        index = 0;\n        cyclicOffset += bufferDuration;\n\n        if (!this.cyclic)\n          return Infinity;\n      }\n    } else if (speed < 0) {\n      index = getCurrentOrPreviousIndex(this.positionArray, position);\n\n      if (index < 0) {\n        index = this.positionArray.length - 1;\n        cyclicOffset -= bufferDuration;\n\n        if (!this.cyclic)\n          return -Infinity;\n      }\n    } else {\n      return Infinity;\n    }\n\n    this.segmentIndex = index;\n    this.__cyclicOffset = cyclicOffset;\n\n    return cyclicOffset + this.positionArray[index];\n  }\n\n  // TimeEngine method (transported interface)\n  advancePosition(time, position, speed) {\n    var index = this.segmentIndex;\n    var cyclicOffset = this.__cyclicOffset;\n\n    this.trigger(time);\n\n    if (speed > 0) {\n      index++;\n\n      if (index >= this.positionArray.length) {\n        index = 0;\n        cyclicOffset += this.bufferDuration;\n\n        if (!this.cyclic)\n          return Infinity;\n      }\n    } else {\n      index--;\n\n      if (index < 0) {\n        index = this.positionArray.length - 1;\n        cyclicOffset -= this.bufferDuration;\n\n        if (!this.cyclic)\n          return -Infinity;\n      }\n    }\n\n    this.segmentIndex = index;\n    this.__cyclicOffset = cyclicOffset;\n\n    return cyclicOffset + this.positionArray[index];\n  }\n\n  /**\n   * Trigger a segment\n   * @param {Number} time segment synthesis audio time\n   * @return {Number} period to next segment\n   *\n   * This function can be called at any time (whether the engine is scheduled/transported or not)\n   * to generate a single segment according to the current segment parameters.\n   */\n  trigger(time) {\n    var audioContext = this.audioContext;\n    var segmentTime = (time || audioContext.currentTime) + this.delay;\n    var segmentPeriod = this.periodAbs;\n    var segmentIndex = this.segmentIndex;\n\n      // fade out previous segment on new segment trigger\n      if (this.prevGain) {\n          // cancel previous faders, i.e. releaseAbs, releaseRel that might interfere and cause clicks\n          // when adding another fader.\n          this.prevGain.gain.cancelScheduledValues(time);\n          // fade out previous segment...\n          this.prevGain.gain.setTargetAtTime(this.polyEndvol, audioContext.currentTime, this.polyCutoff);\n      }\n\n    if (this.buffer) {\n      var segmentPosition = 0.0;\n      var segmentDuration = 0.0;\n      var grainPeriod = this.periodAbs;\n      var segmentOffset = 0.0;\n      var resamplingRate = 1.0;\n      var bufferDuration = this.bufferDuration;\n\n      if (this.cyclic)\n        segmentIndex = segmentIndex % this.positionArray.length;\n      else\n        segmentIndex = Math.max(0, Math.min(segmentIndex, this.positionArray.length - 1));\n\n      if (this.positionArray)\n        segmentPosition = this.positionArray[segmentIndex] || 0;\n\n      if (this.durationArray)\n        segmentDuration = this.durationArray[segmentIndex] || 0;\n\n      if (this.offsetArray)\n        segmentOffset = this.offsetArray[segmentIndex] || 0;\n\n      // calculate resampling\n      if (this.resampling !== 0 || this.resamplingVar > 0) {\n        var randomResampling = (Math.random() - 0.5) * 2.0 * this.resamplingVar;\n        resamplingRate = Math.pow(2.0, (this.resampling + randomResampling) / 1200.0);\n      }\n\n      // calculate inter-segment distance\n      if (segmentDuration === 0 || this.periodRel > 0) {\n        var nextSegmentIndex = segmentIndex + 1;\n        var nextPosition, nextOffset;\n\n        if (nextSegmentIndex === this.positionArray.length) {\n          if (this.cyclic) {\n            nextPosition = this.positionArray[0] + bufferDuration;\n            nextOffset = this.offsetArray[0];\n          } else {\n            nextPosition = bufferDuration;\n            nextOffset = 0;\n          }\n        } else {\n          nextPosition = this.positionArray[nextSegmentIndex];\n          nextOffset = this.offsetArray[nextSegmentIndex];\n        }\n\n        var interSegmentDistance = nextPosition - segmentPosition;\n\n        // correct inter-segment distance by offsets\n        //   offset > 0: the segment's reference position is after the given segment position\n        if (segmentOffset > 0)\n          interSegmentDistance -= segmentOffset;\n\n        if (nextOffset > 0)\n          interSegmentDistance += nextOffset;\n\n        if (interSegmentDistance < 0)\n          interSegmentDistance = 0;\n\n        // use inter-segment distance instead of segment duration\n        if (segmentDuration === 0)\n          segmentDuration = interSegmentDistance;\n\n        // calculate period relative to inter marker distance\n        segmentPeriod += this.periodRel * interSegmentDistance;\n      }\n\n      // add relative and absolute segment duration\n      segmentDuration *= this.durationRel;\n      segmentDuration += this.durationAbs;\n\n      // add relative and absolute segment offset\n      segmentOffset *= this.offsetRel;\n      segmentOffset += this.offsetAbs;\n\n      // apply segment offset\n      //   offset > 0: the segment's reference position is after the given segment position\n      //   offset < 0: the given segment position is the segment's reference position and the duration has to be corrected by the offset\n      if (segmentOffset < 0) {\n        segmentDuration -= segmentOffset;\n        segmentPosition += segmentOffset;\n        segmentTime += (segmentOffset / resamplingRate);\n      } else {\n        segmentTime -= (segmentOffset / resamplingRate);\n      }\n\n      // randomize segment position\n      if (this.positionVar > 0)\n        segmentPosition += 2.0 * (Math.random() - 0.5) * this.positionVar;\n\n      // shorten duration of segments over the edges of the buffer\n      if (segmentPosition < 0) {\n        //segmentTime -= grainPosition; hm, not sure if we want to do this\n        segmentDuration += segmentPosition;\n        segmentPosition = 0;\n      }\n\n      if (segmentPosition + segmentDuration > this.buffer.duration)\n        segmentDuration = this.buffer.duration - segmentPosition;\n\n      segmentDuration /= resamplingRate;\n\n      // make segment\n      if (this.gain > 0 && segmentDuration > 0) {\n        // make segment envelope\n        this.prevGain = audioContext.createGain();\n        var envelope = this.prevGain;\n\n        var attack = this.attackAbs + this.attackRel * segmentDuration;\n        var release = this.releaseAbs + this.releaseRel * segmentDuration;\n\n        if (attack + release > segmentDuration) {\n          var factor = segmentDuration / (attack + release);\n          attack *= factor;\n          release *= factor;\n        }\n\n        var attackEndTime = segmentTime + attack;\n        var segmentEndTime = segmentTime + segmentDuration;\n        var releaseStartTime = segmentEndTime - release;\n\n        envelope.gain.value = 0;\n        envelope.gain.setValueAtTime(0.0, segmentTime);\n        envelope.gain.linearRampToValueAtTime(this.gain, attackEndTime);\n\n        //if (releaseStartTime > attackEndTime)\n          envelope.gain.setValueAtTime(this.gain, releaseStartTime);\n\n        envelope.gain.linearRampToValueAtTime(0.0, segmentEndTime);\n        envelope.connect(this.outputNode);\n\n        // make source\n        var source = audioContext.createBufferSource();\n\n        source.buffer = this.buffer;\n        source.playbackRate.value = resamplingRate;\n        source.connect(envelope);\n\n        source.start(segmentTime, segmentPosition);\n        source.stop(segmentTime + segmentDuration);\n      }\n    }\n\n    // grain period randon variation\n    if (this.periodVar > 0.0)\n      segmentPeriod += 2.0 * (Math.random() - 0.5) * this.periodVar * grainPeriod;\n\n    return Math.max(this.periodMin, segmentPeriod);\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ../waves-audio/src/engines/segment-engine.js\n **/","import AudioTimeEngine from '../core/audio-time-engine';\nimport SegmentEngine from './segment-engine';\n\nfunction optOrDef(opt, def) {\n    if (opt !== undefined)\n        return opt;\n\n    return def;\n}\n\nfunction getCurrentOrPreviousIndex(sortedArray, value, index = -1) {\n    var size = sortedArray.length;\n\n    if (size > 0) {\n        var firstVal = sortedArray[0];\n        var lastVal = sortedArray[size - 1];\n\n        if (value < firstVal)\n            index = -1;\n        else if (value >= lastVal)\n            index = size - 1;\n        else {\n            if (index < 0 || index >= size)\n                index = Math.floor((size - 1) * (value - firstVal) / (lastVal - firstVal));\n\n            while (sortedArray[index] > value)\n                index--;\n\n            while (sortedArray[index + 1] <= value)\n                index++;\n        }\n    }\n\n    return index;\n}\n\nfunction getCurrentOrNextIndex(sortedArray, value, index = -1) {\n    var size = sortedArray.length;\n\n    if (size > 0) {\n        var firstVal = sortedArray[0];\n        var lastVal = sortedArray[size - 1];\n\n        if (value <= firstVal)\n            index = 0;\n        else if (value >= lastVal)\n            index = size;\n        else {\n            if (index < 0 || index >= size)\n                index = Math.floor((size - 1) * (value - firstVal) / (lastVal - firstVal));\n\n            while (sortedArray[index] < value)\n                index++;\n\n            while (sortedArray[index - 1] >= value)\n                index--;\n        }\n    }\n\n    return index;\n}\n\n/**\n * @class SequencerEngine\n */\nexport default class SequencerEngine extends SegmentEngine {\n    /**\n     * @constructor\n     * @param {AudioBuffer} buffer initial audio buffer for granular synthesis\n     *\n     * The engine implements the \"scheduled\" and \"transported\" interfaces.\n     * When \"scheduled\", the engine  generates segments more or lessperiodically\n     * (controlled by the periodAbs, periodRel, and perioVar attributes).\n     * When \"transported\", the engine generates segments at the position of their onset time.\n     */\n    constructor(options = {}) {\n        super(options);\n        /**\n         * A function callback that gets called from trigger().\n         * This lets you set up events to be triggered by the sequencer.\n         * @type {Function}\n         */\n        this.callback = optOrDef(options.callback, null);\n\n    }\n\n    /**\n     * Trigger a segment\n     * @param {Number} time segment synthesis audio time\n     * @return {Number} period to next segment\n     *\n     * This function can be called at any time (whether the engine is scheduled/transported or not)\n     * to generate a single segment according to the current segment parameters.\n     */\n    trigger(time) {\n        var audioContext = this.audioContext;\n        var segmentTime = (time || audioContext.currentTime) + this.delay;\n        var segmentPeriod = this.periodAbs;\n        var segmentIndex = this.segmentIndex;\n\n        // Ignore buffer for now, this is a sequncer... no audio produced.\n        if ( /*this.buffer*/ true) {\n            var segmentPosition = 0.0;\n            var segmentDuration = 0.0;\n            var segmentOffset = 0.0;\n            var resamplingRate = 1.0;\n            var bufferDuration = this.bufferDuration;\n\n            if (this.cyclic)\n                segmentIndex = segmentIndex % this.positionArray.length;\n            else\n                segmentIndex = Math.max(0, Math.min(segmentIndex, this.positionArray.length - 1));\n\n            if (this.positionArray)\n                segmentPosition = this.positionArray[segmentIndex] || 0;\n\n            if (this.durationArray)\n                segmentDuration = this.durationArray[segmentIndex] || 0;\n\n            if (this.offsetArray)\n                segmentOffset = this.offsetArray[segmentIndex] || 0;\n\n            // calculate resampling\n            if (this.resampling !== 0 || this.resamplingVar > 0) {\n                var randomResampling = (Math.random() - 0.5) * 2.0 * this.resamplingVar;\n                resamplingRate = Math.pow(2.0, (this.resampling + randomResampling) / 1200.0);\n            }\n\n            // calculate inter-segment distance\n            if (segmentDuration === 0 || this.periodRel > 0) {\n                var nextSegmentIndex = segmentIndex + 1;\n                var nextPosition, nextOffset;\n\n                if (nextSegmentIndex === this.positionArray.length) {\n                    if (this.cyclic) {\n                        nextPosition = this.positionArray[0] + bufferDuration;\n                        nextOffset = this.offsetArray[0];\n                    } else {\n                        nextPosition = bufferDuration;\n                        nextOffset = 0;\n                    }\n                } else {\n                    nextPosition = this.positionArray[nextSegmentIndex];\n                    nextOffset = this.offsetArray[nextSegmentIndex];\n                }\n\n                var interSegmentDistance = nextPosition - segmentPosition;\n\n                // correct inter-segment distance by offsets\n                //   offset > 0: the segment's reference position is after the given segment position\n                if (segmentOffset > 0)\n                    interSegmentDistance -= segmentOffset;\n\n                if (nextOffset > 0)\n                    interSegmentDistance += nextOffset;\n\n                if (interSegmentDistance < 0)\n                    interSegmentDistance = 0;\n\n                // use inter-segment distance instead of segment duration\n                if (segmentDuration === 0)\n                    segmentDuration = interSegmentDistance;\n\n                // calculate period relative to inter marker distance\n                segmentPeriod += this.periodRel * interSegmentDistance;\n            }\n            /*\n            // add relative and absolute segment duration\n            segmentDuration *= this.durationRel;\n            segmentDuration += this.durationAbs;\n\n            // add relative and absolute segment offset\n            segmentOffset *= this.offsetRel;\n            segmentOffset += this.offsetAbs;\n\n            // apply segment offset\n            //   offset > 0: the segment's reference position is after the given segment position\n            //   offset < 0: the given segment position is the segment's reference position and the duration has to be corrected by the offset\n            if (segmentOffset < 0) {\n                segmentDuration -= segmentOffset;\n                segmentPosition += segmentOffset;\n                segmentTime += (segmentOffset / resamplingRate);\n            } else {\n                segmentTime -= (segmentOffset / resamplingRate);\n            }\n\n            // randomize segment position\n            if (this.positionVar > 0)\n                segmentPosition += 2.0 * (Math.random() - 0.5) * this.positionVar;\n\n            // shorten duration of segments over the edges of the buffer\n            if (segmentPosition < 0) {\n                //segmentTime -= grainPosition; hm, not sure if we want to do this\n                segmentDuration += segmentPosition;\n                segmentPosition = 0;\n            }\n\n            if (segmentPosition + segmentDuration > this.buffer.duration)\n                segmentDuration = this.buffer.duration - segmentPosition;\n\n            segmentDuration /= resamplingRate;\n\n            // make segment\n            if (this.gain > 0 && segmentDuration > 0) {\n              // make segment envelope\n              var envelope = audioContext.createGain();\n              var attack = this.attackAbs + this.attackRel * segmentDuration;\n              var release = this.releaseAbs + this.releaseRel * segmentDuration;\n\n              if (attack + release > segmentDuration) {\n                var factor = segmentDuration / (attack + release);\n                attack *= factor;\n                release *= factor;\n              }\n\n              var attackEndTime = segmentTime + attack;\n              var segmentEndTime = segmentTime + segmentDuration;\n              var releaseStartTime = segmentEndTime - release;\n\n              envelope.gain.value = 0;\n              envelope.gain.setValueAtTime(0.0, segmentTime);\n              envelope.gain.linearRampToValueAtTime(this.gain, attackEndTime);\n\n              if (releaseStartTime > attackEndTime)\n                envelope.gain.setValueAtTime(this.gain, releaseStartTime);\n\n              envelope.gain.linearRampToValueAtTime(0.0, segmentEndTime);\n              envelope.connect(this.outputNode);\n\n              // make source\n              var source = audioContext.createBufferSource();\n\n              source.buffer = this.buffer;\n              source.playbackRate.value = resamplingRate;\n              source.connect(envelope);\n\n              source.start(segmentTime, segmentPosition);\n              source.stop(segmentTime + segmentDuration);\n            }*/\n        }\n\n\n        if (this.callback && Object.prototype.toString.call(this.callback) == '[object Function]') {\n            var result = this.callback(segmentIndex);\n            //if (result)\n            //    console.log(result);\n        }\n\n        //console.log(\"Sequencer.Trigger: \" + segmentIndex + \" Position: \" + segmentPosition);\n\n        // grain period randon variation\n        if (this.periodVar > 0.0)\n            segmentPeriod += 2.0 * (Math.random() - 0.5) * this.periodVar * grainPeriod;\n\n        return Math.max(this.periodMin, segmentPeriod);\n    }\n}\n\n\n/** WEBPACK FOOTER **\n ** ../waves-audio/src/engines/sequencer-engine.js\n **/","import defaultAudioContext from '../core/audio-context';\nimport SchedulingQueue from '../core/scheduling-queue';\nimport TimeEngine from '../core/time-engine';\nimport { getScheduler } from './factories';\n\nconst ESPILON = 1e-8;\n\nclass LoopControl extends TimeEngine {\n  constructor(playControl) {\n    super();\n\n    this.__playControl = playControl;\n    this.lower = -Infinity;\n    this.upper = Infinity;\n  }\n\n  // TimeEngine method (scheduled interface)\n  advanceTime(time) {\n    const playControl = this.__playControl;\n    const speed = playControl.speed;\n    const lower = this.lower;\n    const upper = this.upper;\n\n    if(speed > 0)\n      time += ESPILON;\n    else\n      time -= EPSILON;\n\n    if (speed > 0) {\n      playControl.syncSpeed(time, lower, speed, true);\n      return playControl.__getTimeAtPosition(upper) - ESPILON;\n    } else if (speed < 0) {\n      playControl.syncSpeed(time, upper, speed, true);\n      return playControl.__getTimeAtPosition(lower) + ESPILON;\n    }\n\n    return Infinity;\n  }\n\n  reschedule(speed) {\n    const playControl = this.__playControl;\n    const lower = Math.min(playControl.__loopStart, playControl.__loopEnd);\n    const upper = Math.max(playControl.__loopStart, playControl.__loopEnd);\n\n    this.speed = speed;\n    this.lower = lower;\n    this.upper = upper;\n\n    if (lower === upper)\n      speed = 0;\n\n    if (speed > 0)\n      this.resetTime(playControl.__getTimeAtPosition(upper) - ESPILON);\n    else if (speed < 0)\n      this.resetTime(playControl.__getTimeAtPosition(lower) + ESPILON);\n    else\n      this.resetTime(Infinity);\n  }\n\n  applyLoopBoundaries(position, speed) {\n    const lower = this.lower;\n    const upper = this.upper;\n\n    if (speed > 0 && position >= upper)\n      return lower + (position - lower) % (upper - lower);\n    else if (speed < 0 && position < lower)\n      return upper - (upper - position) % (upper - lower);\n\n    return position;\n  }\n}\n\n// play controlled base class\nclass PlayControlled {\n  constructor(playControl, engine) {\n    this.__playControl = playControl;\n\n    engine.master = this;\n    this.__engine = engine;\n  }\n\n  syncSpeed(time, position, speed, seek, lastSpeed) {\n    this.__engine.syncSpeed(time, position, speed, seek);\n  }\n\n  get currentTime() {\n    return this.__playControl.currentTime;\n  }\n\n  get currentPosition() {\n    return this.__playControl.currentPosition;\n  }\n\n  destroy() {\n    this.__playControl = null;\n\n    this.__engine.master = null;\n    this.__engine = null;\n  }\n}\n\n// play control for engines implementing the *speed-controlled* interface\nclass PlayControlledSpeedControlled extends PlayControlled {\n  constructor(playControl, engine) {\n    super(playControl, engine);\n  }\n}\n\n// play control for engines implmenting the *transported* interface\nclass PlayControlledTransported extends PlayControlled {\n  constructor(playControl, engine) {\n    super(playControl, engine);\n\n    this.__schedulerHook = new PlayControlledSchedulerHook(playControl, engine);\n  }\n\n  syncSpeed(time, position, speed, seek, lastSpeed) {\n    if (speed !== lastSpeed || (seek && speed !== 0)) {\n      var nextPosition;\n\n      // resync transported engines\n      if (seek || speed * lastSpeed < 0) {\n        // seek or reverse direction\n        nextPosition = this.__engine.syncPosition(time, position, speed);\n      } else if (lastSpeed === 0) {\n        // start\n        nextPosition = this.__engine.syncPosition(time, position, speed);\n      } else if (speed === 0) {\n        // stop\n        nextPosition = Infinity;\n\n        if (this.__engine.syncSpeed)\n          this.__engine.syncSpeed(time, position, 0);\n      } else if (this.__engine.syncSpeed) {\n        // change speed without reversing direction\n        this.__engine.syncSpeed(time, position, speed);\n      }\n\n      this.__schedulerHook.resetPosition(nextPosition);\n    }\n  }\n\n  resetEnginePosition(engine, position = undefined) {\n    if (position === undefined) {\n      var playControl = this.__playControl;\n      var time = playControl.__sync();\n\n      position = this.__engine.syncPosition(time, playControl.__position, playControl.__speed);\n    }\n\n    this.__schedulerHook.resetPosition(position);\n  }\n\n  destroy() {\n    this.__schedulerHook.destroy();\n    this.__schedulerHook = null;\n\n    super.destroy();\n  }\n}\n\n// play control for time engines implementing the *scheduled* interface\nclass PlayControlledScheduled extends PlayControlled {\n  constructor(playControl, engine) {\n    super(playControl, engine);\n\n    // scheduling queue becomes master of engine\n    engine.master = null;\n    this.__schedulingQueue = new PlayControlledSchedulingQueue(playControl, engine);\n  }\n\n  syncSpeed(time, position, speed, seek, lastSpeed) {\n    if (lastSpeed === 0 && speed !== 0) // start or seek\n      this.__engine.resetTime();\n    else if (lastSpeed !== 0 && speed === 0) // stop\n      this.__engine.resetTime(Infinity);\n  }\n\n  destroy() {\n    this.__schedulingQueue.destroy();\n    super.destroy();\n  }\n}\n\n// translates transported engine advancePosition into global scheduler times\nclass PlayControlledSchedulerHook extends TimeEngine {\n  constructor(playControl, engine) {\n    super();\n\n    this.__playControl = playControl;\n    this.__engine = engine;\n\n    this.__nextPosition = Infinity;\n    playControl.__scheduler.add(this, Infinity);\n  }\n\n  advanceTime(time) {\n    var playControl = this.__playControl;\n    var engine = this.__engine;\n    var position = this.__nextPosition;\n    var nextPosition = engine.advancePosition(time, position, playControl.__speed);\n    var nextTime = playControl.__getTimeAtPosition(nextPosition);\n\n    this.__nextPosition = nextPosition;\n    return nextTime;\n  }\n\n  get currentTime() {\n    return this.__playControl.currentTime;\n  }\n\n  get currentPosition() {\n    return this.__playControl.currentPosition;\n  }\n\n  resetPosition(position = this.__nextPosition) {\n    var time = this.__playControl.__getTimeAtPosition(position);\n    this.__nextPosition = position;\n    this.resetTime(time);\n  }\n\n  destroy() {\n    this.__playControl.__scheduler.remove(this);\n    this.__playControl = null;\n    this.__engine = null;\n  }\n}\n\n// internal scheduling queue that returns the current position (and time) of the play control\nclass PlayControlledSchedulingQueue extends SchedulingQueue {\n  constructor(playControl, engine) {\n    super();\n    this.__playControl = playControl;\n    this.__engine = engine;\n\n    this.add(engine, Infinity);\n    playControl.__scheduler.add(this, Infinity);\n  }\n\n  get currentTime() {\n    return this.__playControl.currentTime;\n  }\n\n  get currentPosition() {\n    return this.__playControl.currentPosition;\n  }\n\n  destroy() {\n    this.__playControl.__scheduler.remove(this);\n    this.remove(this.__engine);\n\n    this.__playControl = null;\n    this.__engine = null;\n  }\n}\n\n// play control meta-class\nexport default class PlayControl extends TimeEngine {\n  constructor(engine, options = {}) {\n    super();\n\n    this.audioContext = options.audioContext || defaultAudioContext;\n    this.__scheduler = getScheduler(this.audioContext);\n\n    this.__playControlled = null;\n\n    this.__loopControl = null;\n    this.__loopStart = 0;\n    this.__loopEnd = 1;\n\n    // synchronized tie, position, and speed\n    this.__time = 0;\n    this.__position = 0;\n    this.__speed = 0;\n\n    // non-zero \"user\" speed\n    this.__playingSpeed = 1;\n\n    if (engine)\n      this.__setEngine(engine);\n  }\n\n  __setEngine(engine) {\n    if (engine.master)\n      throw new Error(\"object has already been added to a master\");\n\n    if (TimeEngine.implementsSpeedControlled(engine))\n      this.__playControlled = new PlayControlledSpeedControlled(this, engine);\n    else if (TimeEngine.implementsTransported(engine))\n      this.__playControlled = new PlayControlledTransported(this, engine);\n    else if (TimeEngine.implementsScheduled(engine))\n      this.__playControlled = new PlayControlledScheduled(this, engine);\n    else\n      throw new Error(\"object cannot be added to play control\");\n  }\n\n  __resetEngine() {\n    this.__playControlled.destroy();\n    this.__playControlled = null;\n  }\n\n  /**\n   * Calculate/extrapolate playing time for given position\n   * @param {Number} position position\n   * @return {Number} extrapolated time\n   */\n  __getTimeAtPosition(position) {\n    return this.__time + (position - this.__position) / this.__speed;\n  }\n\n  /**\n   * Calculate/extrapolate playing position for given time\n   * @param {Number} time time\n   * @return {Number} extrapolated position\n   */\n  __getPositionAtTime(time) {\n    return this.__position + (time - this.__time) * this.__speed;\n  }\n\n  __sync() {\n    var now = this.currentTime;\n    this.__position += (now - this.__time) * this.__speed;\n    this.__time = now;\n    return now;\n  }\n\n  /**\n   * Get current master time\n   * @return {Number} current time\n   *\n   * This function will be replaced when the play-control is added to a master.\n   */\n  get currentTime() {\n    return this.__scheduler.currentTime;\n  }\n\n  /**\n   * Get current master position\n   * @return {Number} current playing position\n   *\n   * This function will be replaced when the play-control is added to a master.\n   */\n  get currentPosition() {\n    return this.__position + (this.__scheduler.currentTime - this.__time) * this.__speed;\n  }\n\n\n  set(engine = null) {\n    var time = this.__sync();\n    var speed = this.__speed;\n\n    if (this.__playControlled !== null && this.__playControlled.__engine !== engine) {\n\n      this.syncSpeed(time, this.__position, 0);\n\n      if (this.__playControlled)\n        this.__resetEngine();\n\n\n      if (this.__playControlled === null && engine !== null) {\n        this.__setEngine(engine);\n\n        if (speed !== 0)\n          this.syncSpeed(time, this.__position, speed);\n      }\n    }\n  }\n\n  set loop(enable) {\n    if (enable && this.__loopStart > -Infinity && this.__loopEnd < Infinity) {\n      if (!this.__loopControl) {\n        this.__loopControl = new LoopControl(this);\n        this.__scheduler.add(this.__loopControl, Infinity);\n      }\n\n      if (this.__speed !== 0) {\n        const position = this.currentPosition;\n        const lower = Math.min(this.__loopStart, this.__loopEnd);\n        const upper = Math.max(this.__loopStart, this.__loopEnd);\n\n        if (this.__speed > 0 && position > upper)\n          this.seek(upper);\n        else if (this.__speed < 0 && position < lower)\n          this.seek(lower);\n        else\n          this.__loopControl.reschedule(this.__speed);\n      }\n    } else if (this.__loopControl) {\n      this.__scheduler.remove(this.__loopControl);\n      this.__loopControl = null;\n    }\n  }\n\n  get loop() {\n    return (!!this.__loopControl);\n  }\n\n  setLoopBoundaries(loopStart, loopEnd) {\n    this.__loopStart = loopStart;\n    this.__loopEnd = loopEnd;\n\n    this.loop = this.loop;\n  }\n\n  set loopStart(loopStart) {\n    this.setLoopBoundaries(loopStart, this.__loopEnd);\n  }\n\n  get loopStart() {\n    return this.__loopStart;\n  }\n\n  set loopEnd(loopEnd) {\n    this.setLoopBoundaries(this.__loopStart, loopEnd);\n  }\n\n  get loopEnd() {\n    return this.__loopEnd;\n  }\n\n  // TimeEngine method (speed-controlled interface)\n  syncSpeed(time, position, speed, seek = false) {\n    var lastSpeed = this.__speed;\n\n    if (speed !== lastSpeed || seek) {\n      if ((seek || lastSpeed === 0) && this.__loopControl)\n        position = this.__loopControl.applyLoopBoundaries(position, speed);\n\n      this.__time = time;\n      this.__position = position;\n      this.__speed = speed;\n\n      if (this.__playControlled)\n        this.__playControlled.syncSpeed(time, position, speed, seek, lastSpeed);\n\n      if (this.__loopControl)\n        this.__loopControl.reschedule(speed);\n    }\n  }\n\n  /**\n   * Start playing\n   */\n  start() {\n    var time = this.__sync();\n    this.syncSpeed(time, this.__position, this.__playingSpeed);\n  }\n\n  /**\n   * Pause playing\n   */\n  pause() {\n    var time = this.__sync();\n    this.syncSpeed(time, this.__position, 0);\n  }\n\n  /**\n   * Stop playing\n   */\n  stop() {\n    var time = this.__sync();\n    this.syncSpeed(time, this.__position, 0);\n    this.seek(0);\n  }\n\n  /**\n   * Set playing speed\n   * @param {Number} speed playing speed (non-zero speed between -16 and -1/16 or between 1/16 and 16)\n   */\n  set speed(speed) {\n    var time = this.__sync();\n\n    if (speed >= 0) {\n      if (speed < 0.01)\n        speed = 0.01;\n      else if (speed > 100)\n        speed = 100;\n    } else {\n      if (speed < -100)\n        speed = -100;\n      else if (speed > -0.01)\n        speed = -0.01;\n    }\n\n    this.__playingSpeed = speed;\n\n    if (this.__speed !== 0)\n      this.syncSpeed(time, this.__position, speed);\n  }\n\n  /**\n   * Get playing speed\n   * @return current playing speed\n   */\n  get speed() {\n    return this.__playingSpeed;\n  }\n\n  /**\n   * Set (jump to) playing position\n   * @param {Number} position target position\n   */\n  seek(position) {\n    if (position !== this.__position) {\n      var time = this.__sync();\n      this.__position = position;\n      this.syncSpeed(time, position, this.__speed, true);\n    }\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ../waves-audio/src/masters/play-control.js\n **/","// schedulers should be singletons\nimport defaultAudioContext from '../core/audio-context';\nimport Scheduler from './scheduler';\nimport SimpleScheduler from './simple-scheduler';\n\nconst schedulerMap = new WeakMap();\nconst simpleSchedulerMap = new WeakMap();\n\n// scheduler factory\nexport const getScheduler = function(audioContext = defaultAudioContext) {\n  let scheduler = schedulerMap.get(audioContext);\n\n  if (!scheduler) {\n    scheduler = new Scheduler({ audioContext: audioContext });\n    schedulerMap.set(audioContext, scheduler);\n  }\n\n  return scheduler;\n};\n\nexport const getSimpleScheduler = function(audioContext = defaultAudioContext) {\n  let simpleScheduler = simpleSchedulerMap.get(audioContext);\n\n  if (!simpleScheduler) {\n    simpleScheduler = new SimpleScheduler({ audioContext: audioContext });\n    simpleSchedulerMap.set(audioContext, simpleScheduler);\n  }\n\n  return simpleScheduler;\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ../waves-audio/src/masters/factories.js\n **/","import debug from 'debug';\nimport defaultAudioContext from '../core/audio-context';\nimport SchedulingQueue from '../core/scheduling-queue';\n\nconst log = debug('wavesjs:audio');\n\nexport default class Scheduler extends SchedulingQueue {\n  constructor(options = {}) {\n    super();\n\n    this.audioContext = options.audioContext || defaultAudioContext;\n\n    this.__currentTime = null;\n    this.__nextTime = Infinity;\n    this.__timeout = null;\n\n    /**\n     * scheduler (setTimeout) period\n     * @type {Number}\n     */\n    this.period = options.period || 0.025;\n\n    /**\n     * scheduler lookahead time (> period)\n     * @type {Number}\n     */\n    this.lookahead = options.lookahead || 0.1;\n  }\n\n  // setTimeout scheduling loop\n  __tick() {\n    const audioContext = this.audioContext;\n    const currentTime = audioContext.currentTime;\n    let time = this.__nextTime;\n\n    this.__timeout = null;\n\n    while (time <= currentTime + this.lookahead) {\n      this.__currentTime = time;\n      time = this.advanceTime(time);\n    }\n\n    this.__currentTime = null;\n    this.resetTime(time);\n  }\n\n  resetTime(time = this.currentTime) {\n    if (this.master) {\n      this.master.reset(this, time);\n    } else {\n      if (this.__timeout) {\n        clearTimeout(this.__timeout);\n        this.__timeout = null;\n      }\n\n      if (time !== Infinity) {\n        if (this.__nextTime === Infinity)\n          log('Scheduler Start');\n\n        const timeOutDelay = Math.max((time - this.lookahead - this.audioContext.currentTime), this.period);\n\n        this.__timeout = setTimeout(() => {\n          this.__tick();\n        }, timeOutDelay * 1000);\n      } else if (this.__nextTime !== Infinity) {\n        log('Scheduler Stop');\n      }\n\n      this.__nextTime = time;\n    }\n  }\n\n  get currentTime() {\n    if (this.master)\n      return this.master.currentTime;\n\n    return this.__currentTime || this.audioContext.currentTime + this.lookahead;\n  }\n\n  get currentPosition() {\n    const master = this.master;\n\n    if (master && master.currentPosition !== undefined)\n      return master.currentPosition;\n\n    return undefined;\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ../waves-audio/src/masters/scheduler.js\n **/","/**\n * This is the web browser implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = 'undefined' != typeof chrome\n               && 'undefined' != typeof chrome.storage\n                  ? chrome.storage.local\n                  : localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n  'lightseagreen',\n  'forestgreen',\n  'goldenrod',\n  'dodgerblue',\n  'darkorchid',\n  'crimson'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\nfunction useColors() {\n  // NB: In an Electron preload script, document will be defined but not fully\n  // initialized. Since we know we're in Chrome, we'll just detect this case\n  // explicitly\n  if (typeof window !== 'undefined' && window.process && window.process.type === 'renderer') {\n    return true;\n  }\n\n  // is webkit? http://stackoverflow.com/a/16459606/376773\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n  return (typeof document !== 'undefined' && document && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n    // is firebug? http://stackoverflow.com/a/398120/376773\n    (typeof window !== 'undefined' && window && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n    // is firefox >= v31?\n    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n    (typeof navigator !== 'undefined' && navigator && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n    // double check webkit in userAgent just in case we are in a worker\n    (typeof navigator !== 'undefined' && navigator && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nexports.formatters.j = function(v) {\n  try {\n    return JSON.stringify(v);\n  } catch (err) {\n    return '[UnexpectedJSONParseError]: ' + err.message;\n  }\n};\n\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n  var useColors = this.useColors;\n\n  args[0] = (useColors ? '%c' : '')\n    + this.namespace\n    + (useColors ? ' %c' : ' ')\n    + args[0]\n    + (useColors ? '%c ' : ' ')\n    + '+' + exports.humanize(this.diff);\n\n  if (!useColors) return;\n\n  var c = 'color: ' + this.color;\n  args.splice(1, 0, c, 'color: inherit')\n\n  // the final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-zA-Z%]/g, function(match) {\n    if ('%%' === match) return;\n    index++;\n    if ('%c' === match) {\n      // we only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n\n  args.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\nfunction log() {\n  // this hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return 'object' === typeof console\n    && console.log\n    && Function.prototype.apply.call(console.log, console, arguments);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  try {\n    if (null == namespaces) {\n      exports.storage.removeItem('debug');\n    } else {\n      exports.storage.debug = namespaces;\n    }\n  } catch(e) {}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  var r;\n  try {\n    r = exports.storage.debug;\n  } catch(e) {}\n\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n  if (!r && typeof process !== 'undefined' && 'env' in process) {\n    r = process.env.DEBUG;\n  }\n\n  return r;\n}\n\n/**\n * Enable namespaces listed in `localStorage.debug` initially.\n */\n\nexports.enable(load());\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n  try {\n    return window.localStorage;\n  } catch (e) {}\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ../waves-audio/~/debug/src/browser.js\n **/","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = createDebug.debug = createDebug['default'] = createDebug;\nexports.coerce = coerce;\nexports.disable = disable;\nexports.enable = enable;\nexports.enabled = enabled;\nexports.humanize = require('ms');\n\n/**\n * The currently active debug mode names, and names to skip.\n */\n\nexports.names = [];\nexports.skips = [];\n\n/**\n * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n *\n * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n */\n\nexports.formatters = {};\n\n/**\n * Previous log timestamp.\n */\n\nvar prevTime;\n\n/**\n * Select a color.\n * @param {String} namespace\n * @return {Number}\n * @api private\n */\n\nfunction selectColor(namespace) {\n  var hash = 0, i;\n\n  for (i in namespace) {\n    hash  = ((hash << 5) - hash) + namespace.charCodeAt(i);\n    hash |= 0; // Convert to 32bit integer\n  }\n\n  return exports.colors[Math.abs(hash) % exports.colors.length];\n}\n\n/**\n * Create a debugger with the given `namespace`.\n *\n * @param {String} namespace\n * @return {Function}\n * @api public\n */\n\nfunction createDebug(namespace) {\n\n  function debug() {\n    // disabled?\n    if (!debug.enabled) return;\n\n    var self = debug;\n\n    // set `diff` timestamp\n    var curr = +new Date();\n    var ms = curr - (prevTime || curr);\n    self.diff = ms;\n    self.prev = prevTime;\n    self.curr = curr;\n    prevTime = curr;\n\n    // turn the `arguments` into a proper Array\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n\n    args[0] = exports.coerce(args[0]);\n\n    if ('string' !== typeof args[0]) {\n      // anything else let's inspect with %O\n      args.unshift('%O');\n    }\n\n    // apply any `formatters` transformations\n    var index = 0;\n    args[0] = args[0].replace(/%([a-zA-Z%])/g, function(match, format) {\n      // if we encounter an escaped % then don't increase the array index\n      if (match === '%%') return match;\n      index++;\n      var formatter = exports.formatters[format];\n      if ('function' === typeof formatter) {\n        var val = args[index];\n        match = formatter.call(self, val);\n\n        // now we need to remove `args[index]` since it's inlined in the `format`\n        args.splice(index, 1);\n        index--;\n      }\n      return match;\n    });\n\n    // apply env-specific formatting (colors, etc.)\n    exports.formatArgs.call(self, args);\n\n    var logFn = debug.log || exports.log || console.log.bind(console);\n    logFn.apply(self, args);\n  }\n\n  debug.namespace = namespace;\n  debug.enabled = exports.enabled(namespace);\n  debug.useColors = exports.useColors();\n  debug.color = selectColor(namespace);\n\n  // env-specific initialization logic for debug instances\n  if ('function' === typeof exports.init) {\n    exports.init(debug);\n  }\n\n  return debug;\n}\n\n/**\n * Enables a debug mode by namespaces. This can include modes\n * separated by a colon and wildcards.\n *\n * @param {String} namespaces\n * @api public\n */\n\nfunction enable(namespaces) {\n  exports.save(namespaces);\n\n  exports.names = [];\n  exports.skips = [];\n\n  var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n  var len = split.length;\n\n  for (var i = 0; i < len; i++) {\n    if (!split[i]) continue; // ignore empty strings\n    namespaces = split[i].replace(/\\*/g, '.*?');\n    if (namespaces[0] === '-') {\n      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n    } else {\n      exports.names.push(new RegExp('^' + namespaces + '$'));\n    }\n  }\n}\n\n/**\n * Disable debug output.\n *\n * @api public\n */\n\nfunction disable() {\n  exports.enable('');\n}\n\n/**\n * Returns true if the given mode name is enabled, false otherwise.\n *\n * @param {String} name\n * @return {Boolean}\n * @api public\n */\n\nfunction enabled(name) {\n  var i, len;\n  for (i = 0, len = exports.skips.length; i < len; i++) {\n    if (exports.skips[i].test(name)) {\n      return false;\n    }\n  }\n  for (i = 0, len = exports.names.length; i < len; i++) {\n    if (exports.names[i].test(name)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Coerce `val`.\n *\n * @param {Mixed} val\n * @return {Mixed}\n * @api private\n */\n\nfunction coerce(val) {\n  if (val instanceof Error) return val.stack || val.message;\n  return val;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ../waves-audio/~/debug/src/debug.js\n **/","/**\n * Helpers.\n */\n\nvar s = 1000\nvar m = s * 60\nvar h = m * 60\nvar d = h * 24\nvar y = d * 365.25\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function (val, options) {\n  options = options || {}\n  var type = typeof val\n  if (type === 'string' && val.length > 0) {\n    return parse(val)\n  } else if (type === 'number' && isNaN(val) === false) {\n    return options.long ?\n\t\t\tfmtLong(val) :\n\t\t\tfmtShort(val)\n  }\n  throw new Error('val is not a non-empty string or a valid number. val=' + JSON.stringify(val))\n}\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str)\n  if (str.length > 10000) {\n    return\n  }\n  var match = /^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(str)\n  if (!match) {\n    return\n  }\n  var n = parseFloat(match[1])\n  var type = (match[2] || 'ms').toLowerCase()\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n\n    default:\n      return undefined\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  if (ms >= d) {\n    return Math.round(ms / d) + 'd'\n  }\n  if (ms >= h) {\n    return Math.round(ms / h) + 'h'\n  }\n  if (ms >= m) {\n    return Math.round(ms / m) + 'm'\n  }\n  if (ms >= s) {\n    return Math.round(ms / s) + 's'\n  }\n  return ms + 'ms'\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  return plural(ms, d, 'day') ||\n    plural(ms, h, 'hour') ||\n    plural(ms, m, 'minute') ||\n    plural(ms, s, 'second') ||\n    ms + ' ms'\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, n, name) {\n  if (ms < n) {\n    return\n  }\n  if (ms < n * 1.5) {\n    return Math.floor(ms / n) + ' ' + name\n  }\n  return Math.ceil(ms / n) + ' ' + name + 's'\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ../waves-audio/~/ms/index.js\n **/","import debug from 'debug';\nimport defaultAudioContext from '../core/audio-context';\nimport TimeEngine from '../core/time-engine';\n\nconst log = debug('wavesjs:audio');\n\nexport default class SimpleScheduler {\n  constructor(options = {}) {\n    this.audioContext = options.audioContext || defaultAudioContext;\n\n    this.__engines = new Set();\n\n    this.__schedEngines = [];\n    this.__schedTimes = [];\n\n    this.__currentTime = null;\n    this.__timeout = null;\n\n    /**\n     * scheduler (setTimeout) period\n     * @type {Number}\n     */\n    this.period = options.period || 0.025;\n\n    /**\n     * scheduler lookahead time (> period)\n     * @type {Number}\n     */\n    this.lookahead = options.lookahead || 0.1;\n  }\n\n  __scheduleEngine(engine, time) {\n    this.__schedEngines.push(engine);\n    this.__schedTimes.push(time);\n  }\n\n  __rescheduleEngine(engine, time) {\n    var index = this.__schedEngines.indexOf(engine);\n\n    if (index >= 0) {\n      if (time !== Infinity) {\n        this.__schedTimes[index] = time;\n      } else {\n        this.__schedEngines.splice(index, 1);\n        this.__schedTimes.splice(index, 1);\n      }\n    } else if (time < Infinity) {\n      this.__schedEngines.push(engine);\n      this.__schedTimes.push(time);\n    }\n  }\n\n  __unscheduleEngine(engine) {\n    var index = this.__schedEngines.indexOf(engine);\n\n    if (index >= 0) {\n      this.__schedEngines.splice(index, 1);\n      this.__schedTimes.splice(index, 1);\n    }\n  }\n\n  __resetTick() {\n    if (this.__schedEngines.length > 0) {\n      if (!this.__timeout) {\n        log('SimpleScheduler Start');\n        this.__tick();\n      }\n    } else if (this.__timeout) {\n      log('SimpleScheduler Stop');\n      clearTimeout(this.__timeout);\n      this.__timeout = null;\n    }\n  }\n\n  __tick() {\n    var audioContext = this.audioContext;\n    var currentTime = audioContext.currentTime;\n    var i = 0;\n\n    while (i < this.__schedEngines.length) {\n      var engine = this.__schedEngines[i];\n      var time = this.__schedTimes[i];\n\n      while (time && time <= currentTime + this.lookahead) {\n        time = Math.max(time, currentTime);\n        this.__currentTime = time;\n        time = engine.advanceTime(time);\n      }\n\n      if (time && time < Infinity) {\n        this.__schedTimes[i++] = time;\n      } else {\n        this.__unscheduleEngine(engine);\n\n        // remove engine from scheduler\n        if (!time) {\n          engine.master = null;\n          this.__engines.delete(engine);\n        }\n      }\n    }\n\n    this.__currentTime = null;\n    this.__timeout = null;\n\n    if (this.__schedEngines.length > 0) {\n      this.__timeout = setTimeout(() => {\n        this.__tick();\n      }, this.period * 1000);\n    }\n  }\n\n  get currentTime() {\n    return this.__currentTime || this.audioContext.currentTime + this.lookahead;\n  }\n\n  get currentPosition() {\n    return undefined;\n  }\n\n  // call a function at a given time\n  defer(fun, time = this.currentTime) {\n    if (!(fun instanceof Function))\n      throw new Error(\"object cannot be defered by scheduler\");\n\n    this.add({\n      advanceTime: function(time) { fun(time); }, // make sur that the advanceTime method does not returm anything\n    }, time);\n  }\n\n  // add a time engine to the scheduler\n  add(engine, time = this.currentTime) {\n    if (!TimeEngine.implementsScheduled(engine))\n      throw new Error(\"object cannot be added to scheduler\");\n\n    if (engine.master)\n      throw new Error(\"object has already been added to a master\");\n\n    // set master and add to array\n    engine.master = this;\n    this.__engines.add(engine);\n\n    // schedule engine\n    this.__scheduleEngine(engine, time);\n    this.__resetTick();\n  }\n\n  remove(engine) {\n    if (!engine.master || engine.master !== this)\n      throw new Error(\"engine has not been added to this scheduler\");\n\n    // reset master and remove from array\n    engine.master = null;\n    this.__engines.delete(engine);\n\n    // unschedule engine\n    this.__unscheduleEngine(engine);\n    this.__resetTick();\n  }\n\n  resetEngineTime(engine, time = this.currentTime) {\n    this.__rescheduleEngine(engine, time);\n    this.__resetTick();\n  }\n\n  // check whether a given engine is scheduled\n  has(engine) {\n    return this.__engines.has(engine);\n  }\n\n  clear() {\n    if (this.__timeout) {\n      clearTimeout(this.__timeout);\n      this.__timeout = null;\n    }\n\n    this.__schedEngines.length = 0;\n    this.__schedTimes.length = 0;\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ../waves-audio/src/masters/simple-scheduler.js\n **/","import defaultAudioContext from '../core/audio-context';\nimport PriorityQueue from '../core/priority-queue';\nimport SchedulingQueue from '../core/scheduling-queue';\nimport TimeEngine from '../core/time-engine';\nimport { getScheduler } from './factories';\n\n\nfunction addDuplet(firstArray, secondArray, firstElement, secondElement) {\n  firstArray.push(firstElement);\n  secondArray.push(secondElement);\n}\n\nfunction removeDuplet(firstArray, secondArray, firstElement) {\n  const index = firstArray.indexOf(firstElement);\n\n  if (index >= 0) {\n    const secondElement = secondArray[index];\n\n    firstArray.splice(index, 1);\n    secondArray.splice(index, 1);\n\n    return secondElement;\n  }\n\n  return null;\n}\n\n// The Transported call is the base class of the adapters between\n// different types of engines (i.e. transported, scheduled, play-controlled)\n// The adapters are at the same time masters for the engines added to the transport\n// and transported TimeEngines inserted into the transport's position-based pritority queue.\nclass Transported extends TimeEngine {\n  constructor(transport, engine, start, duration, offset, stretch = 1) {\n    super();\n    this.master = transport;\n\n    this.__engine = engine;\n    engine.master = this;\n\n    this.__startPosition = start;\n    this.__endPosition = !isFinite(duration) ? Infinity : start + duration;\n    this.__offsetPosition = start + offset;\n    this.__stretchPosition = stretch;\n    this.__isRunning = false;\n  }\n\n  setBoundaries(start, duration, offset = 0, stretch = 1) {\n    this.__startPosition = start;\n    this.__endPosition = start + duration;\n    this.__offsetPosition = start + offset;\n    this.__stretchPosition = stretch;\n    this.resetPosition();\n  }\n\n  start(time, position, speed) {}\n  stop(time, position) {}\n\n  get currentTime() {\n    return this.master.currentTime;\n  }\n\n  get currentPosition() {\n    return this.master.currentPosition - this.__offsetPosition;\n  }\n\n  resetPosition(position) {\n    if (position !== undefined)\n      position += this.__offsetPosition;\n\n    this.master.resetEnginePosition(this, position);\n  }\n\n  syncPosition(time, position, speed) {\n    if (speed > 0) {\n      if (position < this.__startPosition) {\n\n        if (this.__isRunning)\n          this.stop(time, position - this.__offsetPosition);\n\n        this.__isRunning = false;\n        return this.__startPosition;\n      } else if (position < this.__endPosition) {\n        this.start(time, position - this.__offsetPosition, speed);\n\n        this.__isRunning = true;\n        return this.__endPosition;\n      }\n    } else {\n      if (position > this.__endPosition) {\n        if (this.__isRunning) // if engine is running\n          this.stop(time, position - this.__offsetPosition);\n\n        this.__isRunning = false;\n        return this.__endPosition;\n      } else if (position > this.__startPosition) {\n        this.start(time, position - this.__offsetPosition, speed);\n\n        this.__isRunning = true;\n        return this.__startPosition;\n      }\n    }\n\n    if (this.__isRunning) // if engine is running\n      this.stop(time, position);\n\n    this.__isRunning = false;\n    return Infinity * speed;\n  }\n\n  advancePosition(time, position, speed) {\n    if (!this.__isRunning) {\n      this.start(time, position - this.__offsetPosition, speed);\n      this.__isRunning = true;\n\n      if (speed > 0)\n        return this.__endPosition;\n\n      return this.__startPosition;\n    }\n\n    // stop engine\n    this.stop(time, position - this.__offsetPosition);\n\n    this.__isRunning = false;\n    return Infinity * speed;\n  }\n\n  syncSpeed(time, position, speed) {\n    if (speed === 0) // stop\n      this.stop(time, position - this.__offsetPosition);\n  }\n\n  destroy() {\n    this.master = null;\n\n    this.__engine.master = null;\n    this.__engine = null;\n  }\n}\n\n// TransportedTransported\n// has to switch on and off the scheduled engines when the transport hits the engine's start and end position\nclass TransportedTransported extends Transported {\n  constructor(transport, engine, startPosition, endPosition, offsetPosition) {\n    super(transport, engine, startPosition, endPosition, offsetPosition);\n  }\n\n  syncPosition(time, position, speed) {\n    if (speed > 0 && position < this.__endPosition)\n      position = Math.max(position, this.__startPosition);\n    else if (speed < 0 && position >= this.__startPosition)\n      position = Math.min(position, this.__endPosition);\n\n    return this.__offsetPosition + this.__engine.syncPosition(time, position - this.__offsetPosition, speed);\n  }\n\n  advancePosition(time, position, speed) {\n    position = this.__offsetPosition + this.__engine.advancePosition(time, position - this.__offsetPosition, speed);\n\n    if (speed > 0 && position < this.__endPosition || speed < 0 && position >= this.__startPosition)\n      return position;\n\n    return Infinity * speed;\n  }\n\n  syncSpeed(time, position, speed) {\n    if (this.__engine.syncSpeed)\n      this.__engine.syncSpeed(time, position, speed);\n  }\n\n  resetEnginePosition(engine, position = undefined) {\n    if (position !== undefined)\n      position += this.__offsetPosition;\n\n    this.resetPosition(position);\n  }\n}\n\n// TransportedSpeedControlled\n// has to start and stop the speed-controlled engines when the transport hits the engine's start and end position\nclass TransportedSpeedControlled extends Transported {\n  constructor(transport, engine, startPosition, endPosition, offsetPosition) {\n    super(transport, engine, startPosition, endPosition, offsetPosition);\n  }\n\n  start(time, position, speed) {\n    this.__engine.syncSpeed(time, position, speed, true);\n  }\n\n  stop(time, position) {\n    this.__engine.syncSpeed(time, position, 0);\n  }\n\n  syncSpeed(time, position, speed) {\n    if (this.__isRunning)\n      this.__engine.syncSpeed(time, position, speed);\n  }\n\n  destroy() {\n    this.__engine.syncSpeed(this.master.currentTime, this.master.currentPosition - this.__offsetPosition, 0);\n    super.destroy();\n  }\n}\n\n// TransportedScheduled\n// has to switch on and off the scheduled engines when the transport hits the engine's start and end position\nclass TransportedScheduled extends Transported {\n  constructor(transport, engine, startPosition, endPosition, offsetPosition) {\n    super(transport, engine, startPosition, endPosition, offsetPosition);\n\n    // scheduling queue becomes master of engine\n    engine.master = null;\n    transport.__schedulingQueue.add(engine, Infinity);\n  }\n\n  start(time, position, speed) {\n    this.master.__schedulingQueue.resetEngineTime(this.__engine, time);\n  }\n\n  stop(time, position) {\n    this.master.__schedulingQueue.resetEngineTime(this.__engine, Infinity);\n  }\n\n  destroy() {\n    this.master.__schedulingQueue.remove(this.__engine);\n    super.destroy();\n  }\n}\n\n// translates advancePosition of *transported* engines into global scheduler times\nclass TransportSchedulerHook extends TimeEngine {\n  constructor(transport) {\n    super();\n\n    this.__transport = transport;\n\n    this.__nextPosition = Infinity;\n    this.__nextTime = Infinity;\n    transport.__scheduler.add(this, Infinity);\n  }\n\n  // TimeEngine method (scheduled interface)\n  advanceTime(time) {\n    const transport = this.__transport;\n    const position = this.__nextPosition;\n    const speed = transport.__speed;\n    const nextPosition = transport.advancePosition(time, position, speed);\n    const nextTime = transport.__getTimeAtPosition(nextPosition);\n\n    this.__nextPosition = nextPosition;\n    this.__nextTime = nextTime;\n\n    return nextTime;\n  }\n\n  resetPosition(position = this.__nextPosition) {\n    const transport = this.__transport;\n    const time = transport.__getTimeAtPosition(position);\n\n    this.__nextPosition = position;\n    this.__nextTime = time;\n\n    this.resetTime(time);\n  }\n\n  destroy() {\n    this.__transport.__scheduler.remove(this);\n    this.__transport = null;\n  }\n}\n\n// internal scheduling queue that returns the current position (and time) of the play control\nclass TransportSchedulingQueue extends SchedulingQueue {\n  constructor(transport) {\n    super();\n\n    this.__transport = transport;\n    transport.__scheduler.add(this, Infinity);\n  }\n\n  get currentTime() {\n    return this.__transport.currentTime;\n  }\n\n  get currentPosition() {\n    return this.__transport.currentPosition;\n  }\n\n  destroy() {\n    this.__transport.__scheduler.remove(this);\n    this.__transport = null;\n  }\n}\n\n/**\n * Transport class\n */\nexport default class Transport extends TimeEngine {\n  constructor(options = {}) {\n    super();\n\n    this.audioContext = options.audioContext || defaultAudioContext;\n\n    this.__engines = [];\n    this.__transported = [];\n\n    this.__scheduler = getScheduler(this.audioContext);\n    this.__schedulerHook = new TransportSchedulerHook(this);\n    this.__transportedQueue = new PriorityQueue();\n    this.__schedulingQueue = new TransportSchedulingQueue(this);\n\n    // syncronized time, position, and speed\n    this.__time = 0;\n    this.__position = 0;\n    this.__speed = 0;\n  }\n\n  __getTimeAtPosition(position) {\n    return this.__time + (position - this.__position) / this.__speed;\n  }\n\n  __getPositionAtTime(time) {\n    return this.__position + (time - this.__time) * this.__speed;\n  }\n\n  __syncTransportedPosition(time, position, speed) {\n    const numTransportedEngines = this.__transported.length;\n    let nextPosition = Infinity * speed;\n\n    if (numTransportedEngines > 0) {\n      this.__transportedQueue.clear();\n      this.__transportedQueue.reverse = (speed < 0);\n\n      for (let i = 0; i < numTransportedEngines; i++) {\n        const engine = this.__transported[i];\n        const nextEnginePosition = engine.syncPosition(time, position, speed);\n        this.__transportedQueue.insert(engine, nextEnginePosition);\n      }\n\n      nextPosition = this.__transportedQueue.time;\n    }\n\n    return nextPosition;\n  }\n\n  __syncTransportedSpeed(time, position, speed) {\n    for (let transported of this.__transported)\n      transported.syncSpeed(time, position, speed);\n  }\n\n  /**\n   * Get current master time\n   * @return {Number} current time\n   *\n   * This function will be replaced when the transport is added to a master (i.e. transport or play-control).\n   */\n  get currentTime() {\n    return this.__scheduler.currentTime;\n  }\n\n  /**\n   * Get current master position\n   * @return {Number} current playing position\n   *\n   * This function will be replaced when the transport is added to a master (i.e. transport or play-control).\n   */\n  get currentPosition() {\n    const master = this.master;\n\n    if (master && master.currentPosition !== undefined)\n      return master.currentPosition;\n\n    return this.__position + (this.__scheduler.currentTime - this.__time) * this.__speed;\n  }\n\n  /**\n   * Reset next transport position\n   * @param {Number} next transport position\n   */\n  resetPosition(position) {\n    const master = this.master;\n\n    if (master && master.resetEnginePosition !== undefined)\n      master.resetEnginePosition(this, position);\n    else\n      this.__schedulerHook.resetPosition(position);\n  }\n\n  // TimeEngine method (transported interface)\n  syncPosition(time, position, speed) {\n    this.__time = time;\n    this.__position = position;\n    this.__speed = speed;\n\n    return this.__syncTransportedPosition(time, position, speed);\n  }\n\n  // TimeEngine method (transported interface)\n  advancePosition(time, position, speed) {\n    const engine = this.__transportedQueue.head;\n    const nextEnginePosition = engine.advancePosition(time, position, speed);\n    return this.__transportedQueue.move(engine, nextEnginePosition);\n  }\n\n  // TimeEngine method (speed-controlled interface)\n  syncSpeed(time, position, speed, seek = false) {\n    const lastSpeed = this.__speed;\n\n    this.__time = time;\n    this.__position = position;\n    this.__speed = speed;\n\n    if (speed !== lastSpeed || (seek && speed !== 0)) {\n      let nextPosition;\n\n      // resync transported engines\n      if (seek || speed * lastSpeed < 0) {\n        // seek or reverse direction\n        nextPosition = this.__syncTransportedPosition(time, position, speed);\n      } else if (lastSpeed === 0) {\n        // start\n        nextPosition = this.__syncTransportedPosition(time, position, speed);\n      } else if (speed === 0) {\n        // stop\n        nextPosition = Infinity;\n        this.__syncTransportedSpeed(time, position, 0);\n      } else {\n        // change speed without reversing direction\n        this.__syncTransportedSpeed(time, position, speed);\n      }\n\n      this.resetPosition(nextPosition);\n    }\n  }\n\n  /**\n   * Add a time engine to the transport\n   * @param {Object} engine engine to be added to the transport\n   * @param {Number} position start position\n   */\n  add(engine, startPosition = 0, endPosition = Infinity, offsetPosition = 0) {\n    let transported = null;\n\n    if (offsetPosition === -Infinity)\n      offsetPosition = 0;\n\n    if (engine.master)\n      throw new Error(\"object has already been added to a master\");\n\n    if (TimeEngine.implementsTransported(engine))\n      transported = new TransportedTransported(this, engine, startPosition, endPosition, offsetPosition);\n    else if (TimeEngine.implementsSpeedControlled(engine))\n      transported = new TransportedSpeedControlled(this, engine, startPosition, endPosition, offsetPosition);\n    else if (TimeEngine.implementsScheduled(engine))\n      transported = new TransportedScheduled(this, engine, startPosition, endPosition, offsetPosition);\n    else\n      throw new Error(\"object cannot be added to a transport\");\n\n    if (transported) {\n      const speed = this.__speed;\n\n      addDuplet(this.__engines, this.__transported, engine, transported);\n\n      if (speed !== 0) {\n        // sync and start\n        const nextEnginePosition = transported.syncPosition(this.currentTime, this.currentPosition, speed);\n        const nextPosition = this.__transportedQueue.insert(transported, nextEnginePosition);\n\n        this.resetPosition(nextPosition);\n      }\n    }\n\n    return transported;\n  }\n\n  /**\n   * Remove a time engine from the transport\n   * @param {object} engineOrTransported engine or transported to be removed from the transport\n   */\n  remove(engineOrTransported) {\n    let engine = engineOrTransported;\n    let transported = removeDuplet(this.__engines, this.__transported, engineOrTransported);\n\n    if (!transported) {\n      engine = removeDuplet(this.__transported, this.__engines, engineOrTransported);\n      transported = engineOrTransported;\n    }\n\n    if (engine && transported) {\n      const nextPosition = this.__transportedQueue.remove(transported);\n\n      transported.destroy();\n\n      if (this.__speed !== 0)\n        this.resetPosition(nextPosition);\n    } else {\n      throw new Error(\"object has not been added to this transport\");\n    }\n  }\n\n  resetEnginePosition(transported, position = undefined) {\n    const speed = this.__speed;\n\n    if (speed !== 0) {\n      if (position === undefined)\n        position = transported.syncPosition(this.currentTime, this.currentPosition, speed);\n\n      const nextPosition = this.__transportedQueue.move(transported, position);\n      this.resetPosition(nextPosition);\n    }\n  }\n\n  /**\n   * Remove all time engines from the transport\n   */\n  clear() {\n    this.syncSpeed(this.currentTime, this.currentPosition, 0);\n\n    for (let transported of this.__transported)\n      transported.destroy();\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ../waves-audio/src/masters/transport.js\n **/"],"sourceRoot":""}